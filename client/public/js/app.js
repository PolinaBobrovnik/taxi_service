/*
 AngularJS v1.5.8
 (c) 2010-2016 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(C){'use strict';function N(a){return function(){var b=arguments[0],d;d="["+(a?a+":":"")+b+"] http://errors.angularjs.org/1.5.8/"+(a?a+"/":"")+b;for(b=1;b<arguments.length;b++){d=d+(1==b?"?":"&")+"p"+(b-1)+"=";var c=encodeURIComponent,e;e=arguments[b];e="function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof e?"undefined":"string"!=typeof e?JSON.stringify(e):e;d+=c(e)}return Error(d)}}function ta(a){if(null==a||Va(a))return!1;if(L(a)||G(a)||F&&a instanceof F)return!0;
var b="length"in Object(a)&&a.length;return T(b)&&(0<=b&&(b-1 in a||a instanceof Array)||"function"==typeof a.item)}function q(a,b,d){var c,e;if(a)if(z(a))for(c in a)"prototype"==c||"length"==c||"name"==c||a.hasOwnProperty&&!a.hasOwnProperty(c)||b.call(d,a[c],c,a);else if(L(a)||ta(a)){var f="object"!==typeof a;c=0;for(e=a.length;c<e;c++)(f||c in a)&&b.call(d,a[c],c,a)}else if(a.forEach&&a.forEach!==q)a.forEach(b,d,a);else if(sc(a))for(c in a)b.call(d,a[c],c,a);else if("function"===typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&
b.call(d,a[c],c,a);else for(c in a)ua.call(a,c)&&b.call(d,a[c],c,a);return a}function tc(a,b,d){for(var c=Object.keys(a).sort(),e=0;e<c.length;e++)b.call(d,a[c[e]],c[e]);return c}function uc(a){return function(b,d){a(d,b)}}function Yd(){return++pb}function Pb(a,b,d){for(var c=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];if(D(g)||z(g))for(var h=Object.keys(g),k=0,l=h.length;k<l;k++){var m=h[k],n=g[m];d&&D(n)?da(n)?a[m]=new Date(n.valueOf()):Wa(n)?a[m]=new RegExp(n):n.nodeName?a[m]=n.cloneNode(!0):
Qb(n)?a[m]=n.clone():(D(a[m])||(a[m]=L(n)?[]:{}),Pb(a[m],[n],!0)):a[m]=n}}c?a.$$hashKey=c:delete a.$$hashKey;return a}function S(a){return Pb(a,va.call(arguments,1),!1)}function Zd(a){return Pb(a,va.call(arguments,1),!0)}function Z(a){return parseInt(a,10)}function Rb(a,b){return S(Object.create(a),b)}function A(){}function Xa(a){return a}function ha(a){return function(){return a}}function vc(a){return z(a.toString)&&a.toString!==ma}function y(a){return"undefined"===typeof a}function w(a){return"undefined"!==
typeof a}function D(a){return null!==a&&"object"===typeof a}function sc(a){return null!==a&&"object"===typeof a&&!wc(a)}function G(a){return"string"===typeof a}function T(a){return"number"===typeof a}function da(a){return"[object Date]"===ma.call(a)}function z(a){return"function"===typeof a}function Wa(a){return"[object RegExp]"===ma.call(a)}function Va(a){return a&&a.window===a}function Ya(a){return a&&a.$evalAsync&&a.$watch}function Ga(a){return"boolean"===typeof a}function $d(a){return a&&T(a.length)&&
ae.test(ma.call(a))}function Qb(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function be(a){var b={};a=a.split(",");var d;for(d=0;d<a.length;d++)b[a[d]]=!0;return b}function wa(a){return Q(a.nodeName||a[0]&&a[0].nodeName)}function Za(a,b){var d=a.indexOf(b);0<=d&&a.splice(d,1);return d}function pa(a,b){function d(a,b){var d=b.$$hashKey,e;if(L(a)){e=0;for(var f=a.length;e<f;e++)b.push(c(a[e]))}else if(sc(a))for(e in a)b[e]=c(a[e]);else if(a&&"function"===typeof a.hasOwnProperty)for(e in a)a.hasOwnProperty(e)&&
(b[e]=c(a[e]));else for(e in a)ua.call(a,e)&&(b[e]=c(a[e]));d?b.$$hashKey=d:delete b.$$hashKey;return b}function c(a){if(!D(a))return a;var b=f.indexOf(a);if(-1!==b)return g[b];if(Va(a)||Ya(a))throw xa("cpws");var b=!1,c=e(a);void 0===c&&(c=L(a)?[]:Object.create(wc(a)),b=!0);f.push(a);g.push(c);return b?d(a,c):c}function e(a){switch(ma.call(a)){case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Float32Array]":case "[object Float64Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return new a.constructor(c(a.buffer),
a.byteOffset,a.length);case "[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);(new Uint8Array(b)).set(new Uint8Array(a));return b}return a.slice(0);case "[object Boolean]":case "[object Number]":case "[object String]":case "[object Date]":return new a.constructor(a.valueOf());case "[object RegExp]":return b=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]),b.lastIndex=a.lastIndex,b;case "[object Blob]":return new a.constructor([a],{type:a.type})}if(z(a.cloneNode))return a.cloneNode(!0)}
var f=[],g=[];if(b){if($d(b)||"[object ArrayBuffer]"===ma.call(b))throw xa("cpta");if(a===b)throw xa("cpi");L(b)?b.length=0:q(b,function(a,d){"$$hashKey"!==d&&delete b[d]});f.push(a);g.push(b);return d(a,b)}return c(a)}function na(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d=typeof a,c;if(d==typeof b&&"object"==d)if(L(a)){if(!L(b))return!1;if((d=a.length)==b.length){for(c=0;c<d;c++)if(!na(a[c],b[c]))return!1;return!0}}else{if(da(a))return da(b)?na(a.getTime(),
b.getTime()):!1;if(Wa(a))return Wa(b)?a.toString()==b.toString():!1;if(Ya(a)||Ya(b)||Va(a)||Va(b)||L(b)||da(b)||Wa(b))return!1;d=U();for(c in a)if("$"!==c.charAt(0)&&!z(a[c])){if(!na(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&&"$"!==c.charAt(0)&&w(b[c])&&!z(b[c]))return!1;return!0}return!1}function $a(a,b,d){return a.concat(va.call(b,d))}function ab(a,b){var d=2<arguments.length?va.call(arguments,2):[];return!z(b)||b instanceof RegExp?b:d.length?function(){return arguments.length?b.apply(a,
$a(d,arguments,0)):b.apply(a,d)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function ce(a,b){var d=b;"string"===typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?d=void 0:Va(b)?d="$WINDOW":b&&C.document===b?d="$DOCUMENT":Ya(b)&&(d="$SCOPE");return d}function bb(a,b){if(!y(a))return T(b)||(b=b?2:null),JSON.stringify(a,ce,b)}function xc(a){return G(a)?JSON.parse(a):a}function yc(a,b){a=a.replace(de,"");var d=Date.parse("Jan 01, 1970 00:00:00 "+a)/6E4;return isNaN(d)?b:d}function Sb(a,
b,d){d=d?-1:1;var c=a.getTimezoneOffset();b=yc(b,c);d*=b-c;a=new Date(a.getTime());a.setMinutes(a.getMinutes()+d);return a}function ya(a){a=F(a).clone();try{a.empty()}catch(b){}var d=F("<div>").append(a).html();try{return a[0].nodeType===Ma?Q(d):d.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+Q(b)})}catch(c){return Q(d)}}function zc(a){try{return decodeURIComponent(a)}catch(b){}}function Ac(a){var b={};q((a||"").split("&"),function(a){var c,e,f;a&&(e=a=a.replace(/\+/g,"%20"),
c=a.indexOf("="),-1!==c&&(e=a.substring(0,c),f=a.substring(c+1)),e=zc(e),w(e)&&(f=w(f)?zc(f):!0,ua.call(b,e)?L(b[e])?b[e].push(f):b[e]=[b[e],f]:b[e]=f))});return b}function Tb(a){var b=[];q(a,function(a,c){L(a)?q(a,function(a){b.push(ea(c,!0)+(!0===a?"":"="+ea(a,!0)))}):b.push(ea(c,!0)+(!0===a?"":"="+ea(a,!0)))});return b.length?b.join("&"):""}function qb(a){return ea(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ea(a,b){return encodeURIComponent(a).replace(/%40/gi,
"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function ee(a,b){var d,c,e=Na.length;for(c=0;c<e;++c)if(d=Na[c]+b,G(d=a.getAttribute(d)))return d;return null}function fe(a,b){var d,c,e={};q(Na,function(b){b+="app";!d&&a.hasAttribute&&a.hasAttribute(b)&&(d=a,c=a.getAttribute(b))});q(Na,function(b){b+="app";var e;!d&&(e=a.querySelector("["+b.replace(":","\\:")+"]"))&&(d=e,c=e.getAttribute(b))});d&&(e.strictDi=null!==ee(d,"strict-di"),
b(d,c?[c]:[],e))}function Bc(a,b,d){D(d)||(d={});d=S({strictDi:!1},d);var c=function(){a=F(a);if(a.injector()){var c=a[0]===C.document?"document":ya(a);throw xa("btstrpd",c.replace(/</,"&lt;").replace(/>/,"&gt;"));}b=b||[];b.unshift(["$provide",function(b){b.value("$rootElement",a)}]);d.debugInfoEnabled&&b.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]);b.unshift("ng");c=cb(b,d.strictDi);c.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",
d);c(b)(a)})}]);return c},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;C&&e.test(C.name)&&(d.debugInfoEnabled=!0,C.name=C.name.replace(e,""));if(C&&!f.test(C.name))return c();C.name=C.name.replace(f,"");ca.resumeBootstrap=function(a){q(a,function(a){b.push(a)});return c()};z(ca.resumeDeferredBootstrap)&&ca.resumeDeferredBootstrap()}function ge(){C.name="NG_ENABLE_DEBUG_INFO!"+C.name;C.location.reload()}function he(a){a=ca.element(a).injector();if(!a)throw xa("test");return a.get("$$testability")}
function Cc(a,b){b=b||"_";return a.replace(ie,function(a,c){return(c?b:"")+a.toLowerCase()})}function je(){var a;if(!Dc){var b=rb();(qa=y(b)?C.jQuery:b?C[b]:void 0)&&qa.fn.on?(F=qa,S(qa.fn,{scope:Oa.scope,isolateScope:Oa.isolateScope,controller:Oa.controller,injector:Oa.injector,inheritedData:Oa.inheritedData}),a=qa.cleanData,qa.cleanData=function(b){for(var c,e=0,f;null!=(f=b[e]);e++)(c=qa._data(f,"events"))&&c.$destroy&&qa(f).triggerHandler("$destroy");a(b)}):F=O;ca.element=F;Dc=!0}}function sb(a,
b,d){if(!a)throw xa("areq",b||"?",d||"required");return a}function Pa(a,b,d){d&&L(a)&&(a=a[a.length-1]);sb(z(a),b,"not a function, got "+(a&&"object"===typeof a?a.constructor.name||"Object":typeof a));return a}function Qa(a,b){if("hasOwnProperty"===a)throw xa("badname",b);}function Ec(a,b,d){if(!b)return a;b=b.split(".");for(var c,e=a,f=b.length,g=0;g<f;g++)c=b[g],a&&(a=(e=a)[c]);return!d&&z(a)?ab(e,a):a}function tb(a){for(var b=a[0],d=a[a.length-1],c,e=1;b!==d&&(b=b.nextSibling);e++)if(c||a[e]!==
b)c||(c=F(va.call(a,0,e))),c.push(b);return c||a}function U(){return Object.create(null)}function ke(a){function b(a,b,c){return a[b]||(a[b]=c())}var d=N("$injector"),c=N("ng");a=b(a,"angular",Object);a.$$minErr=a.$$minErr||N;return b(a,"module",function(){var a={};return function(f,g,h){if("hasOwnProperty"===f)throw c("badname","module");g&&a.hasOwnProperty(f)&&(a[f]=null);return b(a,f,function(){function a(b,d,e,f){f||(f=c);return function(){f[e||"push"]([b,d,arguments]);return R}}function b(a,
d){return function(b,e){e&&z(e)&&(e.$$moduleName=f);c.push([a,d,arguments]);return R}}if(!g)throw d("nomod",f);var c=[],e=[],p=[],u=a("$injector","invoke","push",e),R={_invokeQueue:c,_configBlocks:e,_runBlocks:p,requires:g,name:f,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator"),animation:b("$animateProvider","register"),filter:b("$filterProvider",
"register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),component:b("$compileProvider","component"),config:u,run:function(a){p.push(a);return this}};h&&u(h);return R})}})}function ia(a,b){if(L(a)){b=b||[];for(var d=0,c=a.length;d<c;d++)b[d]=a[d]}else if(D(a))for(d in b=b||{},a)if("$"!==d.charAt(0)||"$"!==d.charAt(1))b[d]=a[d];return b||a}function le(a){S(a,{bootstrap:Bc,copy:pa,extend:S,merge:Zd,equals:na,element:F,forEach:q,injector:cb,noop:A,bind:ab,
toJson:bb,fromJson:xc,identity:Xa,isUndefined:y,isDefined:w,isString:G,isFunction:z,isObject:D,isNumber:T,isElement:Qb,isArray:L,version:me,isDate:da,lowercase:Q,uppercase:ub,callbacks:{$$counter:0},getTestability:he,$$minErr:N,$$csp:Ba,reloadWithDebugInfo:ge});Ub=ke(C);Ub("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:ne});a.provider("$compile",Fc).directive({a:oe,input:Gc,textarea:Gc,form:pe,script:qe,select:re,style:se,option:te,ngBind:ue,ngBindHtml:ve,ngBindTemplate:we,ngClass:xe,
ngClassEven:ye,ngClassOdd:ze,ngCloak:Ae,ngController:Be,ngForm:Ce,ngHide:De,ngIf:Ee,ngInclude:Fe,ngInit:Ge,ngNonBindable:He,ngPluralize:Ie,ngRepeat:Je,ngShow:Ke,ngStyle:Le,ngSwitch:Me,ngSwitchWhen:Ne,ngSwitchDefault:Oe,ngOptions:Pe,ngTransclude:Qe,ngModel:Re,ngList:Se,ngChange:Te,pattern:Hc,ngPattern:Hc,required:Ic,ngRequired:Ic,minlength:Jc,ngMinlength:Jc,maxlength:Kc,ngMaxlength:Kc,ngValue:Ue,ngModelOptions:Ve}).directive({ngInclude:We}).directive(vb).directive(Lc);a.provider({$anchorScroll:Xe,
$animate:Ye,$animateCss:Ze,$$animateJs:$e,$$animateQueue:af,$$AnimateRunner:bf,$$animateAsyncRun:cf,$browser:df,$cacheFactory:ef,$controller:ff,$document:gf,$exceptionHandler:hf,$filter:Mc,$$forceReflow:jf,$interpolate:kf,$interval:lf,$http:mf,$httpParamSerializer:nf,$httpParamSerializerJQLike:of,$httpBackend:pf,$xhrFactory:qf,$jsonpCallbacks:rf,$location:sf,$log:tf,$parse:uf,$rootScope:vf,$q:wf,$$q:xf,$sce:yf,$sceDelegate:zf,$sniffer:Af,$templateCache:Bf,$templateRequest:Cf,$$testability:Df,$timeout:Ef,
$window:Ff,$$rAF:Gf,$$jqLite:Hf,$$HashMap:If,$$cookieReader:Jf})}])}function db(a){return a.replace(Kf,function(a,d,c,e){return e?c.toUpperCase():c}).replace(Lf,"Moz$1")}function Nc(a){a=a.nodeType;return 1===a||!a||9===a}function Oc(a,b){var d,c,e=b.createDocumentFragment(),f=[];if(Vb.test(a)){d=e.appendChild(b.createElement("div"));c=(Mf.exec(a)||["",""])[1].toLowerCase();c=ja[c]||ja._default;d.innerHTML=c[1]+a.replace(Nf,"<$1></$2>")+c[2];for(c=c[0];c--;)d=d.lastChild;f=$a(f,d.childNodes);d=e.firstChild;
d.textContent=""}else f.push(b.createTextNode(a));e.textContent="";e.innerHTML="";q(f,function(a){e.appendChild(a)});return e}function Pc(a,b){var d=a.parentNode;d&&d.replaceChild(b,a);b.appendChild(a)}function O(a){if(a instanceof O)return a;var b;G(a)&&(a=W(a),b=!0);if(!(this instanceof O)){if(b&&"<"!=a.charAt(0))throw Wb("nosel");return new O(a)}if(b){b=C.document;var d;a=(d=Of.exec(a))?[b.createElement(d[1])]:(d=Oc(a,b))?d.childNodes:[]}Qc(this,a)}function Xb(a){return a.cloneNode(!0)}function wb(a,
b){b||eb(a);if(a.querySelectorAll)for(var d=a.querySelectorAll("*"),c=0,e=d.length;c<e;c++)eb(d[c])}function Rc(a,b,d,c){if(w(c))throw Wb("offargs");var e=(c=xb(a))&&c.events,f=c&&c.handle;if(f)if(b){var g=function(b){var c=e[b];w(d)&&Za(c||[],d);w(d)&&c&&0<c.length||(a.removeEventListener(b,f,!1),delete e[b])};q(b.split(" "),function(a){g(a);yb[a]&&g(yb[a])})}else for(b in e)"$destroy"!==b&&a.removeEventListener(b,f,!1),delete e[b]}function eb(a,b){var d=a.ng339,c=d&&fb[d];c&&(b?delete c.data[b]:
(c.handle&&(c.events.$destroy&&c.handle({},"$destroy"),Rc(a)),delete fb[d],a.ng339=void 0))}function xb(a,b){var d=a.ng339,d=d&&fb[d];b&&!d&&(a.ng339=d=++Pf,d=fb[d]={events:{},data:{},handle:void 0});return d}function Yb(a,b,d){if(Nc(a)){var c=w(d),e=!c&&b&&!D(b),f=!b;a=(a=xb(a,!e))&&a.data;if(c)a[b]=d;else{if(f)return a;if(e)return a&&a[b];S(a,b)}}}function zb(a,b){return a.getAttribute?-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" "):!1}function Ab(a,b){b&&a.setAttribute&&
q(b.split(" "),function(b){a.setAttribute("class",W((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+W(b)+" "," ")))})}function Bb(a,b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");q(b.split(" "),function(a){a=W(a);-1===d.indexOf(" "+a+" ")&&(d+=a+" ")});a.setAttribute("class",W(d))}}function Qc(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var d=b.length;if("number"===typeof d&&b.window!==b){if(d)for(var c=0;c<d;c++)a[a.length++]=
b[c]}else a[a.length++]=b}}function Sc(a,b){return Cb(a,"$"+(b||"ngController")+"Controller")}function Cb(a,b,d){9==a.nodeType&&(a=a.documentElement);for(b=L(b)?b:[b];a;){for(var c=0,e=b.length;c<e;c++)if(w(d=F.data(a,b[c])))return d;a=a.parentNode||11===a.nodeType&&a.host}}function Tc(a){for(wb(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Db(a,b){b||wb(a);var d=a.parentNode;d&&d.removeChild(a)}function Qf(a,b){b=b||C;if("complete"===b.document.readyState)b.setTimeout(a);else F(b).on("load",
a)}function Uc(a,b){var d=Eb[b.toLowerCase()];return d&&Vc[wa(a)]&&d}function Rf(a,b){var d=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=b[d||c.type],g=f?f.length:0;if(g){if(y(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();h&&h.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};var k=f.specialHandlerWrapper||
Sf;1<g&&(f=ia(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||k(a,c,f[l])}};d.elem=a;return d}function Sf(a,b,d){d.call(a,b)}function Tf(a,b,d){var c=b.relatedTarget;c&&(c===a||Uf.call(a,c))||d.call(a,b)}function Hf(){this.$get=function(){return S(O,{hasClass:function(a,b){a.attr&&(a=a[0]);return zb(a,b)},addClass:function(a,b){a.attr&&(a=a[0]);return Bb(a,b)},removeClass:function(a,b){a.attr&&(a=a[0]);return Ab(a,b)}})}}function Ca(a,b){var d=a&&a.$$hashKey;if(d)return"function"===typeof d&&
(d=a.$$hashKey()),d;d=typeof a;return d="function"==d||"object"==d&&null!==a?a.$$hashKey=d+":"+(b||Yd)():d+":"+a}function Ra(a,b){if(b){var d=0;this.nextUid=function(){return++d}}q(a,this.put,this)}function Wc(a){a=(Function.prototype.toString.call(a)+" ").replace(Vf,"");return a.match(Wf)||a.match(Xf)}function Yf(a){return(a=Wc(a))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function cb(a,b){function d(a){return function(b,c){if(D(b))q(b,uc(a));else return a(b,c)}}function c(a,b){Qa(a,
"service");if(z(b)||L(b))b=p.instantiate(b);if(!b.$get)throw Ha("pget",a);return n[a+"Provider"]=b}function e(a,b){return function(){var c=B.invoke(b,this);if(y(c))throw Ha("undef",a);return c}}function f(a,b,d){return c(a,{$get:!1!==d?e(a,b):b})}function g(a){sb(y(a)||L(a),"modulesToLoad","not an array");var b=[],c;q(a,function(a){function d(a){var b,c;b=0;for(c=a.length;b<c;b++){var e=a[b],f=p.get(e[0]);f[e[1]].apply(f,e[2])}}if(!m.get(a)){m.put(a,!0);try{G(a)?(c=Ub(a),b=b.concat(g(c.requires)).concat(c._runBlocks),
d(c._invokeQueue),d(c._configBlocks)):z(a)?b.push(p.invoke(a)):L(a)?b.push(p.invoke(a)):Pa(a,"module")}catch(e){throw L(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Ha("modulerr",a,e.stack||e.message||e);}}});return b}function h(a,c){function d(b,e){if(a.hasOwnProperty(b)){if(a[b]===k)throw Ha("cdep",b+" <- "+l.join(" <- "));return a[b]}try{return l.unshift(b),a[b]=k,a[b]=c(b,e)}catch(f){throw a[b]===k&&delete a[b],f;}finally{l.shift()}}function e(a,
c,f){var g=[];a=cb.$$annotate(a,b,f);for(var h=0,k=a.length;h<k;h++){var l=a[h];if("string"!==typeof l)throw Ha("itkn",l);g.push(c&&c.hasOwnProperty(l)?c[l]:d(l,f))}return g}return{invoke:function(a,b,c,d){"string"===typeof c&&(d=c,c=null);c=e(a,c,d);L(a)&&(a=a[a.length-1]);d=11>=Ea?!1:"function"===typeof a&&/^(?:class\b|constructor\()/.test(Function.prototype.toString.call(a)+" ");return d?(c.unshift(null),new (Function.prototype.bind.apply(a,c))):a.apply(b,c)},instantiate:function(a,b,c){var d=
L(a)?a[a.length-1]:a;a=e(a,b,c);a.unshift(null);return new (Function.prototype.bind.apply(d,a))},get:d,annotate:cb.$$annotate,has:function(b){return n.hasOwnProperty(b+"Provider")||a.hasOwnProperty(b)}}}b=!0===b;var k={},l=[],m=new Ra([],!0),n={$provide:{provider:d(c),factory:d(f),service:d(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return f(a,ha(b),!1)}),constant:d(function(a,b){Qa(a,"constant");n[a]=b;u[a]=b}),decorator:function(a,b){var c=
p.get(a+"Provider"),d=c.$get;c.$get=function(){var a=B.invoke(d,c);return B.invoke(b,null,{$delegate:a})}}}},p=n.$injector=h(n,function(a,b){ca.isString(b)&&l.push(b);throw Ha("unpr",l.join(" <- "));}),u={},R=h(u,function(a,b){var c=p.get(a+"Provider",b);return B.invoke(c.$get,c,void 0,a)}),B=R;n.$injectorProvider={$get:ha(R)};var r=g(a),B=R.get("$injector");B.strictDi=b;q(r,function(a){a&&B.invoke(a)});return B}function Xe(){var a=!0;this.disableAutoScrolling=function(){a=!1};this.$get=["$window",
"$location","$rootScope",function(b,d,c){function e(a){var b=null;Array.prototype.some.call(a,function(a){if("a"===wa(a))return b=a,!0});return b}function f(a){if(a){a.scrollIntoView();var c;c=g.yOffset;z(c)?c=c():Qb(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):T(c)||(c=0);c&&(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))}else b.scrollTo(0,0)}function g(a){a=G(a)?a:d.hash();var b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):"top"===
a&&f(null):f(null)}var h=b.document;a&&c.$watch(function(){return d.hash()},function(a,b){a===b&&""===a||Qf(function(){c.$evalAsync(g)})});return g}]}function gb(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;L(a)&&(a=a.join(" "));L(b)&&(b=b.join(" "));return a+" "+b}function Zf(a){G(a)&&(a=a.split(" "));var b=U();q(a,function(a){a.length&&(b[a]=!0)});return b}function Ia(a){return D(a)?a:{}}function $f(a,b,d,c){function e(a){try{a.apply(null,va.call(arguments,1))}finally{if(R--,0===R)for(;B.length;)try{B.pop()()}catch(b){d.error(b)}}}
function f(){t=null;g();h()}function g(){r=K();r=y(r)?null:r;na(r,E)&&(r=E);E=r}function h(){if(v!==k.url()||J!==r)v=k.url(),J=r,q(M,function(a){a(k.url(),r)})}var k=this,l=a.location,m=a.history,n=a.setTimeout,p=a.clearTimeout,u={};k.isMock=!1;var R=0,B=[];k.$$completeOutstandingRequest=e;k.$$incOutstandingRequestCount=function(){R++};k.notifyWhenNoOutstandingRequests=function(a){0===R?a():B.push(a)};var r,J,v=l.href,fa=b.find("base"),t=null,K=c.history?function(){try{return m.state}catch(a){}}:
A;g();J=r;k.url=function(b,d,e){y(e)&&(e=null);l!==a.location&&(l=a.location);m!==a.history&&(m=a.history);if(b){var f=J===e;if(v===b&&(!c.history||f))return k;var h=v&&Ja(v)===Ja(b);v=b;J=e;!c.history||h&&f?(h||(t=b),d?l.replace(b):h?(d=l,e=b.indexOf("#"),e=-1===e?"":b.substr(e),d.hash=e):l.href=b,l.href!==b&&(t=b)):(m[d?"replaceState":"pushState"](e,"",b),g(),J=r);t&&(t=b);return k}return t||l.href.replace(/%27/g,"'")};k.state=function(){return r};var M=[],H=!1,E=null;k.onUrlChange=function(b){if(!H){if(c.history)F(a).on("popstate",
f);F(a).on("hashchange",f);H=!0}M.push(b);return b};k.$$applicationDestroyed=function(){F(a).off("hashchange popstate",f)};k.$$checkUrlChange=h;k.baseHref=function(){var a=fa.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};k.defer=function(a,b){var c;R++;c=n(function(){delete u[c];e(a)},b||0);u[c]=!0;return c};k.defer.cancel=function(a){return u[a]?(delete u[a],p(a),e(A),!0):!1}}function df(){this.$get=["$window","$log","$sniffer","$document",function(a,b,d,c){return new $f(a,c,b,
d)}]}function ef(){this.$get=function(){function a(a,c){function e(a){a!=n&&(p?p==a&&(p=a.n):p=a,f(a.n,a.p),f(a,n),n=a,n.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw N("$cacheFactory")("iid",a);var g=0,h=S({},c,{id:a}),k=U(),l=c&&c.capacity||Number.MAX_VALUE,m=U(),n=null,p=null;return b[a]={put:function(a,b){if(!y(b)){if(l<Number.MAX_VALUE){var c=m[a]||(m[a]={key:a});e(c)}a in k||g++;k[a]=b;g>l&&this.remove(p.key);return b}},get:function(a){if(l<Number.MAX_VALUE){var b=m[a];
if(!b)return;e(b)}return k[a]},remove:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;b==n&&(n=b.p);b==p&&(p=b.n);f(b.n,b.p);delete m[a]}a in k&&(delete k[a],g--)},removeAll:function(){k=U();g=0;m=U();n=p=null},destroy:function(){m=h=k=null;delete b[a]},info:function(){return S({},h,{size:g})}}}var b={};a.info=function(){var a={};q(b,function(b,e){a[e]=b.info()});return a};a.get=function(a){return b[a]};return a}}function Bf(){this.$get=["$cacheFactory",function(a){return a("templates")}]}
function Fc(a,b){function d(a,b,c){var d=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,e=U();q(a,function(a,f){if(a in n)e[f]=n[a];else{var g=a.match(d);if(!g)throw ga("iscp",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f};g[4]&&(n[a]=e[f])}});return e}function c(a){var b=a.charAt(0);if(!b||b!==Q(b))throw ga("baddir",a);if(a!==a.trim())throw ga("baddir",a);}function e(a){var b=a.require||a.controller&&a.name;
!L(b)&&D(b)&&q(b,function(a,c){var d=a.match(l);a.substring(d[0].length)||(b[c]=d[0]+c)});return b}var f={},g=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,h=/(([\w\-]+)(?:\:([^;]+))?;?)/,k=be("ngSrc,ngSrcset,src,srcset"),l=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,m=/^(on[a-z]+|formaction)$/,n=U();this.directive=function B(b,d){Qa(b,"directive");G(b)?(c(b),sb(d,"directiveFactory"),f.hasOwnProperty(b)||(f[b]=[],a.factory(b+"Directive",["$injector","$exceptionHandler",function(a,c){var d=[];q(f[b],function(f,g){try{var h=
a.invoke(f);z(h)?h={compile:ha(h)}:!h.compile&&h.link&&(h.compile=ha(h.link));h.priority=h.priority||0;h.index=g;h.name=h.name||b;h.require=e(h);h.restrict=h.restrict||"EA";h.$$moduleName=f.$$moduleName;d.push(h)}catch(k){c(k)}});return d}])),f[b].push(d)):q(b,uc(B));return this};this.component=function(a,b){function c(a){function e(b){return z(b)||L(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var f=b.template||b.templateUrl?b.template:"",g={controller:d,controllerAs:Xc(b.controller)||
b.controllerAs||"$ctrl",template:e(f),templateUrl:e(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require};q(b,function(a,b){"$"===b.charAt(0)&&(g[b]=a)});return g}var d=b.controller||function(){};q(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a,z(d)&&(d[b]=a))});c.$inject=["$injector"];return this.directive(a,c)};this.aHrefSanitizationWhitelist=function(a){return w(a)?(b.aHrefSanitizationWhitelist(a),this):b.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=
function(a){return w(a)?(b.imgSrcSanitizationWhitelist(a),this):b.imgSrcSanitizationWhitelist()};var p=!0;this.debugInfoEnabled=function(a){return w(a)?(p=a,this):p};var u=10;this.onChangesTtl=function(a){return arguments.length?(u=a,this):u};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(a,b,c,e,n,t,K,M,H,E){function I(){try{if(!--qa)throw Y=void 0,ga("infchng",u);K.$apply(function(){for(var a=
[],b=0,c=Y.length;b<c;++b)try{Y[b]()}catch(d){a.push(d)}Y=void 0;if(a.length)throw a;})}finally{qa++}}function Da(a,b){if(b){var c=Object.keys(b),d,e,f;d=0;for(e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a}function P(a,b,c){pa.innerHTML="<span "+b+">";b=pa.firstChild.attributes;var d=b[0];b.removeNamedItem(d.name);d.value=c;a.attributes.setNamedItem(d)}function x(a,b){try{a.addClass(b)}catch(c){}}function aa(a,b,c,d,e){a instanceof F||(a=F(a));for(var f=/\S+/,g=0,h=a.length;g<
h;g++){var k=a[g];k.nodeType===Ma&&k.nodeValue.match(f)&&Pc(k,a[g]=C.document.createElement("span"))}var l=s(a,b,a,c,d,e);aa.$$addScopeClass(a);var m=null;return function(b,c,d){sb(b,"scope");e&&e.needsNewScope&&(b=b.$parent.$new());d=d||{};var f=d.parentBoundTranscludeFn,g=d.transcludeControllers;d=d.futureParentElement;f&&f.$$boundTransclude&&(f=f.$$boundTransclude);m||(m=(d=d&&d[0])?"foreignobject"!==wa(d)&&ma.call(d).match(/SVG/)?"svg":"html":"html");d="html"!==m?F(da(m,F("<div>").append(a).html())):
c?Oa.clone.call(a):a;if(g)for(var h in g)d.data("$"+h+"Controller",g[h].instance);aa.$$addScopeInfo(d,b);c&&c(d,b);l&&l(b,d,d,f);return d}}function s(a,b,c,d,e,f){function g(a,c,d,e){var f,k,l,m,p,r,v;if(n)for(v=Array(c.length),m=0;m<h.length;m+=3)f=h[m],v[f]=c[f];else v=c;m=0;for(p=h.length;m<p;)k=v[h[m++]],c=h[m++],f=h[m++],c?(c.scope?(l=a.$new(),aa.$$addScopeInfo(F(k),l)):l=a,r=c.transcludeOnThisElement?za(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?za(a,b):null,c(f,l,k,d,r)):f&&f(a,
k.childNodes,void 0,e)}for(var h=[],k,l,m,p,n,r=0;r<a.length;r++){k=new Da;l=$b(a[r],[],k,0===r?d:void 0,e);(f=l.length?oa(l,a[r],k,b,c,null,[],[],f):null)&&f.scope&&aa.$$addScopeClass(k.$$element);k=f&&f.terminal||!(m=a[r].childNodes)||!m.length?null:s(m,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b);if(f||k)h.push(r,f,k),p=!0,n=n||f;f=null}return p?g:null}function za(a,b,c){function d(e,f,g,h,k){e||(e=a.$new(!1,k),e.$$transcluded=!0);return b(e,f,{parentBoundTranscludeFn:c,
transcludeControllers:g,futureParentElement:h})}var e=d.$$slots=U(),f;for(f in b.$$slots)e[f]=b.$$slots[f]?za(a,b.$$slots[f],c):null;return d}function $b(a,b,c,d,e){var f=c.$attr;switch(a.nodeType){case 1:O(b,Aa(wa(a)),"E",d,e);for(var g,k,l,m,p=a.attributes,n=0,r=p&&p.length;n<r;n++){var v=!1,u=!1;g=p[n];k=g.name;l=W(g.value);g=Aa(k);if(m=Ba.test(g))k=k.replace(Yc,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()});(g=g.match(Ca))&&V(g[1])&&(v=k,u=k.substr(0,k.length-5)+"end",k=
k.substr(0,k.length-6));g=Aa(k.toLowerCase());f[g]=k;if(m||!c.hasOwnProperty(g))c[g]=l,Uc(a,g)&&(c[g]=!0);ia(a,b,l,g,m);O(b,g,"A",d,e,v,u)}f=a.className;D(f)&&(f=f.animVal);if(G(f)&&""!==f)for(;a=h.exec(f);)g=Aa(a[2]),O(b,g,"C",d,e)&&(c[g]=W(a[3])),f=f.substr(a.index+a[0].length);break;case Ma:if(11===Ea)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===Ma;)a.nodeValue+=a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);ca(b,a.nodeValue);break;case 8:hb(a,b,c,d,e)}b.sort(Z);
return b}function hb(a,b,c,d,e){try{var f=g.exec(a.nodeValue);if(f){var h=Aa(f[1]);O(b,h,"M",d,e)&&(c[h]=W(f[2]))}}catch(k){}}function N(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw ga("uterdir",b,c);1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return F(d)}function Zc(a,b,c){return function(d,e,f,g,h){e=N(e[0],b,c);return a(d,e,f,g,h)}}function ac(a,b,c,d,e,f){var g;return a?aa(b,c,d,e,f):function(){g||
(g=aa(b,c,d,e,f),b=c=f=null);return g.apply(this,arguments)}}function oa(a,b,d,e,f,g,h,k,l){function m(a,b,c,d){if(a){c&&(a=Zc(a,c,d));a.require=x.require;a.directiveName=I;if(u===x||x.$$isolateScope)a=ja(a,{isolateScope:!0});h.push(a)}if(b){c&&(b=Zc(b,c,d));b.require=x.require;b.directiveName=I;if(u===x||x.$$isolateScope)b=ja(b,{isolateScope:!0});k.push(b)}}function p(a,e,f,g,l){function m(a,b,c,d){var e;Ya(a)||(d=c,c=b,b=a,a=void 0);fa&&(e=t);c||(c=fa?I.parent():I);if(d){var f=l.$$slots[d];if(f)return f(a,
b,e,c,s);if(y(f))throw ga("noslot",d,ya(I));}else return l(a,b,e,c,s)}var n,E,x,M,B,t,P,I;b===f?(g=d,I=d.$$element):(I=F(f),g=new Da(I,d));B=e;u?M=e.$new(!0):r&&(B=e.$parent);l&&(P=m,P.$$boundTransclude=l,P.isSlotFilled=function(a){return!!l.$$slots[a]});v&&(t=ag(I,g,P,v,M,e,u));u&&(aa.$$addScopeInfo(I,M,!0,!(H&&(H===u||H===u.$$originalDirective))),aa.$$addScopeClass(I,!0),M.$$isolateBindings=u.$$isolateBindings,E=ka(e,g,M,M.$$isolateBindings,u),E.removeWatches&&M.$on("$destroy",E.removeWatches));
for(n in t){E=v[n];x=t[n];var Zb=E.$$bindings.bindToController;x.bindingInfo=x.identifier&&Zb?ka(B,g,x.instance,Zb,E):{};var K=x();K!==x.instance&&(x.instance=K,I.data("$"+E.name+"Controller",K),x.bindingInfo.removeWatches&&x.bindingInfo.removeWatches(),x.bindingInfo=ka(B,g,x.instance,Zb,E))}q(v,function(a,b){var c=a.require;a.bindToController&&!L(c)&&D(c)&&S(t[b].instance,ib(b,c,I,t))});q(t,function(a){var b=a.instance;if(z(b.$onChanges))try{b.$onChanges(a.bindingInfo.initialChanges)}catch(d){c(d)}if(z(b.$onInit))try{b.$onInit()}catch(e){c(e)}z(b.$doCheck)&&
(B.$watch(function(){b.$doCheck()}),b.$doCheck());z(b.$onDestroy)&&B.$on("$destroy",function(){b.$onDestroy()})});n=0;for(E=h.length;n<E;n++)x=h[n],la(x,x.isolateScope?M:e,I,g,x.require&&ib(x.directiveName,x.require,I,t),P);var s=e;u&&(u.template||null===u.templateUrl)&&(s=M);a&&a(s,f.childNodes,void 0,l);for(n=k.length-1;0<=n;n--)x=k[n],la(x,x.isolateScope?M:e,I,g,x.require&&ib(x.directiveName,x.require,I,t),P);q(t,function(a){a=a.instance;z(a.$postLink)&&a.$postLink()})}l=l||{};for(var n=-Number.MAX_VALUE,
r=l.newScopeDirective,v=l.controllerDirectives,u=l.newIsolateScopeDirective,H=l.templateDirective,E=l.nonTlbTranscludeDirective,M=!1,B=!1,fa=l.hasElementTranscludeDirective,t=d.$$element=F(b),x,I,P,K=e,s,Fa=!1,za=!1,w,A=0,C=a.length;A<C;A++){x=a[A];var G=x.$$start,hb=x.$$end;G&&(t=N(b,G,hb));P=void 0;if(n>x.priority)break;if(w=x.scope)x.templateUrl||(D(w)?(X("new/isolated scope",u||r,x,t),u=x):X("new/isolated scope",u,x,t)),r=r||x;I=x.name;if(!Fa&&(x.replace&&(x.templateUrl||x.template)||x.transclude&&
!x.$$tlb)){for(w=A+1;Fa=a[w++];)if(Fa.transclude&&!Fa.$$tlb||Fa.replace&&(Fa.templateUrl||Fa.template)){za=!0;break}Fa=!0}!x.templateUrl&&x.controller&&(w=x.controller,v=v||U(),X("'"+I+"' controller",v[I],x,t),v[I]=x);if(w=x.transclude)if(M=!0,x.$$tlb||(X("transclusion",E,x,t),E=x),"element"==w)fa=!0,n=x.priority,P=t,t=d.$$element=F(aa.$$createComment(I,d[I])),b=t[0],ea(f,va.call(P,0),b),P[0].$$parentNode=P[0].parentNode,K=ac(za,P,e,n,g&&g.name,{nonTlbTranscludeDirective:E});else{var oa=U();P=F(Xb(b)).contents();
if(D(w)){P=[];var Q=U(),O=U();q(w,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a;Q[a]=b;oa[b]=null;O[b]=c});q(t.contents(),function(a){var b=Q[Aa(wa(a))];b?(O[b]=!0,oa[b]=oa[b]||[],oa[b].push(a)):P.push(a)});q(O,function(a,b){if(!a)throw ga("reqslot",b);});for(var V in oa)oa[V]&&(oa[V]=ac(za,oa[V],e))}t.empty();K=ac(za,P,e,void 0,void 0,{needsNewScope:x.$$isolateScope||x.$$newScope});K.$$slots=oa}if(x.template)if(B=!0,X("template",H,x,t),H=x,w=z(x.template)?x.template(t,d):x.template,
w=xa(w),x.replace){g=x;P=Vb.test(w)?$c(da(x.templateNamespace,W(w))):[];b=P[0];if(1!=P.length||1!==b.nodeType)throw ga("tplrt",I,"");ea(f,t,b);C={$attr:{}};w=$b(b,[],C);var Z=a.splice(A+1,a.length-(A+1));(u||r)&&T(w,u,r);a=a.concat(w).concat(Z);$(d,C);C=a.length}else t.html(w);if(x.templateUrl)B=!0,X("template",H,x,t),H=x,x.replace&&(g=x),p=ba(a.splice(A,a.length-A),t,d,f,M&&K,h,k,{controllerDirectives:v,newScopeDirective:r!==x&&r,newIsolateScopeDirective:u,templateDirective:H,nonTlbTranscludeDirective:E}),
C=a.length;else if(x.compile)try{s=x.compile(t,d,K);var Y=x.$$originalDirective||x;z(s)?m(null,ab(Y,s),G,hb):s&&m(ab(Y,s.pre),ab(Y,s.post),G,hb)}catch(ca){c(ca,ya(t))}x.terminal&&(p.terminal=!0,n=Math.max(n,x.priority))}p.scope=r&&!0===r.scope;p.transcludeOnThisElement=M;p.templateOnThisElement=B;p.transclude=K;l.hasElementTranscludeDirective=fa;return p}function ib(a,b,c,d){var e;if(G(b)){var f=b.match(l);b=b.substring(f[0].length);var g=f[1]||f[3],f="?"===f[2];"^^"===g?c=c.parent():e=(e=d&&d[b])&&
e.instance;if(!e){var h="$"+b+"Controller";e=g?c.inheritedData(h):c.data(h)}if(!e&&!f)throw ga("ctreq",b,a);}else if(L(b))for(e=[],g=0,f=b.length;g<f;g++)e[g]=ib(a,b[g],c,d);else D(b)&&(e={},q(b,function(b,f){e[f]=ib(a,b,c,d)}));return e||null}function ag(a,b,c,d,e,f,g){var h=U(),k;for(k in d){var l=d[k],m={$scope:l===g||l.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},p=l.controller;"@"==p&&(p=b[l.name]);m=t(p,m,!0,l.controllerAs);h[l.name]=m;a.data("$"+l.name+"Controller",m.instance)}return h}
function T(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=Rb(a[d],{$$isolateScope:b,$$newScope:c})}function O(b,e,g,h,k,l,m){if(e===k)return null;k=null;if(f.hasOwnProperty(e)){var p;e=a.get(e+"Directive");for(var n=0,r=e.length;n<r;n++)try{if(p=e[n],(y(h)||h>p.priority)&&-1!=p.restrict.indexOf(g)){l&&(p=Rb(p,{$$start:l,$$end:m}));if(!p.$$bindings){var u=p,v=p,x=p.name,H={isolateScope:null,bindToController:null};D(v.scope)&&(!0===v.bindToController?(H.bindToController=d(v.scope,x,!0),H.isolateScope={}):
H.isolateScope=d(v.scope,x,!1));D(v.bindToController)&&(H.bindToController=d(v.bindToController,x,!0));if(D(H.bindToController)){var E=v.controller,M=v.controllerAs;if(!E)throw ga("noctrl",x);if(!Xc(E,M))throw ga("noident",x);}var t=u.$$bindings=H;D(t.isolateScope)&&(p.$$isolateBindings=t.isolateScope)}b.push(p);k=p}}catch(I){c(I)}}return k}function V(b){if(f.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,e=c.length;d<e;d++)if(b=c[d],b.multiElement)return!0;return!1}function $(a,b){var c=b.$attr,
d=a.$attr;q(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))});q(b,function(b,e){a.hasOwnProperty(e)||"$"===e.charAt(0)||(a[e]=b,"class"!==e&&"style"!==e&&(d[e]=c[e]))})}function ba(a,b,c,d,f,g,h,k){var l=[],m,p,n=b[0],r=a.shift(),u=Rb(r,{templateUrl:null,transclude:null,replace:null,$$originalDirective:r}),H=z(r.templateUrl)?r.templateUrl(b,c):r.templateUrl,E=r.templateNamespace;b.empty();e(H).then(function(e){var v,M;e=xa(e);if(r.replace){e=
Vb.test(e)?$c(da(E,W(e))):[];v=e[0];if(1!=e.length||1!==v.nodeType)throw ga("tplrt",r.name,H);e={$attr:{}};ea(d,b,v);var B=$b(v,[],e);D(r.scope)&&T(B,!0);a=B.concat(a);$(c,e)}else v=n,b.html(e);a.unshift(u);m=oa(a,v,c,f,b,r,g,h,k);q(d,function(a,c){a==v&&(d[c]=b[0])});for(p=s(b[0].childNodes,f);l.length;){e=l.shift();M=l.shift();var t=l.shift(),I=l.shift(),B=b[0];if(!e.$$destroyed){if(M!==n){var P=M.className;k.hasElementTranscludeDirective&&r.replace||(B=Xb(v));ea(t,F(M),B);x(F(B),P)}M=m.transcludeOnThisElement?
za(e,m.transclude,I):I;m(p,e,B,d,M)}}l=null});return function(a,b,c,d,e){a=e;b.$$destroyed||(l?l.push(b,c,d,a):(m.transcludeOnThisElement&&(a=za(b,m.transclude,e)),m(p,b,c,d,a)))}}function Z(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function X(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw ga("multidir",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,ya(d));}function ca(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=
a.parent();var b=!!a.length;b&&aa.$$addBindingClass(a);return function(a,c){var e=c.parent();b||aa.$$addBindingClass(e);aa.$$addBindingInfo(e,d.expressions);a.$watch(d,function(a){c[0].nodeValue=a})}}})}function da(a,b){a=Q(a||"html");switch(a){case "svg":case "math":var c=C.document.createElement("div");c.innerHTML="<"+a+">"+b+"</"+a+">";return c.childNodes[0].childNodes;default:return b}}function ha(a,b){if("srcdoc"==b)return M.HTML;var c=wa(a);if("xlinkHref"==b||"form"==c&&"action"==b||"img"!=
c&&("src"==b||"ngSrc"==b))return M.RESOURCE_URL}function ia(a,c,d,e,f){var g=ha(a,e);f=k[e]||f;var h=b(d,!0,g,f);if(h){if("multiple"===e&&"select"===wa(a))throw ga("selmulti",ya(a));c.push({priority:100,compile:function(){return{pre:function(a,c,k){c=k.$$observers||(k.$$observers=U());if(m.test(e))throw ga("nodomevents");var l=k[e];l!==d&&(h=l&&b(l,!0,g,f),d=l);h&&(k[e]=h(a),(c[e]||(c[e]=[])).$$inter=!0,(k.$$observers&&k.$$observers[e].$$scope||a).$watch(h,function(a,b){"class"===e&&a!=b?k.$updateClass(a,
b):k.$set(e,a)}))}}}})}}function ea(a,b,c){var d=b[0],e=b.length,f=d.parentNode,g,h;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]==d){a[g++]=c;h=g+e-1;for(var k=a.length;g<k;g++,h++)h<k?a[g]=a[h]:delete a[g];a.length-=e-1;a.context===d&&(a.context=c);break}f&&f.replaceChild(c,d);a=C.document.createDocumentFragment();for(g=0;g<e;g++)a.appendChild(b[g]);F.hasData(d)&&(F.data(c,F.data(d)),F(d).off("$destroy"));F.cleanData(a.querySelectorAll("*"));for(g=1;g<e;g++)delete b[g];b[0]=c;b.length=1}function ja(a,
b){return S(function(){return a.apply(null,arguments)},a,b)}function la(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,ya(d))}}function ka(a,c,d,e,f){function g(b,c,e){z(d.$onChanges)&&c!==e&&(Y||(a.$$postDigest(I),Y=[]),m||(m={},Y.push(h)),m[b]&&(e=m[b].previousValue),m[b]=new Fb(e,c))}function h(){d.$onChanges(m);m=void 0}var k=[],l={},m;q(e,function(e,h){var m=e.attrName,p=e.optional,v,u,x,H;switch(e.mode){case "@":p||ua.call(c,m)||(d[h]=c[m]=void 0);c.$observe(m,function(a){if(G(a)||Ga(a))g(h,a,d[h]),
d[h]=a});c.$$observers[m].$$scope=a;v=c[m];G(v)?d[h]=b(v)(a):Ga(v)&&(d[h]=v);l[h]=new Fb(bc,d[h]);break;case "=":if(!ua.call(c,m)){if(p)break;c[m]=void 0}if(p&&!c[m])break;u=n(c[m]);H=u.literal?na:function(a,b){return a===b||a!==a&&b!==b};x=u.assign||function(){v=d[h]=u(a);throw ga("nonassign",c[m],m,f.name);};v=d[h]=u(a);p=function(b){H(b,d[h])||(H(b,v)?x(a,b=d[h]):d[h]=b);return v=b};p.$stateful=!0;p=e.collection?a.$watchCollection(c[m],p):a.$watch(n(c[m],p),null,u.literal);k.push(p);break;case "<":if(!ua.call(c,
m)){if(p)break;c[m]=void 0}if(p&&!c[m])break;u=n(c[m]);var E=d[h]=u(a);l[h]=new Fb(bc,d[h]);p=a.$watch(u,function(a,b){if(b===a){if(b===E)return;b=E}g(h,a,b);d[h]=a},u.literal);k.push(p);break;case "&":u=c.hasOwnProperty(m)?n(c[m]):A;if(u===A&&p)break;d[h]=function(b){return u(a,b)}}});return{initialChanges:l,removeWatches:k.length&&function(){for(var a=0,b=k.length;a<b;++a)k[a]()}}}var ta=/^\w/,pa=C.document.createElement("div"),qa=u,Y;Da.prototype={$normalize:Aa,$addClass:function(a){a&&0<a.length&&
H.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&H.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=ad(a,b);c&&c.length&&H.addClass(this.$$element,c);(c=ad(b,a))&&c.length&&H.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=Uc(this.$$element[0],a),g=bd[a],h=a;f?(this.$$element.prop(a,b),e=f):g&&(this[g]=b,h=g);this[a]=b;e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=Cc(a,"-"));f=wa(this.$$element);if("a"===f&&("href"===a||"xlinkHref"===a)||"img"===
f&&"src"===a)this[a]=b=E(b,"src"===a);else if("img"===f&&"srcset"===a&&w(b)){for(var f="",g=W(b),k=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,k=/\s/.test(g)?k:/(,)/,g=g.split(k),k=Math.floor(g.length/2),l=0;l<k;l++)var m=2*l,f=f+E(W(g[m]),!0),f=f+(" "+W(g[m+1]));g=W(g[2*l]).split(/\s/);f+=E(W(g[0]),!0);2===g.length&&(f+=" "+W(g[1]));this[a]=b=f}!1!==d&&(null===b||y(b)?this.$$element.removeAttr(e):ta.test(e)?this.$$element.attr(e,b):P(this.$$element[0],e,b));(a=this.$$observers)&&q(a[h],function(a){try{a(b)}catch(d){c(d)}})},
$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=U()),e=d[a]||(d[a]=[]);e.push(b);K.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||y(c[a])||b(c[a])});return function(){Za(e,b)}}};var ra=b.startSymbol(),sa=b.endSymbol(),xa="{{"==ra&&"}}"==sa?Xa:function(a){return a.replace(/\{\{/g,ra).replace(/}}/g,sa)},Ba=/^ngAttr[A-Z]/,Ca=/^(.+)Start$/;aa.$$addBindingInfo=p?function(a,b){var c=a.data("$binding")||[];L(b)?c=c.concat(b):c.push(b);a.data("$binding",c)}:A;aa.$$addBindingClass=
p?function(a){x(a,"ng-binding")}:A;aa.$$addScopeInfo=p?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:A;aa.$$addScopeClass=p?function(a,b){x(a,b?"ng-isolate-scope":"ng-scope")}:A;aa.$$createComment=function(a,b){var c="";p&&(c=" "+(a||"")+": ",b&&(c+=b+" "));return C.document.createComment(c)};return aa}]}function Fb(a,b){this.previousValue=a;this.currentValue=b}function Aa(a){return db(a.replace(Yc,""))}function ad(a,b){var d="",c=a.split(/\s+/),e=b.split(/\s+/),
f=0;a:for(;f<c.length;f++){for(var g=c[f],h=0;h<e.length;h++)if(g==e[h])continue a;d+=(0<d.length?" ":"")+g}return d}function $c(a){a=F(a);var b=a.length;if(1>=b)return a;for(;b--;)8===a[b].nodeType&&bg.call(a,b,1);return a}function Xc(a,b){if(b&&G(b))return b;if(G(a)){var d=cd.exec(a);if(d)return d[3]}}function ff(){var a={},b=!1;this.has=function(b){return a.hasOwnProperty(b)};this.register=function(b,c){Qa(b,"controller");D(b)?S(a,b):a[b]=c};this.allowGlobals=function(){b=!0};this.$get=["$injector",
"$window",function(d,c){function e(a,b,c,d){if(!a||!D(a.$scope))throw N("$controller")("noscp",d,b);a.$scope[b]=c}return function(f,g,h,k){var l,m,n;h=!0===h;k&&G(k)&&(n=k);if(G(f)){k=f.match(cd);if(!k)throw cg("ctrlfmt",f);m=k[1];n=n||k[3];f=a.hasOwnProperty(m)?a[m]:Ec(g.$scope,m,!0)||(b?Ec(c,m,!0):void 0);Pa(f,m,!0)}if(h)return h=(L(f)?f[f.length-1]:f).prototype,l=Object.create(h||null),n&&e(g,n,l,m||f.name),S(function(){var a=d.invoke(f,l,g,m);a!==l&&(D(a)||z(a))&&(l=a,n&&e(g,n,l,m||f.name));return l},
{instance:l,identifier:n});l=d.instantiate(f,g,m);n&&e(g,n,l,m||f.name);return l}}]}function gf(){this.$get=["$window",function(a){return F(a.document)}]}function hf(){this.$get=["$log",function(a){return function(b,d){a.error.apply(a,arguments)}}]}function cc(a){return D(a)?da(a)?a.toISOString():bb(a):a}function nf(){this.$get=function(){return function(a){if(!a)return"";var b=[];tc(a,function(a,c){null===a||y(a)||(L(a)?q(a,function(a){b.push(ea(c)+"="+ea(cc(a)))}):b.push(ea(c)+"="+ea(cc(a))))});
return b.join("&")}}}function of(){this.$get=function(){return function(a){function b(a,e,f){null===a||y(a)||(L(a)?q(a,function(a,c){b(a,e+"["+(D(a)?c:"")+"]")}):D(a)&&!da(a)?tc(a,function(a,c){b(a,e+(f?"":"[")+c+(f?"":"]"))}):d.push(ea(e)+"="+ea(cc(a))))}if(!a)return"";var d=[];b(a,"",!0);return d.join("&")}}}function dc(a,b){if(G(a)){var d=a.replace(dg,"").trim();if(d){var c=b("Content-Type");(c=c&&0===c.indexOf(dd))||(c=(c=d.match(eg))&&fg[c[0]].test(d));c&&(a=xc(d))}}return a}function ed(a){var b=
U(),d;G(a)?q(a.split("\n"),function(a){d=a.indexOf(":");var e=Q(W(a.substr(0,d)));a=W(a.substr(d+1));e&&(b[e]=b[e]?b[e]+", "+a:a)}):D(a)&&q(a,function(a,d){var f=Q(d),g=W(a);f&&(b[f]=b[f]?b[f]+", "+g:g)});return b}function fd(a){var b;return function(d){b||(b=ed(a));return d?(d=b[Q(d)],void 0===d&&(d=null),d):b}}function gd(a,b,d,c){if(z(c))return c(a,b,d);q(c,function(c){a=c(a,b,d)});return a}function mf(){var a=this.defaults={transformResponse:[dc],transformRequest:[function(a){return D(a)&&"[object File]"!==
ma.call(a)&&"[object Blob]"!==ma.call(a)&&"[object FormData]"!==ma.call(a)?bb(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:ia(ec),put:ia(ec),patch:ia(ec)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},b=!1;this.useApplyAsync=function(a){return w(a)?(b=!!a,this):b};var d=!0;this.useLegacyPromiseExtensions=function(a){return w(a)?(d=!!a,this):d};var c=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory",
"$rootScope","$q","$injector",function(e,f,g,h,k,l){function m(b){function c(a,b){for(var d=0,e=b.length;d<e;){var f=b[d++],g=b[d++];a=a.then(f,g)}b.length=0;return a}function e(a,b){var c,d={};q(a,function(a,e){z(a)?(c=a(b),null!=c&&(d[e]=c)):d[e]=a});return d}function f(a){var b=S({},a);b.data=gd(a.data,a.headers,a.status,g.transformResponse);a=a.status;return 200<=a&&300>a?b:k.reject(b)}if(!D(b))throw N("$http")("badreq",b);if(!G(b.url))throw N("$http")("badreq",b.url);var g=S({method:"get",transformRequest:a.transformRequest,
transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},b);g.headers=function(b){var c=a.headers,d=S({},b.headers),f,g,h,c=S({},c.common,c[Q(b.method)]);a:for(f in c){g=Q(f);for(h in d)if(Q(h)===g)continue a;d[f]=c[f]}return e(d,ia(b))}(b);g.method=ub(g.method);g.paramSerializer=G(g.paramSerializer)?l.get(g.paramSerializer):g.paramSerializer;var h=[],m=[],p=k.when(g);q(R,function(a){(a.request||a.requestError)&&h.unshift(a.request,a.requestError);(a.response||a.responseError)&&m.push(a.response,
a.responseError)});p=c(p,h);p=p.then(function(b){var c=b.headers,d=gd(b.data,fd(c),void 0,b.transformRequest);y(d)&&q(c,function(a,b){"content-type"===Q(b)&&delete c[b]});y(b.withCredentials)&&!y(a.withCredentials)&&(b.withCredentials=a.withCredentials);return n(b,d).then(f,f)});p=c(p,m);d?(p.success=function(a){Pa(a,"fn");p.then(function(b){a(b.data,b.status,b.headers,g)});return p},p.error=function(a){Pa(a,"fn");p.then(null,function(b){a(b.data,b.status,b.headers,g)});return p}):(p.success=hd("success"),
p.error=hd("error"));return p}function n(c,d){function g(a){if(a){var c={};q(a,function(a,d){c[d]=function(c){function d(){a(c)}b?h.$applyAsync(d):h.$$phase?d():h.$apply(d)}});return c}}function l(a,c,d,e){function f(){n(c,a,d,e)}E&&(200<=a&&300>a?E.put(P,[a,c,ed(d),e]):E.remove(P));b?h.$applyAsync(f):(f(),h.$$phase||h.$apply())}function n(a,b,d,e){b=-1<=b?b:0;(200<=b&&300>b?M.resolve:M.reject)({data:a,status:b,headers:fd(d),config:c,statusText:e})}function t(a){n(a.data,a.status,ia(a.headers()),
a.statusText)}function R(){var a=m.pendingRequests.indexOf(c);-1!==a&&m.pendingRequests.splice(a,1)}var M=k.defer(),H=M.promise,E,I,Da=c.headers,P=p(c.url,c.paramSerializer(c.params));m.pendingRequests.push(c);H.then(R,R);!c.cache&&!a.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(E=D(c.cache)?c.cache:D(a.cache)?a.cache:u);E&&(I=E.get(P),w(I)?I&&z(I.then)?I.then(t,t):L(I)?n(I[1],I[0],ia(I[2]),I[3]):n(I,200,{},"OK"):E.put(P,H));y(I)&&((I=id(c.url)?f()[c.xsrfCookieName||a.xsrfCookieName]:
void 0)&&(Da[c.xsrfHeaderName||a.xsrfHeaderName]=I),e(c.method,P,d,l,Da,c.timeout,c.withCredentials,c.responseType,g(c.eventHandlers),g(c.uploadEventHandlers)));return H}function p(a,b){0<b.length&&(a+=(-1==a.indexOf("?")?"?":"&")+b);return a}var u=g("$http");a.paramSerializer=G(a.paramSerializer)?l.get(a.paramSerializer):a.paramSerializer;var R=[];q(c,function(a){R.unshift(G(a)?l.get(a):l.invoke(a))});m.pendingRequests=[];(function(a){q(arguments,function(a){m[a]=function(b,c){return m(S({},c||{},
{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){q(arguments,function(a){m[a]=function(b,c,d){return m(S({},d||{},{method:a,url:b,data:c}))}})})("post","put","patch");m.defaults=a;return m}]}function qf(){this.$get=function(){return function(){return new C.XMLHttpRequest}}}function pf(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(a,b,d,c){return gg(a,c,a.defer,b,d[0])}]}function gg(a,b,d,c,e){function f(a,b,d){a=a.replace("JSON_CALLBACK",b);var f=
e.createElement("script"),m=null;f.type="text/javascript";f.src=a;f.async=!0;m=function(a){f.removeEventListener("load",m,!1);f.removeEventListener("error",m,!1);e.body.removeChild(f);f=null;var g=-1,u="unknown";a&&("load"!==a.type||c.wasCalled(b)||(a={type:"error"}),u=a.type,g="error"===a.type?404:200);d&&d(g,u)};f.addEventListener("load",m,!1);f.addEventListener("error",m,!1);e.body.appendChild(f);return m}return function(e,h,k,l,m,n,p,u,R,B){function r(){fa&&fa();t&&t.abort()}function J(b,c,e,
f,g){w(M)&&d.cancel(M);fa=t=null;b(c,e,f,g);a.$$completeOutstandingRequest(A)}a.$$incOutstandingRequestCount();h=h||a.url();if("jsonp"===Q(e))var v=c.createCallback(h),fa=f(h,v,function(a,b){var d=200===a&&c.getResponse(v);J(l,a,d,"",b);c.removeCallback(v)});else{var t=b(e,h);t.open(e,h,!0);q(m,function(a,b){w(a)&&t.setRequestHeader(b,a)});t.onload=function(){var a=t.statusText||"",b="response"in t?t.response:t.responseText,c=1223===t.status?204:t.status;0===c&&(c=b?200:"file"==Y(h).protocol?404:
0);J(l,c,b,t.getAllResponseHeaders(),a)};e=function(){J(l,-1,null,null,"")};t.onerror=e;t.onabort=e;q(R,function(a,b){t.addEventListener(b,a)});q(B,function(a,b){t.upload.addEventListener(b,a)});p&&(t.withCredentials=!0);if(u)try{t.responseType=u}catch(K){if("json"!==u)throw K;}t.send(y(k)?null:k)}if(0<n)var M=d(r,n);else n&&z(n.then)&&n.then(r)}}function kf(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a};this.endSymbol=function(a){return a?(b=a,this):b};this.$get=["$parse",
"$exceptionHandler","$sce",function(d,c,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(n,a).replace(p,b)}function h(a,b,c,d){var e;return e=a.$watch(function(a){e();return d(a)},b,c)}function k(f,k,p,n){function J(a){try{var b=a;a=p?e.getTrusted(p,b):e.valueOf(b);var d;if(n&&!w(a))d=a;else if(null==a)d="";else{switch(typeof a){case "string":break;case "number":a=""+a;break;default:a=bb(a)}d=a}return d}catch(g){c(Ka.interr(f,g))}}if(!f.length||-1===f.indexOf(a)){var v;k||(k=g(f),
v=ha(k),v.exp=f,v.expressions=[],v.$$watchDelegate=h);return v}n=!!n;var q,t,K=0,M=[],H=[];v=f.length;for(var E=[],I=[];K<v;)if(-1!=(q=f.indexOf(a,K))&&-1!=(t=f.indexOf(b,q+l)))K!==q&&E.push(g(f.substring(K,q))),K=f.substring(q+l,t),M.push(K),H.push(d(K,J)),K=t+m,I.push(E.length),E.push("");else{K!==v&&E.push(g(f.substring(K)));break}p&&1<E.length&&Ka.throwNoconcat(f);if(!k||M.length){var Da=function(a){for(var b=0,c=M.length;b<c;b++){if(n&&y(a[b]))return;E[I[b]]=a[b]}return E.join("")};return S(function(a){var b=
0,d=M.length,e=Array(d);try{for(;b<d;b++)e[b]=H[b](a);return Da(e)}catch(g){c(Ka.interr(f,g))}},{exp:f,expressions:M,$$watchDelegate:function(a,b){var c;return a.$watchGroup(H,function(d,e){var f=Da(d);z(b)&&b.call(this,f,d!==e?c:f,a);c=f})}})}}var l=a.length,m=b.length,n=new RegExp(a.replace(/./g,f),"g"),p=new RegExp(b.replace(/./g,f),"g");k.startSymbol=function(){return a};k.endSymbol=function(){return b};return k}]}function lf(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,
b,d,c,e){function f(f,k,l,m){function n(){p?f.apply(null,u):f(r)}var p=4<arguments.length,u=p?va.call(arguments,4):[],R=b.setInterval,q=b.clearInterval,r=0,J=w(m)&&!m,v=(J?c:d).defer(),fa=v.promise;l=w(l)?l:0;fa.$$intervalId=R(function(){J?e.defer(n):a.$evalAsync(n);v.notify(r++);0<l&&r>=l&&(v.resolve(r),q(fa.$$intervalId),delete g[fa.$$intervalId]);J||a.$apply()},k);g[fa.$$intervalId]=v;return fa}var g={};f.cancel=function(a){return a&&a.$$intervalId in g?(g[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),
delete g[a.$$intervalId],!0):!1};return f}]}function fc(a){a=a.split("/");for(var b=a.length;b--;)a[b]=qb(a[b]);return a.join("/")}function jd(a,b){var d=Y(a);b.$$protocol=d.protocol;b.$$host=d.hostname;b.$$port=Z(d.port)||hg[d.protocol]||null}function kd(a,b){var d="/"!==a.charAt(0);d&&(a="/"+a);var c=Y(a);b.$$path=decodeURIComponent(d&&"/"===c.pathname.charAt(0)?c.pathname.substring(1):c.pathname);b.$$search=Ac(c.search);b.$$hash=decodeURIComponent(c.hash);b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path=
"/"+b.$$path)}function ka(a,b){if(0===b.lastIndexOf(a,0))return b.substr(a.length)}function Ja(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function jb(a){return a.replace(/(#.+)|#$/,"$1")}function gc(a,b,d){this.$$html5=!0;d=d||"";jd(a,this);this.$$parse=function(a){var d=ka(b,a);if(!G(d))throw Gb("ipthprfx",a,b);kd(d,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var a=Tb(this.$$search),d=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=fc(this.$$path)+(a?"?"+
a:"")+d;this.$$absUrl=b+this.$$url.substr(1)};this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;w(f=ka(a,c))?(g=f,g=w(f=ka(d,f))?b+(ka("/",f)||f):a+g):w(f=ka(b,c))?g=b+f:b==c+"/"&&(g=b);g&&this.$$parse(g);return!!g}}function hc(a,b,d){jd(a,this);this.$$parse=function(c){var e=ka(a,c)||ka(b,c),f;y(e)||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",y(e)&&(a=c,this.replace())):(f=ka(d,e),y(f)&&(f=e));kd(f,this);c=this.$$path;var e=a,g=/^\/[A-Z]:(\/.*)/;0===f.lastIndexOf(e,
0)&&(f=f.replace(e,""));g.exec(f)||(c=(f=g.exec(c))?f[1]:c);this.$$path=c;this.$$compose()};this.$$compose=function(){var b=Tb(this.$$search),e=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=fc(this.$$path)+(b?"?"+b:"")+e;this.$$absUrl=a+(this.$$url?d+this.$$url:"")};this.$$parseLinkUrl=function(b,d){return Ja(a)==Ja(b)?(this.$$parse(b),!0):!1}}function ld(a,b,d){this.$$html5=!0;hc.apply(this,arguments);this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;a==Ja(c)?
f=c:(g=ka(b,c))?f=a+d+g:b===c+"/"&&(f=b);f&&this.$$parse(f);return!!f};this.$$compose=function(){var b=Tb(this.$$search),e=this.$$hash?"#"+qb(this.$$hash):"";this.$$url=fc(this.$$path)+(b?"?"+b:"")+e;this.$$absUrl=a+d+this.$$url}}function Hb(a){return function(){return this[a]}}function md(a,b){return function(d){if(y(d))return this[a];this[a]=b(d);this.$$compose();return this}}function sf(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return w(b)?(a=b,this):
a};this.html5Mode=function(a){return Ga(a)?(b.enabled=a,this):D(a)?(Ga(a.enabled)&&(b.enabled=a.enabled),Ga(a.requireBase)&&(b.requireBase=a.requireBase),Ga(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(d,c,e,f,g){function h(a,b,d){var e=l.url(),f=l.$$state;try{c.url(a,b,d),l.$$state=c.state()}catch(g){throw l.url(e),l.$$state=f,g;}}function k(a,b){d.$broadcast("$locationChangeSuccess",l.absUrl(),a,l.$$state,
b)}var l,m;m=c.baseHref();var n=c.url(),p;if(b.enabled){if(!m&&b.requireBase)throw Gb("nobase");p=n.substring(0,n.indexOf("/",n.indexOf("//")+2))+(m||"/");m=e.history?gc:ld}else p=Ja(n),m=hc;var u=p.substr(0,Ja(p).lastIndexOf("/")+1);l=new m(p,u,"#"+a);l.$$parseLinkUrl(n,n);l.$$state=c.state();var R=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=F(a.target);"a"!==wa(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;
var h=e.prop("href"),k=e.attr("href")||e.attr("xlink:href");D(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=Y(h.animVal).href);R.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||!l.$$parseLinkUrl(h,k)||(a.preventDefault(),l.absUrl()!=c.url()&&(d.$apply(),g.angular["ff-684208-preventDefault"]=!0))}});jb(l.absUrl())!=jb(n)&&c.url(l.absUrl(),!0);var q=!0;c.onUrlChange(function(a,b){y(ka(u,a))?g.location.href=a:(d.$evalAsync(function(){var c=l.absUrl(),e=l.$$state,f;a=jb(a);l.$$parse(a);l.$$state=
b;f=d.$broadcast("$locationChangeStart",a,c,b,e).defaultPrevented;l.absUrl()===a&&(f?(l.$$parse(c),l.$$state=e,h(c,!1,e)):(q=!1,k(c,e)))}),d.$$phase||d.$digest())});d.$watch(function(){var a=jb(c.url()),b=jb(l.absUrl()),f=c.state(),g=l.$$replace,m=a!==b||l.$$html5&&e.history&&f!==l.$$state;if(q||m)q=!1,d.$evalAsync(function(){var b=l.absUrl(),c=d.$broadcast("$locationChangeStart",b,a,l.$$state,f).defaultPrevented;l.absUrl()===b&&(c?(l.$$parse(a),l.$$state=f):(m&&h(b,g,f===l.$$state?null:l.$$state),
k(a,f)))});l.$$replace=!1});return l}]}function tf(){var a=!0,b=this;this.debugEnabled=function(b){return w(b)?(a=b,this):a};this.$get=["$window",function(d){function c(a){a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function e(a){var b=d.console||{},e=b[a]||b.log||A;a=!1;try{a=!!e.apply}catch(k){}return a?function(){var a=[];q(arguments,function(b){a.push(c(b))});
return e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function Sa(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw X("isecfld",b);return a}function ig(a){return a+""}function ra(a,b){if(a){if(a.constructor===a)throw X("isecfn",b);if(a.window===a)throw X("isecwindow",b);if(a.children&&
(a.nodeName||a.prop&&a.attr&&a.find))throw X("isecdom",b);if(a===Object)throw X("isecobj",b);}return a}function nd(a,b){if(a){if(a.constructor===a)throw X("isecfn",b);if(a===jg||a===kg||a===lg)throw X("isecff",b);}}function Ib(a,b){if(a&&(a===(0).constructor||a===(!1).constructor||a==="".constructor||a==={}.constructor||a===[].constructor||a===Function.constructor))throw X("isecaf",b);}function mg(a,b){return"undefined"!==typeof a?a:b}function od(a,b){return"undefined"===typeof a?b:"undefined"===
typeof b?a:a+b}function V(a,b){var d,c;switch(a.type){case s.Program:d=!0;q(a.body,function(a){V(a.expression,b);d=d&&a.expression.constant});a.constant=d;break;case s.Literal:a.constant=!0;a.toWatch=[];break;case s.UnaryExpression:V(a.argument,b);a.constant=a.argument.constant;a.toWatch=a.argument.toWatch;break;case s.BinaryExpression:V(a.left,b);V(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case s.LogicalExpression:V(a.left,b);V(a.right,
b);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.constant?[]:[a];break;case s.ConditionalExpression:V(a.test,b);V(a.alternate,b);V(a.consequent,b);a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant;a.toWatch=a.constant?[]:[a];break;case s.Identifier:a.constant=!1;a.toWatch=[a];break;case s.MemberExpression:V(a.object,b);a.computed&&V(a.property,b);a.constant=a.object.constant&&(!a.computed||a.property.constant);a.toWatch=[a];break;case s.CallExpression:d=a.filter?!b(a.callee.name).$stateful:
!1;c=[];q(a.arguments,function(a){V(a,b);d=d&&a.constant;a.constant||c.push.apply(c,a.toWatch)});a.constant=d;a.toWatch=a.filter&&!b(a.callee.name).$stateful?c:[a];break;case s.AssignmentExpression:V(a.left,b);V(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=[a];break;case s.ArrayExpression:d=!0;c=[];q(a.elements,function(a){V(a,b);d=d&&a.constant;a.constant||c.push.apply(c,a.toWatch)});a.constant=d;a.toWatch=c;break;case s.ObjectExpression:d=!0;c=[];q(a.properties,function(a){V(a.value,
b);d=d&&a.value.constant&&!a.computed;a.value.constant||c.push.apply(c,a.value.toWatch)});a.constant=d;a.toWatch=c;break;case s.ThisExpression:a.constant=!1;a.toWatch=[];break;case s.LocalsExpression:a.constant=!1,a.toWatch=[]}}function pd(a){if(1==a.length){a=a[0].expression;var b=a.toWatch;return 1!==b.length?b:b[0]!==a?b:void 0}}function qd(a){return a.type===s.Identifier||a.type===s.MemberExpression}function rd(a){if(1===a.body.length&&qd(a.body[0].expression))return{type:s.AssignmentExpression,
left:a.body[0].expression,right:{type:s.NGValueParameter},operator:"="}}function sd(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===s.Literal||a.body[0].expression.type===s.ArrayExpression||a.body[0].expression.type===s.ObjectExpression)}function td(a,b){this.astBuilder=a;this.$filter=b}function ud(a,b){this.astBuilder=a;this.$filter=b}function Jb(a){return"constructor"==a}function ic(a){return z(a.valueOf)?a.valueOf():ng.call(a)}function uf(){var a=U(),b=U(),d={"true":!0,
"false":!1,"null":null,undefined:void 0},c,e;this.addLiteral=function(a,b){d[a]=b};this.setIdentifierFns=function(a,b){c=a;e=b;return this};this.$get=["$filter",function(f){function g(c,d,e){var g,k,H;e=e||J;switch(typeof c){case "string":H=c=c.trim();var E=e?b:a;g=E[H];if(!g){":"===c.charAt(0)&&":"===c.charAt(1)&&(k=!0,c=c.substring(2));g=e?r:B;var q=new jc(g);g=(new kc(q,f,g)).parse(c);g.constant?g.$$watchDelegate=p:k?g.$$watchDelegate=g.literal?n:m:g.inputs&&(g.$$watchDelegate=l);e&&(g=h(g));E[H]=
g}return u(g,d);case "function":return u(c,d);default:return u(A,d)}}function h(a){function b(c,d,e,f){var g=J;J=!0;try{return a(c,d,e,f)}finally{J=g}}if(!a)return a;b.$$watchDelegate=a.$$watchDelegate;b.assign=h(a.assign);b.constant=a.constant;b.literal=a.literal;for(var c=0;a.inputs&&c<a.inputs.length;++c)a.inputs[c]=h(a.inputs[c]);b.inputs=a.inputs;return b}function k(a,b){return null==a||null==b?a===b:"object"===typeof a&&(a=ic(a),"object"===typeof a)?!1:a===b||a!==a&&b!==b}function l(a,b,c,d,
e){var f=d.inputs,g;if(1===f.length){var h=k,f=f[0];return a.$watch(function(a){var b=f(a);k(b,h)||(g=d(a,void 0,void 0,[b]),h=b&&ic(b));return g},b,c,e)}for(var l=[],m=[],p=0,n=f.length;p<n;p++)l[p]=k,m[p]=null;return a.$watch(function(a){for(var b=!1,c=0,e=f.length;c<e;c++){var h=f[c](a);if(b||(b=!k(h,l[c])))m[c]=h,l[c]=h&&ic(h)}b&&(g=d(a,void 0,void 0,m));return g},b,c,e)}function m(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a;z(b)&&b.apply(this,arguments);w(a)&&
d.$$postDigest(function(){w(f)&&e()})},c)}function n(a,b,c,d){function e(a){var b=!0;q(a,function(a){w(a)||(b=!1)});return b}var f,g;return f=a.$watch(function(a){return d(a)},function(a,c,d){g=a;z(b)&&b.call(this,a,c,d);e(a)&&d.$$postDigest(function(){e(g)&&f()})},c)}function p(a,b,c,d){var e;return e=a.$watch(function(a){e();return d(a)},b,c)}function u(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,c=c!==n&&c!==m?function(c,e,f,g){f=d&&g?g[0]:a(c,e,f,g);return b(f,c,e)}:function(c,d,e,f){e=a(c,
d,e,f);c=b(e,c,d);return w(e)?c:e};a.$$watchDelegate&&a.$$watchDelegate!==l?c.$$watchDelegate=a.$$watchDelegate:b.$stateful||(c.$$watchDelegate=l,d=!a.inputs,c.inputs=a.inputs?a.inputs:[a]);return c}var R=Ba().noUnsafeEval,B={csp:R,expensiveChecks:!1,literals:pa(d),isIdentifierStart:z(c)&&c,isIdentifierContinue:z(e)&&e},r={csp:R,expensiveChecks:!0,literals:pa(d),isIdentifierStart:z(c)&&c,isIdentifierContinue:z(e)&&e},J=!1;g.$$runningExpensiveChecks=function(){return J};return g}]}function wf(){this.$get=
["$rootScope","$exceptionHandler",function(a,b){return vd(function(b){a.$evalAsync(b)},b)}]}function xf(){this.$get=["$browser","$exceptionHandler",function(a,b){return vd(function(b){a.defer(b)},b)}]}function vd(a,b){function d(){this.$$state={status:0}}function c(a,b){return function(c){b.call(a,c)}}function e(c){!c.processScheduled&&c.pending&&(c.processScheduled=!0,a(function(){var a,d,e;e=c.pending;c.processScheduled=!1;c.pending=void 0;for(var f=0,g=e.length;f<g;++f){d=e[f][0];a=e[f][c.status];
try{z(a)?d.resolve(a(c.value)):1===c.status?d.resolve(c.value):d.reject(c.value)}catch(h){d.reject(h),b(h)}}}))}function f(){this.promise=new d}var g=N("$q",TypeError),h=function(){var a=new f;a.resolve=c(a,a.resolve);a.reject=c(a,a.reject);a.notify=c(a,a.notify);return a};S(d.prototype,{then:function(a,b,c){if(y(a)&&y(b)&&y(c))return this;var d=new f;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([d,a,b,c]);0<this.$$state.status&&e(this.$$state);return d.promise},"catch":function(a){return this.then(null,
a)},"finally":function(a,b){return this.then(function(b){return l(b,!0,a)},function(b){return l(b,!1,a)},b)}});S(f.prototype,{resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(g("qcycle",a)):this.$$resolve(a))},$$resolve:function(a){function d(a){k||(k=!0,h.$$resolve(a))}function f(a){k||(k=!0,h.$$reject(a))}var g,h=this,k=!1;try{if(D(a)||z(a))g=a&&a.then;z(g)?(this.promise.$$state.status=-1,g.call(a,d,f,c(this,this.notify))):(this.promise.$$state.value=a,this.promise.$$state.status=
1,e(this.promise.$$state))}catch(l){f(l),b(l)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a;this.promise.$$state.status=2;e(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;0>=this.promise.$$state.status&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;f<g;f++){e=d[f][0];a=d[f][3];try{e.notify(z(a)?a(c):c)}catch(h){b(h)}}})}});var k=function(a,b){var c=new f;b?c.resolve(a):c.reject(a);return c.promise},
l=function(a,b,c){var d=null;try{z(c)&&(d=c())}catch(e){return k(e,!1)}return d&&z(d.then)?d.then(function(){return k(a,b)},function(a){return k(a,!1)}):k(a,b)},m=function(a,b,c,d){var e=new f;e.resolve(a);return e.promise.then(b,c,d)},n=function(a){if(!z(a))throw g("norslvr",a);var b=new f;a(function(a){b.resolve(a)},function(a){b.reject(a)});return b.promise};n.prototype=d.prototype;n.defer=h;n.reject=function(a){var b=new f;b.reject(a);return b.promise};n.when=m;n.resolve=m;n.all=function(a){var b=
new f,c=0,d=L(a)?[]:{};q(a,function(a,e){c++;m(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})});0===c&&b.resolve(d);return b.promise};n.race=function(a){var b=h();q(a,function(a){m(a).then(b.resolve,b.reject)});return b.promise};return n}function Gf(){this.$get=["$window","$timeout",function(a,b){var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame,c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,
e=!!d,f=e?function(a){var b=d(a);return function(){c(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};f.supported=e;return f}]}function vf(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++pb;this.$$ChildScope=null}b.prototype=a;return b}var b=10,d=N("$rootScope"),c=null,e=null;this.digestTtl=function(a){arguments.length&&(b=a);return b};this.$get=
["$exceptionHandler","$parse","$browser",function(f,g,h){function k(a){a.currentScope.$$destroyed=!0}function l(a){9===Ea&&(a.$$childHead&&l(a.$$childHead),a.$$nextSibling&&l(a.$$nextSibling));a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function m(){this.$id=++pb;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount=
{};this.$$watchersCount=0;this.$$isolateBindings=null}function n(a){if(J.$$phase)throw d("inprog",J.$$phase);J.$$phase=a}function p(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function u(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function s(){}function B(){for(;t.length;)try{t.shift()()}catch(a){f(a)}e=null}function r(){null===e&&(e=h.defer(function(){J.$apply(B)}))}m.prototype={constructor:m,$new:function(b,c){var d;c=c||this;b?
(d=new m,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope);d.$parent=c;d.$$prevSibling=c.$$childTail;c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d;(b||c!=this)&&d.$on("$destroy",k);return d},$watch:function(a,b,d,e){var f=g(a);if(f.$$watchDelegate)return f.$$watchDelegate(this,b,d,f,a);var h=this,k=h.$$watchers,l={fn:b,last:s,get:f,exp:e||a,eq:!!d};c=null;z(b)||(l.fn=A);k||(k=h.$$watchers=[]);k.unshift(l);p(this,
1);return function(){0<=Za(k,l)&&p(h,-1);c=null}},$watchGroup:function(a,b){function c(){h=!1;k?(k=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;g.$evalAsync(function(){l&&b(e,e,g)});return function(){l=!1}}if(1===a.length)return this.$watch(a[0],function(a,c,f){e[0]=a;d[0]=c;b(e,a===c?e:d,f)});q(a,function(a,b){var k=g.$watch(a,function(a,f){e[b]=a;d[b]=f;h||(h=!0,g.$evalAsync(c))});f.push(k)});return function(){for(;f.length;)f.shift()()}},
$watchCollection:function(a,b){function c(a){e=a;var b,d,g,h;if(!y(e)){if(D(e))if(ta(e))for(f!==n&&(f=n,u=f.length=0,l++),a=e.length,u!==a&&(l++,f.length=u=a),b=0;b<a;b++)h=f[b],g=e[b],d=h!==h&&g!==g,d||h===g||(l++,f[b]=g);else{f!==p&&(f=p={},u=0,l++);a=0;for(b in e)ua.call(e,b)&&(a++,g=e[b],h=f[b],b in f?(d=h!==h&&g!==g,d||h===g||(l++,f[b]=g)):(u++,f[b]=g,l++));if(u>a)for(b in l++,f)ua.call(e,b)||(u--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$stateful=!0;var d=this,e,f,h,k=1<b.length,l=0,m=
g(a,c),n=[],p={},r=!0,u=0;return this.$watch(m,function(){r?(r=!1,b(e,e,d)):b(e,h,d);if(k)if(D(e))if(ta(e)){h=Array(e.length);for(var a=0;a<e.length;a++)h[a]=e[a]}else for(a in h={},e)ua.call(e,a)&&(h[a]=e[a]);else h=e})},$digest:function(){var a,g,k,l,m,p,u,r,q=b,t,y=[],A,C;n("$digest");h.$$checkUrlChange();this===J&&null!==e&&(h.defer.cancel(e),B());c=null;do{r=!1;t=this;for(p=0;p<v.length;p++){try{C=v[p],C.scope.$eval(C.expression,C.locals)}catch(F){f(F)}c=null}v.length=0;a:do{if(p=t.$$watchers)for(u=
p.length;u--;)try{if(a=p[u])if(m=a.get,(g=m(t))!==(k=a.last)&&!(a.eq?na(g,k):"number"===typeof g&&"number"===typeof k&&isNaN(g)&&isNaN(k)))r=!0,c=a,a.last=a.eq?pa(g,null):g,l=a.fn,l(g,k===s?g:k,t),5>q&&(A=4-q,y[A]||(y[A]=[]),y[A].push({msg:z(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:g,oldVal:k}));else if(a===c){r=!1;break a}}catch(G){f(G)}if(!(p=t.$$watchersCount&&t.$$childHead||t!==this&&t.$$nextSibling))for(;t!==this&&!(p=t.$$nextSibling);)t=t.$parent}while(t=p);if((r||v.length)&&
!q--)throw J.$$phase=null,d("infdig",b,y);}while(r||v.length);for(J.$$phase=null;K<w.length;)try{w[K++]()}catch(D){f(D)}w.length=K=0},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;this===J&&h.$$applicationDestroyed();p(this,-this.$$watchersCount);for(var b in this.$$listenerCount)u(this,this.$$listenerCount[b],b);a&&a.$$childHead==this&&(a.$$childHead=this.$$nextSibling);a&&a.$$childTail==this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&
(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=A;this.$on=this.$watch=this.$watchGroup=function(){return A};this.$$listeners={};this.$$nextSibling=null;l(this)}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a,b){J.$$phase||v.length||h.defer(function(){v.length&&J.$digest()});v.push({scope:this,expression:g(a),locals:b})},$$postDigest:function(a){w.push(a)},
$apply:function(a){try{n("$apply");try{return this.$eval(a)}finally{J.$$phase=null}}catch(b){f(b)}finally{try{J.$digest()}catch(c){throw f(c),c;}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&t.push(b);a=g(a);r()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,u(e,1,a))}},$emit:function(a,
b){var c=[],d,e=this,g=!1,h={name:a,targetScope:e,stopPropagation:function(){g=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=$a([h],arguments,1),l,m;do{d=e.$$listeners[a]||c;h.currentScope=e;l=0;for(m=d.length;l<m;l++)if(d[l])try{d[l].apply(null,k)}catch(n){f(n)}else d.splice(l,1),l--,m--;if(g)return h.currentScope=null,h;e=e.$parent}while(e);h.currentScope=null;return h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=
!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var g=$a([e],arguments,1),h,k;c=d;){e.currentScope=c;d=c.$$listeners[a]||[];h=0;for(k=d.length;h<k;h++)if(d[h])try{d[h].apply(null,g)}catch(l){f(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}e.currentScope=null;return e}};var J=new m,v=J.$$asyncQueue=[],w=J.$$postDigestQueue=[],t=J.$$applyAsyncQueue=[],K=0;return J}]}function ne(){var a=
/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return w(b)?(a=b,this):a};this.imgSrcSanitizationWhitelist=function(a){return w(a)?(b=a,this):b};this.$get=function(){return function(d,c){var e=c?b:a,f;f=Y(d).href;return""===f||f.match(e)?d:"unsafe:"+f}}}function og(a){if("self"===a)return a;if(G(a)){if(-1<a.indexOf("***"))throw sa("iwcard",a);a=wd(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*");return new RegExp("^"+
a+"$")}if(Wa(a))return new RegExp("^"+a.source+"$");throw sa("imatcher");}function xd(a){var b=[];w(a)&&q(a,function(a){b.push(og(a))});return b}function zf(){this.SCE_CONTEXTS=la;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){arguments.length&&(a=xd(b));return a};this.resourceUrlBlacklist=function(a){arguments.length&&(b=xd(a));return b};this.$get=["$injector",function(d){function c(a,b){return"self"===a?id(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=
function(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var f=function(a){throw sa("unsafe");};d.has("$sanitize")&&(f=d.get("$sanitize"));var g=e(),h={};h[la.HTML]=e(g);h[la.CSS]=e(g);h[la.URL]=e(g);h[la.JS]=e(g);h[la.RESOURCE_URL]=e(h[la.URL]);return{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw sa("icontext",a,b);if(null===b||y(b)||
""===b)return b;if("string"!==typeof b)throw sa("itype",a);return new c(b)},getTrusted:function(d,e){if(null===e||y(e)||""===e)return e;var g=h.hasOwnProperty(d)?h[d]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(d===la.RESOURCE_URL){var g=Y(e.toString()),n,p,u=!1;n=0;for(p=a.length;n<p;n++)if(c(a[n],g)){u=!0;break}if(u)for(n=0,p=b.length;n<p;n++)if(c(b[n],g)){u=!1;break}if(u)return e;throw sa("insecurl",e.toString());}if(d===la.HTML)return f(e);throw sa("unsafe");},valueOf:function(a){return a instanceof
g?a.$$unwrapTrustedValue():a}}}]}function yf(){var a=!0;this.enabled=function(b){arguments.length&&(a=!!b);return a};this.$get=["$parse","$sceDelegate",function(b,d){if(a&&8>Ea)throw sa("iequirks");var c=ia(la);c.isEnabled=function(){return a};c.trustAs=d.trustAs;c.getTrusted=d.getTrusted;c.valueOf=d.valueOf;a||(c.trustAs=c.getTrusted=function(a,b){return b},c.valueOf=Xa);c.parseAs=function(a,d){var e=b(d);return e.literal&&e.constant?e:b(d,function(b){return c.getTrusted(a,b)})};var e=c.parseAs,
f=c.getTrusted,g=c.trustAs;q(la,function(a,b){var d=Q(b);c[db("parse_as_"+d)]=function(b){return e(a,b)};c[db("get_trusted_"+d)]=function(b){return f(a,b)};c[db("trust_as_"+d)]=function(b){return g(a,b)}});return c}]}function Af(){this.$get=["$window","$document",function(a,b){var d={},c=!(a.chrome&&a.chrome.app&&a.chrome.app.runtime)&&a.history&&a.history.pushState,e=Z((/android (\d+)/.exec(Q((a.navigator||{}).userAgent))||[])[1]),f=/Boxee/i.test((a.navigator||{}).userAgent),g=b[0]||{},h,k=/^(Moz|webkit|ms)(?=[A-Z])/,
l=g.body&&g.body.style,m=!1,n=!1;if(l){for(var p in l)if(m=k.exec(p)){h=m[0];h=h[0].toUpperCase()+h.substr(1);break}h||(h="WebkitOpacity"in l&&"webkit");m=!!("transition"in l||h+"Transition"in l);n=!!("animation"in l||h+"Animation"in l);!e||m&&n||(m=G(l.webkitTransition),n=G(l.webkitAnimation))}return{history:!(!c||4>e||f),hasEvent:function(a){if("input"===a&&11>=Ea)return!1;if(y(d[a])){var b=g.createElement("div");d[a]="on"+a in b}return d[a]},csp:Ba(),vendorPrefix:h,transitions:m,animations:n,android:e}}]}
function Cf(){var a;this.httpOptions=function(b){return b?(a=b,this):a};this.$get=["$templateCache","$http","$q","$sce",function(b,d,c,e){function f(g,h){f.totalPendingRequests++;if(!G(g)||y(b.get(g)))g=e.getTrustedResourceUrl(g);var k=d.defaults&&d.defaults.transformResponse;L(k)?k=k.filter(function(a){return a!==dc}):k===dc&&(k=null);return d.get(g,S({cache:b,transformResponse:k},a))["finally"](function(){f.totalPendingRequests--}).then(function(a){b.put(g,a.data);return a.data},function(a){if(!h)throw pg("tpload",
g,a.status,a.statusText);return c.reject(a)})}f.totalPendingRequests=0;return f}]}function Df(){this.$get=["$rootScope","$browser","$location",function(a,b,d){return{findBindings:function(a,b,d){a=a.getElementsByClassName("ng-binding");var g=[];q(a,function(a){var c=ca.element(a).data("$binding");c&&q(c,function(c){d?(new RegExp("(^|\\s)"+wd(b)+"(\\s|\\||$)")).test(c)&&g.push(a):-1!=c.indexOf(b)&&g.push(a)})});return g},findModels:function(a,b,d){for(var g=["ng-","data-ng-","ng\\:"],h=0;h<g.length;++h){var k=
a.querySelectorAll("["+g[h]+"model"+(d?"=":"*=")+'"'+b+'"]');if(k.length)return k}},getLocation:function(){return d.url()},setLocation:function(b){b!==d.url()&&(d.url(b),a.$digest())},whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function Ef(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,d,c,e){function f(f,k,l){z(f)||(l=k,k=f,f=A);var m=va.call(arguments,3),n=w(l)&&!l,p=(n?c:d).defer(),u=p.promise,q;q=b.defer(function(){try{p.resolve(f.apply(null,
m))}catch(b){p.reject(b),e(b)}finally{delete g[u.$$timeoutId]}n||a.$apply()},k);u.$$timeoutId=q;g[q]=p;return u}var g={};f.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1};return f}]}function Y(a){Ea&&($.setAttribute("href",a),a=$.href);$.setAttribute("href",a);return{href:$.href,protocol:$.protocol?$.protocol.replace(/:$/,""):"",host:$.host,search:$.search?$.search.replace(/^\?/,""):"",hash:$.hash?$.hash.replace(/^#/,
""):"",hostname:$.hostname,port:$.port,pathname:"/"===$.pathname.charAt(0)?$.pathname:"/"+$.pathname}}function id(a){a=G(a)?Y(a):a;return a.protocol===yd.protocol&&a.host===yd.host}function Ff(){this.$get=ha(C)}function zd(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var d=a[0]||{},c={},e="";return function(){var a,g,h,k,l;a=d.cookie||"";if(a!==e)for(e=a,a=e.split("; "),c={},h=0;h<a.length;h++)g=a[h],k=g.indexOf("="),0<k&&(l=b(g.substring(0,k)),y(c[l])&&(c[l]=b(g.substring(k+
1))));return c}}function Jf(){this.$get=zd}function Mc(a){function b(d,c){if(D(d)){var e={};q(d,function(a,c){e[c]=b(c,a)});return e}return a.factory(d+"Filter",c)}this.register=b;this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}];b("currency",Ad);b("date",Bd);b("filter",qg);b("json",rg);b("limitTo",sg);b("lowercase",tg);b("number",Cd);b("orderBy",Dd);b("uppercase",ug)}function qg(){return function(a,b,d,c){if(!ta(a)){if(null==a)return a;throw N("filter")("notarray",
a);}c=c||"$";var e;switch(lc(b)){case "function":break;case "boolean":case "null":case "number":case "string":e=!0;case "object":b=vg(b,d,c,e);break;default:return a}return Array.prototype.filter.call(a,b)}}function vg(a,b,d,c){var e=D(a)&&d in a;!0===b?b=na:z(b)||(b=function(a,b){if(y(a))return!1;if(null===a||null===b)return a===b;if(D(b)||D(a)&&!vc(a))return!1;a=Q(""+a);b=Q(""+b);return-1!==a.indexOf(b)});return function(f){return e&&!D(f)?La(f,a[d],b,d,!1):La(f,a,b,d,c)}}function La(a,b,d,c,e,
f){var g=lc(a),h=lc(b);if("string"===h&&"!"===b.charAt(0))return!La(a,b.substring(1),d,c,e);if(L(a))return a.some(function(a){return La(a,b,d,c,e)});switch(g){case "object":var k;if(e){for(k in a)if("$"!==k.charAt(0)&&La(a[k],b,d,c,!0))return!0;return f?!1:La(a,b,d,c,!1)}if("object"===h){for(k in b)if(f=b[k],!z(f)&&!y(f)&&(g=k===c,!La(g?a:a[k],f,d,c,g,g)))return!1;return!0}return d(a,b);case "function":return!1;default:return d(a,b)}}function lc(a){return null===a?"null":typeof a}function Ad(a){var b=
a.NUMBER_FORMATS;return function(a,c,e){y(c)&&(c=b.CURRENCY_SYM);y(e)&&(e=b.PATTERNS[1].maxFrac);return null==a?a:Ed(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,e).replace(/\u00A4/g,c)}}function Cd(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Ed(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function wg(a){var b=0,d,c,e,f,g;-1<(c=a.indexOf(Fd))&&(a=a.replace(Fd,""));0<(e=a.search(/e/i))?(0>c&&(c=e),c+=+a.slice(e+1),a=a.substring(0,e)):0>c&&(c=a.length);for(e=0;a.charAt(e)==mc;e++);
if(e==(g=a.length))d=[0],c=1;else{for(g--;a.charAt(g)==mc;)g--;c-=e;d=[];for(f=0;e<=g;e++,f++)d[f]=+a.charAt(e)}c>Gd&&(d=d.splice(0,Gd-1),b=c-1,c=1);return{d:d,e:b,i:c}}function xg(a,b,d,c){var e=a.d,f=e.length-a.i;b=y(b)?Math.min(Math.max(d,f),c):+b;d=b+a.i;c=e[d];if(0<d){e.splice(Math.max(a.i,d));for(var g=d;g<e.length;g++)e[g]=0}else for(f=Math.max(0,f),a.i=1,e.length=Math.max(1,d=b+1),e[0]=0,g=1;g<d;g++)e[g]=0;if(5<=c)if(0>d-1){for(c=0;c>d;c--)e.unshift(0),a.i++;e.unshift(1);a.i++}else e[d-1]++;
for(;f<Math.max(0,b);f++)e.push(0);if(b=e.reduceRight(function(a,b,c,d){b+=a;d[c]=b%10;return Math.floor(b/10)},0))e.unshift(b),a.i++}function Ed(a,b,d,c,e){if(!G(a)&&!T(a)||isNaN(a))return"";var f=!isFinite(a),g=!1,h=Math.abs(a)+"",k="";if(f)k="\u221e";else{g=wg(h);xg(g,e,b.minFrac,b.maxFrac);k=g.d;h=g.i;e=g.e;f=[];for(g=k.reduce(function(a,b){return a&&!b},!0);0>h;)k.unshift(0),h++;0<h?f=k.splice(h,k.length):(f=k,k=[0]);h=[];for(k.length>=b.lgSize&&h.unshift(k.splice(-b.lgSize,k.length).join(""));k.length>
b.gSize;)h.unshift(k.splice(-b.gSize,k.length).join(""));k.length&&h.unshift(k.join(""));k=h.join(d);f.length&&(k+=c+f.join(""));e&&(k+="e+"+e)}return 0>a&&!g?b.negPre+k+b.negSuf:b.posPre+k+b.posSuf}function Kb(a,b,d,c){var e="";if(0>a||c&&0>=a)c?a=-a+1:(a=-a,e="-");for(a=""+a;a.length<b;)a=mc+a;d&&(a=a.substr(a.length-b));return e+a}function ba(a,b,d,c,e){d=d||0;return function(f){f=f["get"+a]();if(0<d||f>-d)f+=d;0===f&&-12==d&&(f=12);return Kb(f,b,c,e)}}function kb(a,b,d){return function(c,e){var f=
c["get"+a](),g=ub((d?"STANDALONE":"")+(b?"SHORT":"")+a);return e[g][f]}}function Hd(a){var b=(new Date(a,0,1)).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Id(a){return function(b){var d=Hd(b.getFullYear());b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+d;b=1+Math.round(b/6048E5);return Kb(b,a)}}function nc(a,b){return 0>=a.getFullYear()?b.ERAS[0]:b.ERAS[1]}function Bd(a){function b(a){var b;if(b=a.match(d)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,
k=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=Z(b[9]+b[10]),g=Z(b[9]+b[11]));h.call(a,Z(b[1]),Z(b[2])-1,Z(b[3]));f=Z(b[4]||0)-f;g=Z(b[5]||0)-g;h=Z(b[6]||0);b=Math.round(1E3*parseFloat("0."+(b[7]||0)));k.call(a,f,g,h,b)}return a}var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,f){var g="",h=[],k,l;d=d||"mediumDate";d=a.DATETIME_FORMATS[d]||d;G(c)&&(c=yg.test(c)?Z(c):b(c));T(c)&&(c=new Date(c));if(!da(c)||!isFinite(c.getTime()))return c;
for(;d;)(l=zg.exec(d))?(h=$a(h,l,1),d=h.pop()):(h.push(d),d=null);var m=c.getTimezoneOffset();f&&(m=yc(f,m),c=Sb(c,f,!0));q(h,function(b){k=Ag[b];g+=k?k(c,a.DATETIME_FORMATS,m):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return g}}function rg(){return function(a,b){y(b)&&(b=2);return bb(a,b)}}function sg(){return function(a,b,d){b=Infinity===Math.abs(Number(b))?Number(b):Z(b);if(isNaN(b))return a;T(a)&&(a=a.toString());if(!ta(a))return a;d=!d||isNaN(d)?0:Z(d);d=0>d?Math.max(0,a.length+
d):d;return 0<=b?oc(a,d,d+b):0===d?oc(a,b,a.length):oc(a,Math.max(0,d+b),d)}}function oc(a,b,d){return G(a)?a.slice(b,d):va.call(a,b,d)}function Dd(a){function b(b){return b.map(function(b){var c=1,d=Xa;if(z(b))d=b;else if(G(b)){if("+"==b.charAt(0)||"-"==b.charAt(0))c="-"==b.charAt(0)?-1:1,b=b.substring(1);if(""!==b&&(d=a(b),d.constant))var e=d(),d=function(a){return a[e]}}return{get:d,descending:c}})}function d(a){switch(typeof a){case "number":case "boolean":case "string":return!0;default:return!1}}
function c(a,b){var c=0,d=a.type,k=b.type;if(d===k){var k=a.value,l=b.value;"string"===d?(k=k.toLowerCase(),l=l.toLowerCase()):"object"===d&&(D(k)&&(k=a.index),D(l)&&(l=b.index));k!==l&&(c=k<l?-1:1)}else c=d<k?-1:1;return c}return function(a,f,g,h){if(null==a)return a;if(!ta(a))throw N("orderBy")("notarray",a);L(f)||(f=[f]);0===f.length&&(f=["+"]);var k=b(f),l=g?-1:1,m=z(h)?h:c;a=Array.prototype.map.call(a,function(a,b){return{value:a,tieBreaker:{value:b,type:"number",index:b},predicateValues:k.map(function(c){var e=
c.get(a);c=typeof e;if(null===e)c="string",e="null";else if("object"===c)a:{if(z(e.valueOf)&&(e=e.valueOf(),d(e)))break a;vc(e)&&(e=e.toString(),d(e))}return{value:e,type:c,index:b}})}});a.sort(function(a,b){for(var c=0,d=k.length;c<d;c++){var e=m(a.predicateValues[c],b.predicateValues[c]);if(e)return e*k[c].descending*l}return m(a.tieBreaker,b.tieBreaker)*l});return a=a.map(function(a){return a.value})}}function Ta(a){z(a)&&(a={link:a});a.restrict=a.restrict||"AC";return ha(a)}function Jd(a,b,d,
c,e){var f=this,g=[];f.$error={};f.$$success={};f.$pending=void 0;f.$name=e(b.name||b.ngForm||"")(d);f.$dirty=!1;f.$pristine=!0;f.$valid=!0;f.$invalid=!1;f.$submitted=!1;f.$$parentForm=Lb;f.$rollbackViewValue=function(){q(g,function(a){a.$rollbackViewValue()})};f.$commitViewValue=function(){q(g,function(a){a.$commitViewValue()})};f.$addControl=function(a){Qa(a.$name,"input");g.push(a);a.$name&&(f[a.$name]=a);a.$$parentForm=f};f.$$renameControl=function(a,b){var c=a.$name;f[c]===a&&delete f[c];f[b]=
a;a.$name=b};f.$removeControl=function(a){a.$name&&f[a.$name]===a&&delete f[a.$name];q(f.$pending,function(b,c){f.$setValidity(c,null,a)});q(f.$error,function(b,c){f.$setValidity(c,null,a)});q(f.$$success,function(b,c){f.$setValidity(c,null,a)});Za(g,a);a.$$parentForm=Lb};Kd({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];d?-1===d.indexOf(c)&&d.push(c):a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(Za(d,c),0===d.length&&delete a[b])},$animate:c});f.$setDirty=function(){c.removeClass(a,Ua);c.addClass(a,
Mb);f.$dirty=!0;f.$pristine=!1;f.$$parentForm.$setDirty()};f.$setPristine=function(){c.setClass(a,Ua,Mb+" ng-submitted");f.$dirty=!1;f.$pristine=!0;f.$submitted=!1;q(g,function(a){a.$setPristine()})};f.$setUntouched=function(){q(g,function(a){a.$setUntouched()})};f.$setSubmitted=function(){c.addClass(a,"ng-submitted");f.$submitted=!0;f.$$parentForm.$setSubmitted()}}function pc(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function lb(a,b,d,c,e,f){var g=Q(b[0].type);if(!e.android){var h=
!1;b.on("compositionstart",function(){h=!0});b.on("compositionend",function(){h=!1;l()})}var k,l=function(a){k&&(f.defer.cancel(k),k=null);if(!h){var e=b.val();a=a&&a.type;"password"===g||d.ngTrim&&"false"===d.ngTrim||(e=W(e));(c.$viewValue!==e||""===e&&c.$$hasNativeValidators)&&c.$setViewValue(e,a)}};if(e.hasEvent("input"))b.on("input",l);else{var m=function(a,b,c){k||(k=f.defer(function(){k=null;b&&b.value===c||l(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||
m(a,this,this.value)});if(e.hasEvent("paste"))b.on("paste cut",m)}b.on("change",l);if(Ld[g]&&c.$$hasNativeValidators&&g===d.type)b.on("keydown wheel mousedown",function(a){if(!k){var b=this.validity,c=b.badInput,d=b.typeMismatch;k=f.defer(function(){k=null;b.badInput===c&&b.typeMismatch===d||l(a)})}});c.$render=function(){var a=c.$isEmpty(c.$viewValue)?"":c.$viewValue;b.val()!==a&&b.val(a)}}function Nb(a,b){return function(d,c){var e,f;if(da(d))return d;if(G(d)){'"'==d.charAt(0)&&'"'==d.charAt(d.length-
1)&&(d=d.substring(1,d.length-1));if(Bg.test(d))return new Date(d);a.lastIndex=0;if(e=a.exec(d))return e.shift(),f=c?{yyyy:c.getFullYear(),MM:c.getMonth()+1,dd:c.getDate(),HH:c.getHours(),mm:c.getMinutes(),ss:c.getSeconds(),sss:c.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},q(e,function(a,c){c<b.length&&(f[b[c]]=+a)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1E3*f.sss||0)}return NaN}}function mb(a,b,d,c){return function(e,f,g,h,k,l,m){function n(a){return a&&!(a.getTime&&
a.getTime()!==a.getTime())}function p(a){return w(a)&&!da(a)?d(a)||void 0:a}Md(e,f,g,h);lb(e,f,g,h,k,l);var u=h&&h.$options&&h.$options.timezone,q;h.$$parserName=a;h.$parsers.push(function(a){if(h.$isEmpty(a))return null;if(b.test(a))return a=d(a,q),u&&(a=Sb(a,u)),a});h.$formatters.push(function(a){if(a&&!da(a))throw nb("datefmt",a);if(n(a))return(q=a)&&u&&(q=Sb(q,u,!0)),m("date")(a,c,u);q=null;return""});if(w(g.min)||g.ngMin){var s;h.$validators.min=function(a){return!n(a)||y(s)||d(a)>=s};g.$observe("min",
function(a){s=p(a);h.$validate()})}if(w(g.max)||g.ngMax){var r;h.$validators.max=function(a){return!n(a)||y(r)||d(a)<=r};g.$observe("max",function(a){r=p(a);h.$validate()})}}}function Md(a,b,d,c){(c.$$hasNativeValidators=D(b[0].validity))&&c.$parsers.push(function(a){var c=b.prop("validity")||{};return c.badInput||c.typeMismatch?void 0:a})}function Nd(a,b,d,c,e){if(w(c)){a=a(c);if(!a.constant)throw nb("constexpr",d,c);return a(b)}return e}function qc(a,b){a="ngClass"+a;return["$animate",function(d){function c(a,
b){var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],m=0;m<b.length;m++)if(e==b[m])continue a;c.push(e)}return c}function e(a){var b=[];return L(a)?(q(a,function(a){b=b.concat(e(a))}),b):G(a)?a.split(" "):D(a)?(q(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(f,g,h){function k(a){a=l(a,1);h.$addClass(a)}function l(a,b){var c=g.data("$classCounts")||U(),d=[];q(a,function(a){if(0<b||c[a])c[a]=(c[a]||0)+b,c[a]===+(0<b)&&d.push(a)});g.data("$classCounts",c);return d.join(" ")}
function m(a,b){var e=c(b,a),f=c(a,b),e=l(e,1),f=l(f,-1);e&&e.length&&d.addClass(g,e);f&&f.length&&d.removeClass(g,f)}function n(a){if(!0===b||(f.$index&1)===b){var c=e(a||[]);if(!p)k(c);else if(!na(a,p)){var d=e(p);m(d,c)}}p=L(a)?a.map(function(a){return ia(a)}):ia(a)}var p;f.$watch(h[a],n,!0);h.$observe("class",function(b){n(f.$eval(h[a]))});"ngClass"!==a&&f.$watch("$index",function(c,d){var g=c&1;if(g!==(d&1)){var m=e(f.$eval(h[a]));g===b?k(m):(g=l(m,-1),h.$removeClass(g))}})}}}]}function Kd(a){function b(a,
b){b&&!f[a]?(k.addClass(e,a),f[a]=!0):!b&&f[a]&&(k.removeClass(e,a),f[a]=!1)}function d(a,c){a=a?"-"+Cc(a,"-"):"";b(ob+a,!0===c);b(Od+a,!1===c)}var c=a.ctrl,e=a.$element,f={},g=a.set,h=a.unset,k=a.$animate;f[Od]=!(f[ob]=e.hasClass(ob));c.$setValidity=function(a,e,f){y(e)?(c.$pending||(c.$pending={}),g(c.$pending,a,f)):(c.$pending&&h(c.$pending,a,f),Pd(c.$pending)&&(c.$pending=void 0));Ga(e)?e?(h(c.$error,a,f),g(c.$$success,a,f)):(g(c.$error,a,f),h(c.$$success,a,f)):(h(c.$error,a,f),h(c.$$success,
a,f));c.$pending?(b(Qd,!0),c.$valid=c.$invalid=void 0,d("",null)):(b(Qd,!1),c.$valid=Pd(c.$error),c.$invalid=!c.$valid,d("",c.$valid));e=c.$pending&&c.$pending[a]?void 0:c.$error[a]?!1:c.$$success[a]?!0:null;d(a,e);c.$$parentForm.$setValidity(a,e,c)}}function Pd(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}var Cg=/^\/(.+)\/([a-z]*)$/,ua=Object.prototype.hasOwnProperty,Q=function(a){return G(a)?a.toLowerCase():a},ub=function(a){return G(a)?a.toUpperCase():a},Ea,F,qa,va=[].slice,
bg=[].splice,Dg=[].push,ma=Object.prototype.toString,wc=Object.getPrototypeOf,xa=N("ng"),ca=C.angular||(C.angular={}),Ub,pb=0;Ea=C.document.documentMode;A.$inject=[];Xa.$inject=[];var L=Array.isArray,ae=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,W=function(a){return G(a)?a.trim():a},wd=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ba=function(){if(!w(Ba.rules)){var a=C.document.querySelector("[ng-csp]")||
C.document.querySelector("[data-ng-csp]");if(a){var b=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp");Ba.rules={noUnsafeEval:!b||-1!==b.indexOf("no-unsafe-eval"),noInlineStyle:!b||-1!==b.indexOf("no-inline-style")}}else{a=Ba;try{new Function(""),b=!1}catch(d){b=!0}a.rules={noUnsafeEval:b,noInlineStyle:!1}}}return Ba.rules},rb=function(){if(w(rb.name_))return rb.name_;var a,b,d=Na.length,c,e;for(b=0;b<d;++b)if(c=Na[b],a=C.document.querySelector("["+c.replace(":","\\:")+"jq]")){e=a.getAttribute(c+
"jq");break}return rb.name_=e},de=/:/g,Na=["ng-","data-ng-","ng:","x-ng-"],ie=/[A-Z]/g,Dc=!1,Ma=3,me={full:"1.5.8",major:1,minor:5,dot:8,codeName:"arbitrary-fallbacks"};O.expando="ng339";var fb=O.cache={},Pf=1;O._data=function(a){return this.cache[a[this.expando]]||{}};var Kf=/([\:\-\_]+(.))/g,Lf=/^moz([A-Z])/,yb={mouseleave:"mouseout",mouseenter:"mouseover"},Wb=N("jqLite"),Of=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Vb=/<|&#?\w+;/,Mf=/<([\w:-]+)/,Nf=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,
ja={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ja.optgroup=ja.option;ja.tbody=ja.tfoot=ja.colgroup=ja.caption=ja.thead;ja.th=ja.td;var Uf=C.Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&16)},Oa=O.prototype={ready:function(a){function b(){d||(d=!0,a())}var d=!1;"complete"===
C.document.readyState?C.setTimeout(b):(this.on("DOMContentLoaded",b),O(C).on("load",b))},toString:function(){var a=[];q(this,function(b){a.push(""+b)});return"["+a.join(", ")+"]"},eq:function(a){return 0<=a?F(this[a]):F(this[this.length+a])},length:0,push:Dg,sort:[].sort,splice:[].splice},Eb={};q("multiple selected checked disabled readOnly required open".split(" "),function(a){Eb[Q(a)]=a});var Vc={};q("input select option textarea button form details".split(" "),function(a){Vc[a]=!0});var bd={ngMinlength:"minlength",
ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};q({data:Yb,removeData:eb,hasData:function(a){for(var b in fb[a.ng339])return!0;return!1},cleanData:function(a){for(var b=0,d=a.length;b<d;b++)eb(a[b])}},function(a,b){O[b]=a});q({data:Yb,inheritedData:Cb,scope:function(a){return F.data(a,"$scope")||Cb(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return F.data(a,"$isolateScope")||F.data(a,"$isolateScopeNoTemplate")},controller:Sc,injector:function(a){return Cb(a,
"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:zb,css:function(a,b,d){b=db(b);if(w(d))a.style[b]=d;else return a.style[b]},attr:function(a,b,d){var c=a.nodeType;if(c!==Ma&&2!==c&&8!==c)if(c=Q(b),Eb[c])if(w(d))d?(a[b]=!0,a.setAttribute(b,c)):(a[b]=!1,a.removeAttribute(c));else return a[b]||(a.attributes.getNamedItem(b)||A).specified?c:void 0;else if(w(d))a.setAttribute(b,d);else if(a.getAttribute)return a=a.getAttribute(b,2),null===a?void 0:a},prop:function(a,b,d){if(w(d))a[b]=
d;else return a[b]},text:function(){function a(a,d){if(y(d)){var c=a.nodeType;return 1===c||c===Ma?a.textContent:""}a.textContent=d}a.$dv="";return a}(),val:function(a,b){if(y(b)){if(a.multiple&&"select"===wa(a)){var d=[];q(a.options,function(a){a.selected&&d.push(a.value||a.text)});return 0===d.length?null:d}return a.value}a.value=b},html:function(a,b){if(y(b))return a.innerHTML;wb(a,!0);a.innerHTML=b},empty:Tc},function(a,b){O.prototype[b]=function(b,c){var e,f,g=this.length;if(a!==Tc&&y(2==a.length&&
a!==zb&&a!==Sc?b:c)){if(D(b)){for(e=0;e<g;e++)if(a===Yb)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}e=a.$dv;g=y(e)?Math.min(g,1):g;for(f=0;f<g;f++){var h=a(this[f],b,c);e=e?e+h:h}return e}for(e=0;e<g;e++)a(this[e],b,c);return this}});q({removeData:eb,on:function(a,b,d,c){if(w(c))throw Wb("onargs");if(Nc(a)){c=xb(a,!0);var e=c.events,f=c.handle;f||(f=c.handle=Rf(a,e));c=0<=b.indexOf(" ")?b.split(" "):[b];for(var g=c.length,h=function(b,c,g){var h=e[b];h||(h=e[b]=[],h.specialHandlerWrapper=
c,"$destroy"===b||g||a.addEventListener(b,f,!1));h.push(d)};g--;)b=c[g],yb[b]?(h(yb[b],Tf),h(b,void 0,!0)):h(b)}},off:Rc,one:function(a,b,d){a=F(a);a.on(b,function e(){a.off(b,d);a.off(b,e)});a.on(b,d)},replaceWith:function(a,b){var d,c=a.parentNode;wb(a);q(new O(b),function(b){d?c.insertBefore(b,d.nextSibling):c.replaceChild(b,a);d=b})},children:function(a){var b=[];q(a.childNodes,function(a){1===a.nodeType&&b.push(a)});return b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,
b){var d=a.nodeType;if(1===d||11===d){b=new O(b);for(var d=0,c=b.length;d<c;d++)a.appendChild(b[d])}},prepend:function(a,b){if(1===a.nodeType){var d=a.firstChild;q(new O(b),function(b){a.insertBefore(b,d)})}},wrap:function(a,b){Pc(a,F(b).eq(0).clone()[0])},remove:Db,detach:function(a){Db(a,!0)},after:function(a,b){var d=a,c=a.parentNode;b=new O(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];c.insertBefore(g,d.nextSibling);d=g}},addClass:Bb,removeClass:Ab,toggleClass:function(a,b,d){b&&q(b.split(" "),
function(b){var e=d;y(e)&&(e=!zb(a,b));(e?Bb:Ab)(a,b)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:Xb,triggerHandler:function(a,b,d){var c,e,f=b.type||b,g=xb(a);if(g=(g=g&&g.events)&&g[f])c={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=
!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:A,type:f,target:a},b.type&&(c=S(c,b)),b=ia(g),e=d?[c].concat(d):[c],q(b,function(b){c.isImmediatePropagationStopped()||b.apply(a,e)})}},function(a,b){O.prototype[b]=function(b,c,e){for(var f,g=0,h=this.length;g<h;g++)y(f)?(f=a(this[g],b,c,e),w(f)&&(f=F(f))):Qc(f,a(this[g],b,c,e));return w(f)?f:this};O.prototype.bind=O.prototype.on;O.prototype.unbind=O.prototype.off});Ra.prototype={put:function(a,
b){this[Ca(a,this.nextUid)]=b},get:function(a){return this[Ca(a,this.nextUid)]},remove:function(a){var b=this[a=Ca(a,this.nextUid)];delete this[a];return b}};var If=[function(){this.$get=[function(){return Ra}]}],Wf=/^([^\(]+?)=>/,Xf=/^[^\(]*\(\s*([^\)]*)\)/m,Eg=/,/,Fg=/^\s*(_?)(\S+?)\1\s*$/,Vf=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,Ha=N("$injector");cb.$$annotate=function(a,b,d){var c;if("function"===typeof a){if(!(c=a.$inject)){c=[];if(a.length){if(b)throw G(d)&&d||(d=a.name||Yf(a)),Ha("strictdi",d);
b=Wc(a);q(b[1].split(Eg),function(a){a.replace(Fg,function(a,b,d){c.push(d)})})}a.$inject=c}}else L(a)?(b=a.length-1,Pa(a[b],"fn"),c=a.slice(0,b)):Pa(a,"fn",!0);return c};var Rd=N("$animate"),$e=function(){this.$get=A},af=function(){var a=new Ra,b=[];this.$get=["$$AnimateRunner","$rootScope",function(d,c){function e(a,b,c){var d=!1;b&&(b=G(b)?b.split(" "):L(b)?b:[],q(b,function(b){b&&(d=!0,a[b]=c)}));return d}function f(){q(b,function(b){var c=a.get(b);if(c){var d=Zf(b.attr("class")),e="",f="";q(c,
function(a,b){a!==!!d[b]&&(a?e+=(e.length?" ":"")+b:f+=(f.length?" ":"")+b)});q(b,function(a){e&&Bb(a,e);f&&Ab(a,f)});a.remove(b)}});b.length=0}return{enabled:A,on:A,off:A,pin:A,push:function(g,h,k,l){l&&l();k=k||{};k.from&&g.css(k.from);k.to&&g.css(k.to);if(k.addClass||k.removeClass)if(h=k.addClass,l=k.removeClass,k=a.get(g)||{},h=e(k,h,!0),l=e(k,l,!1),h||l)a.put(g,k),b.push(g),1===b.length&&c.$$postDigest(f);g=new d;g.complete();return g}}}]},Ye=["$provide",function(a){var b=this;this.$$registeredAnimations=
Object.create(null);this.register=function(d,c){if(d&&"."!==d.charAt(0))throw Rd("notcsel",d);var e=d+"-animation";b.$$registeredAnimations[d.substr(1)]=e;a.factory(e,c)};this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Rd("nongcls","ng-animate");return this.$$classNameFilter};this.$get=["$$animateQueue",function(a){function b(a,c,d){if(d){var h;a:{for(h=0;h<d.length;h++){var k=
d[h];if(1===k.nodeType){h=k;break a}}h=void 0}!h||h.parentNode||h.previousElementSibling||(d=null)}d?d.after(a):c.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(e,f,g,h){f=f&&F(f);g=g&&F(g);f=f||g.parent();b(e,f,g);return a.push(e,"enter",Ia(h))},move:function(e,f,g,h){f=f&&F(f);g=g&&F(g);f=f||g.parent();b(e,f,g);return a.push(e,"move",Ia(h))},leave:function(b,c){return a.push(b,"leave",Ia(c),function(){b.remove()})},addClass:function(b,
c,g){g=Ia(g);g.addClass=gb(g.addclass,c);return a.push(b,"addClass",g)},removeClass:function(b,c,g){g=Ia(g);g.removeClass=gb(g.removeClass,c);return a.push(b,"removeClass",g)},setClass:function(b,c,g,h){h=Ia(h);h.addClass=gb(h.addClass,c);h.removeClass=gb(h.removeClass,g);return a.push(b,"setClass",h)},animate:function(b,c,g,h,k){k=Ia(k);k.from=k.from?S(k.from,c):c;k.to=k.to?S(k.to,g):g;k.tempClasses=gb(k.tempClasses,h||"ng-inline-animate");return a.push(b,"animate",k)}}}]}],cf=function(){this.$get=
["$$rAF",function(a){function b(b){d.push(b);1<d.length||a(function(){for(var a=0;a<d.length;a++)d[a]();d=[]})}var d=[];return function(){var a=!1;b(function(){a=!0});return function(d){a?d():b(d)}}}]},bf=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(a,b,d,c,e){function f(a){this.setHost(a);var b=d();this._doneCallbacks=[];this._tick=function(a){var d=c[0];d&&d.hidden?e(a,0,!1):b(a)};this._state=0}f.chain=function(a,b){function c(){if(d===a.length)b(!0);
else a[d](function(a){!1===a?b(!1):(d++,c())})}var d=0;c()};f.all=function(a,b){function c(f){e=e&&f;++d===a.length&&b(e)}var d=0,e=!0;q(a,function(a){a.done(c)})};f.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===this._state?a():this._doneCallbacks.push(a)},progress:A,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},
"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end();this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel();this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(q(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=
0,this._state=2)}};return f}]},Ze=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,d){return function(b,e){function f(){a(function(){g.addClass&&(b.addClass(g.addClass),g.addClass=null);g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null);g.to&&(b.css(g.to),g.to=null);h||k.complete();h=!0});return k}var g=e||{};g.$$prepared||(g=pa(g));g.cleanupStyles&&(g.from=g.to=null);g.from&&(b.css(g.from),g.from=null);var h,k=new d;return{start:f,end:f}}}]},ga=N("$compile"),bc=new function(){};
Fc.$inject=["$provide","$$sanitizeUriProvider"];Fb.prototype.isFirstChange=function(){return this.previousValue===bc};var Yc=/^((?:x|data)[\:\-_])/i,cg=N("$controller"),cd=/^(\S+)(\s+as\s+([\w$]+))?$/,jf=function(){this.$get=["$document",function(a){return function(b){b?!b.nodeType&&b instanceof F&&(b=b[0]):b=a[0].body;return b.offsetWidth+1}}]},dd="application/json",ec={"Content-Type":dd+";charset=utf-8"},eg=/^\[|^\{(?!\{)/,fg={"[":/]$/,"{":/}$/},dg=/^\)\]\}',?\n/,Gg=N("$http"),hd=function(a){return function(){throw Gg("legacy",
a);}},Ka=ca.$interpolateMinErr=N("$interpolate");Ka.throwNoconcat=function(a){throw Ka("noconcat",a);};Ka.interr=function(a,b){return Ka("interr",a,b.toString())};var rf=function(){this.$get=["$window",function(a){function b(a){var b=function(a){b.data=a;b.called=!0};b.id=a;return b}var d=a.angular.callbacks,c={};return{createCallback:function(a){a="_"+(d.$$counter++).toString(36);var f="angular.callbacks."+a,g=b(a);c[f]=d[a]=g;return f},wasCalled:function(a){return c[a].called},getResponse:function(a){return c[a].data},
removeCallback:function(a){delete d[c[a].id];delete c[a]}}}]},Hg=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,hg={http:80,https:443,ftp:21},Gb=N("$location"),Ig={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Hb("$$absUrl"),url:function(a){if(y(a))return this.$$url;var b=Hg.exec(a);(b[1]||""===a)&&this.path(decodeURIComponent(b[1]));(b[2]||b[1]||""===a)&&this.search(b[3]||"");this.hash(b[5]||"");return this},protocol:Hb("$$protocol"),host:Hb("$$host"),port:Hb("$$port"),path:md("$$path",function(a){a=null!==a?a.toString():
"";return"/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(G(a)||T(a))a=a.toString(),this.$$search=Ac(a);else if(D(a))a=pa(a,{}),q(a,function(b,c){null==b&&delete a[c]}),this.$$search=a;else throw Gb("isrcharg");break;default:y(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}this.$$compose();return this},hash:md("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){this.$$replace=!0;return this}};q([ld,hc,gc],
function(a){a.prototype=Object.create(Ig);a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==gc||!this.$$html5)throw Gb("nostate");this.$$state=y(b)?null:b;return this}});var X=N("$parse"),jg=Function.prototype.call,kg=Function.prototype.apply,lg=Function.prototype.bind,Ob=U();q("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Ob[a]=!0});var Jg={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},jc=function(a){this.options=a};jc.prototype={constructor:jc,
lex:function(a){this.text=a;this.index=0;for(this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),d=b+this.peek(2),c=Ob[b],e=Ob[d];Ob[a]||
c||e?(a=e?d:c?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return"0"<=a&&"9">=a&&"string"===typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdentifierStart:function(a){return this.options.isIdentifierStart?
this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){return 1===a.length?a.charCodeAt(0):
(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var d=a.charCodeAt(0),c=b.charCodeAt(0);return 55296<=d&&56319>=d&&56320<=c&&57343>=c?a+b:a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,d){d=d||this.index;b=w(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,d)+"]":" "+d;throw X("lexerr",a,b,this.text);},readNumber:function(){for(var a="",b=this.index;this.index<
this.text.length;){var d=Q(this.text.charAt(this.index));if("."==d||this.isNumber(d))a+=d;else{var c=this.peek();if("e"==d&&this.isExpOperator(c))a+=d;else if(this.isExpOperator(d)&&c&&this.isNumber(c)&&"e"==a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||c&&this.isNumber(c)||"e"!=a.charAt(a.length-1))break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<
this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var d="",c=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index),c=c+f;if(e)"u"===f?(e=this.text.substring(this.index+1,this.index+5),e.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,d+=String.fromCharCode(parseInt(e,
16))):d+=Jg[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a){this.index++;this.tokens.push({index:b,text:c,constant:!0,value:d});return}d+=f}this.index++}this.throwError("Unterminated quote",b)}};var s=function(a,b){this.lexer=a;this.options=b};s.Program="Program";s.ExpressionStatement="ExpressionStatement";s.AssignmentExpression="AssignmentExpression";s.ConditionalExpression="ConditionalExpression";s.LogicalExpression="LogicalExpression";s.BinaryExpression="BinaryExpression";s.UnaryExpression="UnaryExpression";
s.CallExpression="CallExpression";s.MemberExpression="MemberExpression";s.Identifier="Identifier";s.Literal="Literal";s.ArrayExpression="ArrayExpression";s.Property="Property";s.ObjectExpression="ObjectExpression";s.ThisExpression="ThisExpression";s.LocalsExpression="LocalsExpression";s.NGValueParameter="NGValueParameter";s.prototype={ast:function(a){this.text=a;this.tokens=this.lexer.lex(a);a=this.program();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);return a},
program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:s.Program,body:a}},expressionStatement:function(){return{type:s.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();this.expect("=")&&(a={type:s.AssignmentExpression,
left:a,right:this.assignment(),operator:"="});return a},ternary:function(){var a=this.logicalOR(),b,d;return this.expect("?")&&(b=this.expression(),this.consume(":"))?(d=this.expression(),{type:s.ConditionalExpression,test:a,alternate:b,consequent:d}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:s.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:s.LogicalExpression,
operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a=this.relational(),b;b=this.expect("==","!=","===","!==");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){for(var a=this.additive(),b;b=this.expect("<",">","<=",">=");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var a=this.multiplicative(),b;b=this.expect("+","-");)a={type:s.BinaryExpression,operator:b.text,
left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var a=this.unary(),b;b=this.expect("*","/","%");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:s.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():
this.selfReferential.hasOwnProperty(this.peek().text)?a=pa(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:s.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:s.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):
"["===b.text?(a={type:s.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:s.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var b={type:s.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return b},parseArguments:function(){var a=[];if(")"!==this.peekToken().text){do a.push(this.filterChain());while(this.expect(","))
}return a},identifier:function(){var a=this.consume();a.identifier||this.throwError("is not a valid identifier",a);return{type:s.Identifier,name:a.text}},constant:function(){return{type:s.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text){do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","))}this.consume("]");return{type:s.ArrayExpression,elements:a}},object:function(){var a=[],b;if("}"!==this.peekToken().text){do{if(this.peek("}"))break;
b={type:s.Property,kind:"init"};this.peek().constant?(b.key=this.constant(),b.computed=!1,this.consume(":"),b.value=this.expression()):this.peek().identifier?(b.key=this.identifier(),b.computed=!1,this.peek(":")?(this.consume(":"),b.value=this.expression()):b.value=b.key):this.peek("[")?(this.consume("["),b.key=this.expression(),this.consume("]"),b.computed=!0,this.consume(":"),b.value=this.expression()):this.throwError("invalid key",this.peek());a.push(b)}while(this.expect(","))}this.consume("}");
return{type:s.ObjectExpression,properties:a}},throwError:function(a,b){throw X("syntax",b.text,a,b.index+1,this.text,this.text.substring(b.index));},consume:function(a){if(0===this.tokens.length)throw X("ueoe",this.text);var b=this.expect(a);b||this.throwError("is unexpected, expecting ["+a+"]",this.peek());return b},peekToken:function(){if(0===this.tokens.length)throw X("ueoe",this.text);return this.tokens[0]},peek:function(a,b,d,c){return this.peekAhead(0,a,b,d,c)},peekAhead:function(a,b,d,c,e){if(this.tokens.length>
a){a=this.tokens[a];var f=a.text;if(f===b||f===d||f===c||f===e||!(b||d||c||e))return a}return!1},expect:function(a,b,d,c){return(a=this.peek(a,b,d,c))?(this.tokens.shift(),a):!1},selfReferential:{"this":{type:s.ThisExpression},$locals:{type:s.LocalsExpression}}};td.prototype={compile:function(a,b){var d=this,c=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};V(c,d.$filter);var e="",f;this.stage="assign";
if(f=rd(c))this.state.computing="assign",e=this.nextId(),this.recurse(f,e),this.return_(e),e="fn.assign="+this.generateFunction("assign","s,v,l");f=pd(c.body);d.stage="inputs";q(f,function(a,b){var c="fn"+b;d.state[c]={vars:[],body:[],own:{}};d.state.computing=c;var e=d.nextId();d.recurse(a,e);d.return_(e);d.state.inputs.push(c);a.watchId=b});this.state.computing="fn";this.stage="main";this.recurse(c);e='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+
e+this.watchFns()+"return fn;";e=(new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",e))(this.$filter,Sa,ra,nd,ig,Ib,mg,od,a);this.state=this.stage=void 0;e.literal=sd(c);e.constant=c.constant;return e},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,d=this;q(b,function(b){a.push("var "+b+"="+d.generateFunction(b,"s"))});b.length&&a.push("fn.inputs=["+b.join(",")+"];");
return a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;q(this.state.filters,function(d,c){a.push(d+"=$filter("+b.escape(c)+")")});return a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,c,e,f){var g,h,k=this,l,m,n;c=c||A;if(!f&&w(a.watchId))b=
b||this.nextId(),this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,c,e,!0));else switch(a.type){case s.Program:q(a.body,function(b,c){k.recurse(b.expression,void 0,void 0,function(a){h=a});c!==a.body.length-1?k.current().body.push(h,";"):k.return_(h)});break;case s.Literal:m=this.escape(a.value);this.assign(b,m);c(m);break;case s.UnaryExpression:this.recurse(a.argument,void 0,void 0,function(a){h=a});m=a.operator+"("+this.ifDefined(h,0)+")";this.assign(b,m);
c(m);break;case s.BinaryExpression:this.recurse(a.left,void 0,void 0,function(a){g=a});this.recurse(a.right,void 0,void 0,function(a){h=a});m="+"===a.operator?this.plus(g,h):"-"===a.operator?this.ifDefined(g,0)+a.operator+this.ifDefined(h,0):"("+g+")"+a.operator+"("+h+")";this.assign(b,m);c(m);break;case s.LogicalExpression:b=b||this.nextId();k.recurse(a.left,b);k.if_("&&"===a.operator?b:k.not(b),k.lazyRecurse(a.right,b));c(b);break;case s.ConditionalExpression:b=b||this.nextId();k.recurse(a.test,
b);k.if_(b,k.lazyRecurse(a.alternate,b),k.lazyRecurse(a.consequent,b));c(b);break;case s.Identifier:b=b||this.nextId();d&&(d.context="inputs"===k.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name);Sa(a.name);k.if_("inputs"===k.stage||k.not(k.getHasOwnProperty("l",a.name)),function(){k.if_("inputs"===k.stage||"s",function(){e&&1!==e&&k.if_(k.not(k.nonComputedMember("s",a.name)),k.lazyAssign(k.nonComputedMember("s",a.name),"{}"));k.assign(b,k.nonComputedMember("s",
a.name))})},b&&k.lazyAssign(b,k.nonComputedMember("l",a.name)));(k.state.expensiveChecks||Jb(a.name))&&k.addEnsureSafeObject(b);c(b);break;case s.MemberExpression:g=d&&(d.context=this.nextId())||this.nextId();b=b||this.nextId();k.recurse(a.object,g,void 0,function(){k.if_(k.notNull(g),function(){e&&1!==e&&k.addEnsureSafeAssignContext(g);if(a.computed)h=k.nextId(),k.recurse(a.property,h),k.getStringValue(h),k.addEnsureSafeMemberName(h),e&&1!==e&&k.if_(k.not(k.computedMember(g,h)),k.lazyAssign(k.computedMember(g,
h),"{}")),m=k.ensureSafeObject(k.computedMember(g,h)),k.assign(b,m),d&&(d.computed=!0,d.name=h);else{Sa(a.property.name);e&&1!==e&&k.if_(k.not(k.nonComputedMember(g,a.property.name)),k.lazyAssign(k.nonComputedMember(g,a.property.name),"{}"));m=k.nonComputedMember(g,a.property.name);if(k.state.expensiveChecks||Jb(a.property.name))m=k.ensureSafeObject(m);k.assign(b,m);d&&(d.computed=!1,d.name=a.property.name)}},function(){k.assign(b,"undefined")});c(b)},!!e);break;case s.CallExpression:b=b||this.nextId();
a.filter?(h=k.filter(a.callee.name),l=[],q(a.arguments,function(a){var b=k.nextId();k.recurse(a,b);l.push(b)}),m=h+"("+l.join(",")+")",k.assign(b,m),c(b)):(h=k.nextId(),g={},l=[],k.recurse(a.callee,h,g,function(){k.if_(k.notNull(h),function(){k.addEnsureSafeFunction(h);q(a.arguments,function(a){k.recurse(a,k.nextId(),void 0,function(a){l.push(k.ensureSafeObject(a))})});g.name?(k.state.expensiveChecks||k.addEnsureSafeObject(g.context),m=k.member(g.context,g.name,g.computed)+"("+l.join(",")+")"):m=
h+"("+l.join(",")+")";m=k.ensureSafeObject(m);k.assign(b,m)},function(){k.assign(b,"undefined")});c(b)}));break;case s.AssignmentExpression:h=this.nextId();g={};if(!qd(a.left))throw X("lval");this.recurse(a.left,void 0,g,function(){k.if_(k.notNull(g.context),function(){k.recurse(a.right,h);k.addEnsureSafeObject(k.member(g.context,g.name,g.computed));k.addEnsureSafeAssignContext(g.context);m=k.member(g.context,g.name,g.computed)+a.operator+h;k.assign(b,m);c(b||m)})},1);break;case s.ArrayExpression:l=
[];q(a.elements,function(a){k.recurse(a,k.nextId(),void 0,function(a){l.push(a)})});m="["+l.join(",")+"]";this.assign(b,m);c(m);break;case s.ObjectExpression:l=[];n=!1;q(a.properties,function(a){a.computed&&(n=!0)});n?(b=b||this.nextId(),this.assign(b,"{}"),q(a.properties,function(a){a.computed?(g=k.nextId(),k.recurse(a.key,g)):g=a.key.type===s.Identifier?a.key.name:""+a.key.value;h=k.nextId();k.recurse(a.value,h);k.assign(k.member(b,g,a.computed),h)})):(q(a.properties,function(b){k.recurse(b.value,
a.constant?void 0:k.nextId(),void 0,function(a){l.push(k.escape(b.key.type===s.Identifier?b.key.name:""+b.key.value)+":"+a)})}),m="{"+l.join(",")+"}",this.assign(b,m));c(b||m);break;case s.ThisExpression:this.assign(b,"s");c("s");break;case s.LocalsExpression:this.assign(b,"l");c("l");break;case s.NGValueParameter:this.assign(b,"v"),c("v")}},getHasOwnProperty:function(a,b){var d=a+"."+b,c=this.current().own;c.hasOwnProperty(d)||(c[d]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")"));return c[d]},
assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0));return this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,d){if(!0===a)b();else{var c=this.current().body;c.push("if(",a,"){");b();c.push("}");d&&(c.push("else{"),
d(),c.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){var d=/[^$_a-zA-Z0-9]/g;return/[$_a-zA-Z][$_a-zA-Z0-9]*/.test(b)?a+"."+b:a+'["'+b.replace(d,this.stringEscapeFn)+'"]'},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,d){return d?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),
";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},addEnsureSafeAssignContext:function(a){this.current().body.push(this.ensureSafeAssignContext(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},ensureSafeAssignContext:function(a){return"ensureSafeAssignContext("+
a+",text)"},lazyRecurse:function(a,b,d,c,e,f){var g=this;return function(){g.recurse(a,b,d,c,e,f)}},lazyAssign:function(a,b){var d=this;return function(){d.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(G(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(T(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";if("undefined"===
typeof a)return"undefined";throw X("esc");},nextId:function(a,b){var d="v"+this.state.nextId++;a||this.current().vars.push(d+(b?"="+b:""));return d},current:function(){return this.state[this.state.computing]}};ud.prototype={compile:function(a,b){var d=this,c=this.astBuilder.ast(a);this.expression=a;this.expensiveChecks=b;V(c,d.$filter);var e,f;if(e=rd(c))f=this.recurse(e);e=pd(c.body);var g;e&&(g=[],q(e,function(a,b){var c=d.recurse(a);a.input=c;g.push(c);a.watchId=b}));var h=[];q(c.body,function(a){h.push(d.recurse(a.expression))});
e=0===c.body.length?A:1===c.body.length?h[0]:function(a,b){var c;q(h,function(d){c=d(a,b)});return c};f&&(e.assign=function(a,b,c){return f(a,c,b)});g&&(e.inputs=g);e.literal=sd(c);e.constant=c.constant;return e},recurse:function(a,b,d){var c,e,f=this,g;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case s.Literal:return this.value(a.value,b);case s.UnaryExpression:return e=this.recurse(a.argument),this["unary"+a.operator](e,b);case s.BinaryExpression:return c=this.recurse(a.left),
e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case s.LogicalExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case s.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case s.Identifier:return Sa(a.name,f.expression),f.identifier(a.name,f.expensiveChecks||Jb(a.name),b,d,f.expression);case s.MemberExpression:return c=this.recurse(a.object,!1,!!d),a.computed||(Sa(a.property.name,
f.expression),e=a.property.name),a.computed&&(e=this.recurse(a.property)),a.computed?this.computedMember(c,e,b,d,f.expression):this.nonComputedMember(c,e,f.expensiveChecks,b,d,f.expression);case s.CallExpression:return g=[],q(a.arguments,function(a){g.push(f.recurse(a))}),a.filter&&(e=this.$filter(a.callee.name)),a.filter||(e=this.recurse(a.callee,!0)),a.filter?function(a,c,d,f){for(var n=[],p=0;p<g.length;++p)n.push(g[p](a,c,d,f));a=e.apply(void 0,n,f);return b?{context:void 0,name:void 0,value:a}:
a}:function(a,c,d,m){var n=e(a,c,d,m),p;if(null!=n.value){ra(n.context,f.expression);nd(n.value,f.expression);p=[];for(var q=0;q<g.length;++q)p.push(ra(g[q](a,c,d,m),f.expression));p=ra(n.value.apply(n.context,p),f.expression)}return b?{value:p}:p};case s.AssignmentExpression:return c=this.recurse(a.left,!0,1),e=this.recurse(a.right),function(a,d,g,m){var n=c(a,d,g,m);a=e(a,d,g,m);ra(n.value,f.expression);Ib(n.context);n.context[n.name]=a;return b?{value:a}:a};case s.ArrayExpression:return g=[],q(a.elements,
function(a){g.push(f.recurse(a))}),function(a,c,d,e){for(var f=[],p=0;p<g.length;++p)f.push(g[p](a,c,d,e));return b?{value:f}:f};case s.ObjectExpression:return g=[],q(a.properties,function(a){a.computed?g.push({key:f.recurse(a.key),computed:!0,value:f.recurse(a.value)}):g.push({key:a.key.type===s.Identifier?a.key.name:""+a.key.value,computed:!1,value:f.recurse(a.value)})}),function(a,c,d,e){for(var f={},p=0;p<g.length;++p)g[p].computed?f[g[p].key(a,c,d,e)]=g[p].value(a,c,d,e):f[g[p].key]=g[p].value(a,
c,d,e);return b?{value:f}:f};case s.ThisExpression:return function(a){return b?{value:a}:a};case s.LocalsExpression:return function(a,c){return b?{value:c}:c};case s.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=w(d)?+d:0;return b?{value:d}:d}},"unary-":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=w(d)?-d:0;return b?{value:d}:d}},"unary!":function(a,b){return function(d,c,e,f){d=!a(d,c,e,f);return b?{value:d}:
d}},"binary+":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);c=b(c,e,f,g);h=od(h,c);return d?{value:h}:h}},"binary-":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);c=b(c,e,f,g);h=(w(h)?h:0)-(w(c)?c:0);return d?{value:h}:h}},"binary*":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)*b(c,e,f,g);return d?{value:c}:c}},"binary/":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)/b(c,e,f,g);return d?{value:c}:c}},"binary%":function(a,b,d){return function(c,e,f,g){c=a(c,e,
f,g)%b(c,e,f,g);return d?{value:c}:c}},"binary===":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)===b(c,e,f,g);return d?{value:c}:c}},"binary!==":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!==b(c,e,f,g);return d?{value:c}:c}},"binary==":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)==b(c,e,f,g);return d?{value:c}:c}},"binary!=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!=b(c,e,f,g);return d?{value:c}:c}},"binary<":function(a,b,d){return function(c,e,f,g){c=a(c,e,
f,g)<b(c,e,f,g);return d?{value:c}:c}},"binary>":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>b(c,e,f,g);return d?{value:c}:c}},"binary<=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<=b(c,e,f,g);return d?{value:c}:c}},"binary>=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>=b(c,e,f,g);return d?{value:c}:c}},"binary&&":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)&&b(c,e,f,g);return d?{value:c}:c}},"binary||":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)||
b(c,e,f,g);return d?{value:c}:c}},"ternary?:":function(a,b,d,c){return function(e,f,g,h){e=a(e,f,g,h)?b(e,f,g,h):d(e,f,g,h);return c?{value:e}:e}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,d,c,e){return function(f,g,h,k){f=g&&a in g?g:f;c&&1!==c&&f&&!f[a]&&(f[a]={});g=f?f[a]:void 0;b&&ra(g,e);return d?{context:f,name:a,value:g}:g}},computedMember:function(a,b,d,c,e){return function(f,g,h,k){var l=a(f,g,h,k),m,n;null!=l&&(m=b(f,
g,h,k),m+="",Sa(m,e),c&&1!==c&&(Ib(l),l&&!l[m]&&(l[m]={})),n=l[m],ra(n,e));return d?{context:l,name:m,value:n}:n}},nonComputedMember:function(a,b,d,c,e,f){return function(g,h,k,l){g=a(g,h,k,l);e&&1!==e&&(Ib(g),g&&!g[b]&&(g[b]={}));h=null!=g?g[b]:void 0;(d||Jb(b))&&ra(h,f);return c?{context:g,name:b,value:h}:h}},inputs:function(a,b){return function(d,c,e,f){return f?f[b]:a(d,c,e)}}};var kc=function(a,b,d){this.lexer=a;this.$filter=b;this.options=d;this.ast=new s(a,d);this.astCompiler=d.csp?new ud(this.ast,
b):new td(this.ast,b)};kc.prototype={constructor:kc,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var ng=Object.prototype.valueOf,sa=N("$sce"),la={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},pg=N("$compile"),$=C.document.createElement("a"),yd=Y(C.location.href);zd.$inject=["$document"];Mc.$inject=["$provide"];var Gd=22,Fd=".",mc="0";Ad.$inject=["$locale"];Cd.$inject=["$locale"];var Ag={yyyy:ba("FullYear",4,0,!1,!0),yy:ba("FullYear",2,0,
!0,!0),y:ba("FullYear",1,0,!1,!0),MMMM:kb("Month"),MMM:kb("Month",!0),MM:ba("Month",2,1),M:ba("Month",1,1),LLLL:kb("Month",!1,!0),dd:ba("Date",2),d:ba("Date",1),HH:ba("Hours",2),H:ba("Hours",1),hh:ba("Hours",2,-12),h:ba("Hours",1,-12),mm:ba("Minutes",2),m:ba("Minutes",1),ss:ba("Seconds",2),s:ba("Seconds",1),sss:ba("Milliseconds",3),EEEE:kb("Day"),EEE:kb("Day",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,d){a=-1*d;return a=(0<=a?"+":"")+(Kb(Math[0<a?"floor":"ceil"](a/
60),2)+Kb(Math.abs(a%60),2))},ww:Id(2),w:Id(1),G:nc,GG:nc,GGG:nc,GGGG:function(a,b){return 0>=a.getFullYear()?b.ERANAMES[0]:b.ERANAMES[1]}},zg=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,yg=/^\-?\d+$/;Bd.$inject=["$locale"];var tg=ha(Q),ug=ha(ub);Dd.$inject=["$parse"];var oe=ha({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var e="[object SVGAnimatedString]"===ma.call(b.prop("href"))?
"xlink:href":"href";b.on("click",function(a){b.attr(e)||a.preventDefault()})}}}}),vb={};q(Eb,function(a,b){function d(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}if("multiple"!=a){var c=Aa("ng-"+b),e=d;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[c]&&d(a,b,e)});vb[c]=function(){return{restrict:"A",priority:100,link:e}}}});q(bd,function(a,b){vb[b]=function(){return{priority:100,link:function(a,c,e){if("ngPattern"===b&&"/"==e.ngPattern.charAt(0)&&(c=e.ngPattern.match(Cg))){e.$set("ngPattern",
new RegExp(c[1],c[2]));return}a.$watch(e[b],function(a){e.$set(b,a)})}}}});q(["src","srcset","href"],function(a){var b=Aa("ng-"+a);vb[b]=function(){return{priority:99,link:function(d,c,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===ma.call(c.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null);e.$observe(b,function(b){b?(e.$set(g,b),Ea&&f&&c.prop(f,e[g])):"href"===a&&e.$set(g,null)})}}}});var Lb={$addControl:A,$$renameControl:function(a,b){a.$name=b},$removeControl:A,$setValidity:A,
$setDirty:A,$setPristine:A,$setSubmitted:A};Jd.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Sd=function(a){return["$timeout","$parse",function(b,d){function c(a){return""===a?d('this[""]').assign:d(a).assign||A}return{name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:Jd,compile:function(d,f){d.addClass(Ua).addClass(ob);var g=f.name?"name":a&&f.ngForm?"ngForm":!1;return{pre:function(a,d,e,f){var n=f[0];if(!("action"in e)){var p=function(b){a.$apply(function(){n.$commitViewValue();
n.$setSubmitted()});b.preventDefault()};d[0].addEventListener("submit",p,!1);d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",p,!1)},0,!1)})}(f[1]||n.$$parentForm).$addControl(n);var q=g?c(n.$name):A;g&&(q(a,n),e.$observe(g,function(b){n.$name!==b&&(q(a,void 0),n.$$parentForm.$$renameControl(n,b),q=c(n.$name),q(a,n))}));d.on("$destroy",function(){n.$$parentForm.$removeControl(n);q(a,void 0);S(n,Lb)})}}}}}]},pe=Sd(),Ce=Sd(!0),Bg=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,
Kg=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Lg=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Mg=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Td=/^(\d{4,})-(\d{2})-(\d{2})$/,Ud=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,rc=/^(\d{4,})-W(\d\d)$/,Vd=/^(\d{4,})-(\d\d)$/,
Wd=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ld=U();q(["date","datetime-local","month","time","week"],function(a){Ld[a]=!0});var Xd={text:function(a,b,d,c,e,f){lb(a,b,d,c,e,f);pc(c)},date:mb("date",Td,Nb(Td,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":mb("datetimelocal",Ud,Nb(Ud,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:mb("time",Wd,Nb(Wd,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:mb("week",rc,function(a,b){if(da(a))return a;if(G(a)){rc.lastIndex=0;var d=rc.exec(a);
if(d){var c=+d[1],e=+d[2],f=d=0,g=0,h=0,k=Hd(c),e=7*(e-1);b&&(d=b.getHours(),f=b.getMinutes(),g=b.getSeconds(),h=b.getMilliseconds());return new Date(c,0,k.getDate()+e,d,f,g,h)}}return NaN},"yyyy-Www"),month:mb("month",Vd,Nb(Vd,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,c,e,f){Md(a,b,d,c);lb(a,b,d,c,e,f);c.$$parserName="number";c.$parsers.push(function(a){if(c.$isEmpty(a))return null;if(Mg.test(a))return parseFloat(a)});c.$formatters.push(function(a){if(!c.$isEmpty(a)){if(!T(a))throw nb("numfmt",
a);a=a.toString()}return a});if(w(d.min)||d.ngMin){var g;c.$validators.min=function(a){return c.$isEmpty(a)||y(g)||a>=g};d.$observe("min",function(a){w(a)&&!T(a)&&(a=parseFloat(a));g=T(a)&&!isNaN(a)?a:void 0;c.$validate()})}if(w(d.max)||d.ngMax){var h;c.$validators.max=function(a){return c.$isEmpty(a)||y(h)||a<=h};d.$observe("max",function(a){w(a)&&!T(a)&&(a=parseFloat(a));h=T(a)&&!isNaN(a)?a:void 0;c.$validate()})}},url:function(a,b,d,c,e,f){lb(a,b,d,c,e,f);pc(c);c.$$parserName="url";c.$validators.url=
function(a,b){var d=a||b;return c.$isEmpty(d)||Kg.test(d)}},email:function(a,b,d,c,e,f){lb(a,b,d,c,e,f);pc(c);c.$$parserName="email";c.$validators.email=function(a,b){var d=a||b;return c.$isEmpty(d)||Lg.test(d)}},radio:function(a,b,d,c){y(d.name)&&b.attr("name",++pb);b.on("click",function(a){b[0].checked&&c.$setViewValue(d.value,a&&a.type)});c.$render=function(){b[0].checked=d.value==c.$viewValue};d.$observe("value",c.$render)},checkbox:function(a,b,d,c,e,f,g,h){var k=Nd(h,a,"ngTrueValue",d.ngTrueValue,
!0),l=Nd(h,a,"ngFalseValue",d.ngFalseValue,!1);b.on("click",function(a){c.$setViewValue(b[0].checked,a&&a.type)});c.$render=function(){b[0].checked=c.$viewValue};c.$isEmpty=function(a){return!1===a};c.$formatters.push(function(a){return na(a,k)});c.$parsers.push(function(a){return a?k:l})},hidden:A,button:A,submit:A,reset:A,file:A},Gc=["$browser","$sniffer","$filter","$parse",function(a,b,d,c){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(Xd[Q(g.type)]||Xd.text)(e,f,
g,h[0],b,a,d,c)}}}}],Ng=/^(true|false|\d+)$/,Ue=function(){return{restrict:"A",priority:100,compile:function(a,b){return Ng.test(b.ngValue)?function(a,b,e){e.$set("value",a.$eval(e.ngValue))}:function(a,b,e){a.$watch(e.ngValue,function(a){e.$set("value",a)})}}}},ue=["$compile",function(a){return{restrict:"AC",compile:function(b){a.$$addBindingClass(b);return function(b,c,e){a.$$addBindingInfo(c,e.ngBind);c=c[0];b.$watch(e.ngBind,function(a){c.textContent=y(a)?"":a})}}}}],we=["$interpolate","$compile",
function(a,b){return{compile:function(d){b.$$addBindingClass(d);return function(c,d,f){c=a(d.attr(f.$attr.ngBindTemplate));b.$$addBindingInfo(d,c.expressions);d=d[0];f.$observe("ngBindTemplate",function(a){d.textContent=y(a)?"":a})}}}}],ve=["$sce","$parse","$compile",function(a,b,d){return{restrict:"A",compile:function(c,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});d.$$addBindingClass(c);return function(b,c,e){d.$$addBindingInfo(c,e.ngBindHtml);b.$watch(g,function(){var d=
f(b);c.html(a.getTrustedHtml(d)||"")})}}}}],Te=ha({restrict:"A",require:"ngModel",link:function(a,b,d,c){c.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),xe=qc("",!0),ze=qc("Odd",0),ye=qc("Even",1),Ae=Ta({compile:function(a,b){b.$set("ngCloak",void 0);a.removeClass("ng-cloak")}}),Be=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Lc={},Og={blur:!0,focus:!0};q("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),
function(a){var b=Aa("ng-"+a);Lc[b]=["$parse","$rootScope",function(d,c){return{restrict:"A",compile:function(e,f){var g=d(f[b],null,!0);return function(b,d){d.on(a,function(d){var e=function(){g(b,{$event:d})};Og[a]&&c.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var Ee=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(d,c,e,f,g){var h,k,l;d.$watch(e.ngIf,function(d){d?k||g(function(d,f){k=f;d[d.length++]=
b.$$createComment("end ngIf",e.ngIf);h={clone:d};a.enter(d,c.parent(),c)}):(l&&(l.remove(),l=null),k&&(k.$destroy(),k=null),h&&(l=tb(h.clone),a.leave(l).then(function(){l=null}),h=null))})}}}],Fe=["$templateRequest","$anchorScroll","$animate",function(a,b,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ca.noop,compile:function(c,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(c,e,m,n,p){var q=0,s,B,r,y=function(){B&&(B.remove(),B=null);s&&
(s.$destroy(),s=null);r&&(d.leave(r).then(function(){B=null}),B=r,r=null)};c.$watch(f,function(f){var m=function(){!w(h)||h&&!c.$eval(h)||b()},t=++q;f?(a(f,!0).then(function(a){if(!c.$$destroyed&&t===q){var b=c.$new();n.template=a;a=p(b,function(a){y();d.enter(a,null,e).then(m)});s=b;r=a;s.$emit("$includeContentLoaded",f);c.$eval(g)}},function(){c.$$destroyed||t!==q||(y(),c.$emit("$includeContentError",f))}),c.$emit("$includeContentRequested",f)):(y(),n.template=null)})}}}}],We=["$compile",function(a){return{restrict:"ECA",
priority:-400,require:"ngInclude",link:function(b,d,c,e){ma.call(d[0]).match(/SVG/)?(d.empty(),a(Oc(e.template,C.document).childNodes)(b,function(a){d.append(a)},{futureParentElement:d})):(d.html(e.template),a(d.contents())(b))}}}],Ge=Ta({priority:450,compile:function(){return{pre:function(a,b,d){a.$eval(d.ngInit)}}}}),Se=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,c){var e=b.attr(d.$attr.ngList)||", ",f="false"!==d.ngTrim,g=f?W(e):e;c.$parsers.push(function(a){if(!y(a)){var b=
[];a&&q(a.split(g),function(a){a&&b.push(f?W(a):a)});return b}});c.$formatters.push(function(a){if(L(a))return a.join(e)});c.$isEmpty=function(a){return!a||!a.length}}}},ob="ng-valid",Od="ng-invalid",Ua="ng-pristine",Mb="ng-dirty",Qd="ng-pending",nb=N("ngModel"),Pg=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,c,e,f,g,h,k,l){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=void 0;this.$validators={};
this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=void 0;this.$name=l(d.name||"",!1)(a);this.$$parentForm=Lb;var m=e(d.ngModel),n=m.assign,p=m,u=n,s=null,B,r=this;this.$$setOptions=function(a){if((r.$options=a)&&a.getterSetter){var b=e(d.ngModel+"()"),f=e(d.ngModel+"($$$p)");p=function(a){var c=m(a);z(c)&&(c=b(a));
return c};u=function(a,b){z(m(a))?f(a,{$$$p:b}):n(a,b)}}else if(!m.assign)throw nb("nonassign",d.ngModel,ya(c));};this.$render=A;this.$isEmpty=function(a){return y(a)||""===a||null===a||a!==a};this.$$updateEmptyClasses=function(a){r.$isEmpty(a)?(f.removeClass(c,"ng-not-empty"),f.addClass(c,"ng-empty")):(f.removeClass(c,"ng-empty"),f.addClass(c,"ng-not-empty"))};var J=0;Kd({ctrl:this,$element:c,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},$animate:f});this.$setPristine=function(){r.$dirty=
!1;r.$pristine=!0;f.removeClass(c,Mb);f.addClass(c,Ua)};this.$setDirty=function(){r.$dirty=!0;r.$pristine=!1;f.removeClass(c,Ua);f.addClass(c,Mb);r.$$parentForm.$setDirty()};this.$setUntouched=function(){r.$touched=!1;r.$untouched=!0;f.setClass(c,"ng-untouched","ng-touched")};this.$setTouched=function(){r.$touched=!0;r.$untouched=!1;f.setClass(c,"ng-touched","ng-untouched")};this.$rollbackViewValue=function(){g.cancel(s);r.$viewValue=r.$$lastCommittedViewValue;r.$render()};this.$validate=function(){if(!T(r.$modelValue)||
!isNaN(r.$modelValue)){var a=r.$$rawModelValue,b=r.$valid,c=r.$modelValue,d=r.$options&&r.$options.allowInvalid;r.$$runValidators(a,r.$$lastCommittedViewValue,function(e){d||b===e||(r.$modelValue=e?a:void 0,r.$modelValue!==c&&r.$$writeModelToScope())})}};this.$$runValidators=function(a,b,c){function d(){var c=!0;q(r.$validators,function(d,e){var g=d(a,b);c=c&&g;f(e,g)});return c?!0:(q(r.$asyncValidators,function(a,b){f(b,null)}),!1)}function e(){var c=[],d=!0;q(r.$asyncValidators,function(e,g){var h=
e(a,b);if(!h||!z(h.then))throw nb("nopromise",h);f(g,void 0);c.push(h.then(function(){f(g,!0)},function(){d=!1;f(g,!1)}))});c.length?k.all(c).then(function(){g(d)},A):g(!0)}function f(a,b){h===J&&r.$setValidity(a,b)}function g(a){h===J&&c(a)}J++;var h=J;(function(){var a=r.$$parserName||"parse";if(y(B))f(a,null);else return B||(q(r.$validators,function(a,b){f(b,null)}),q(r.$asyncValidators,function(a,b){f(b,null)})),f(a,B),B;return!0})()?d()?e():g(!1):g(!1)};this.$commitViewValue=function(){var a=
r.$viewValue;g.cancel(s);if(r.$$lastCommittedViewValue!==a||""===a&&r.$$hasNativeValidators)r.$$updateEmptyClasses(a),r.$$lastCommittedViewValue=a,r.$pristine&&this.$setDirty(),this.$$parseAndValidate()};this.$$parseAndValidate=function(){var b=r.$$lastCommittedViewValue;if(B=y(b)?void 0:!0)for(var c=0;c<r.$parsers.length;c++)if(b=r.$parsers[c](b),y(b)){B=!1;break}T(r.$modelValue)&&isNaN(r.$modelValue)&&(r.$modelValue=p(a));var d=r.$modelValue,e=r.$options&&r.$options.allowInvalid;r.$$rawModelValue=
b;e&&(r.$modelValue=b,r.$modelValue!==d&&r.$$writeModelToScope());r.$$runValidators(b,r.$$lastCommittedViewValue,function(a){e||(r.$modelValue=a?b:void 0,r.$modelValue!==d&&r.$$writeModelToScope())})};this.$$writeModelToScope=function(){u(a,r.$modelValue);q(r.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})};this.$setViewValue=function(a,b){r.$viewValue=a;r.$options&&!r.$options.updateOnDefault||r.$$debounceViewValueCommit(b)};this.$$debounceViewValueCommit=function(b){var c=0,d=r.$options;
d&&w(d.debounce)&&(d=d.debounce,T(d)?c=d:T(d[b])?c=d[b]:T(d["default"])&&(c=d["default"]));g.cancel(s);c?s=g(function(){r.$commitViewValue()},c):h.$$phase?r.$commitViewValue():a.$apply(function(){r.$commitViewValue()})};a.$watch(function(){var b=p(a);if(b!==r.$modelValue&&(r.$modelValue===r.$modelValue||b===b)){r.$modelValue=r.$$rawModelValue=b;B=void 0;for(var c=r.$formatters,d=c.length,e=b;d--;)e=c[d](e);r.$viewValue!==e&&(r.$$updateEmptyClasses(e),r.$viewValue=r.$$lastCommittedViewValue=e,r.$render(),
r.$$runValidators(b,e,A))}return b})}],Re=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Pg,priority:1,compile:function(b){b.addClass(Ua).addClass("ng-untouched").addClass(ob);return{pre:function(a,b,e,f){var g=f[0];b=f[1]||g.$$parentForm;g.$$setOptions(f[2]&&f[2].$options);b.$addControl(g);e.$observe("name",function(a){g.$name!==a&&g.$$parentForm.$$renameControl(g,a)});a.$on("$destroy",function(){g.$$parentForm.$removeControl(g)})},post:function(b,
c,e,f){var g=f[0];if(g.$options&&g.$options.updateOn)c.on(g.$options.updateOn,function(a){g.$$debounceViewValueCommit(a&&a.type)});c.on("blur",function(){g.$touched||(a.$$phase?b.$evalAsync(g.$setTouched):b.$apply(g.$setTouched))})}}}}}],Qg=/(\s+|^)default(\s+|$)/,Ve=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var d=this;this.$options=pa(a.$eval(b.ngModelOptions));w(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=W(this.$options.updateOn.replace(Qg,
function(){d.$options.updateOnDefault=!0;return" "}))):this.$options.updateOnDefault=!0}]}},He=Ta({terminal:!0,priority:1E3}),Rg=N("ngOptions"),Sg=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Pe=["$compile","$document","$parse",function(a,b,d){function c(a,b,c){function e(a,b,c,d,f){this.selectValue=a;this.viewValue=
b;this.label=c;this.group=d;this.disabled=f}function f(a){var b;if(!q&&ta(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var n=a.match(Sg);if(!n)throw Rg("iexp",a,ya(b));var p=n[5]||n[7],q=n[6];a=/ as /.test(n[0])&&n[1];var s=n[9];b=d(n[2]?n[1]:p);var w=a&&d(a)||b,r=s&&d(s),y=s?function(a,b){return r(c,b)}:function(a){return Ca(a)},v=function(a,b){return y(a,E(a,b))},A=d(n[2]||n[1]),t=d(n[3]||""),K=d(n[4]||""),z=d(n[8]),H={},E=q?function(a,b){H[q]=b;H[p]=
a;return H}:function(a){H[p]=a;return H};return{trackBy:s,getTrackByValue:v,getWatchables:d(z,function(a){var b=[];a=a||[];for(var d=f(a),e=d.length,g=0;g<e;g++){var h=a===d?g:d[g],l=a[h],h=E(l,h),l=y(l,h);b.push(l);if(n[2]||n[1])l=A(c,h),b.push(l);n[4]&&(h=K(c,h),b.push(h))}return b}),getOptions:function(){for(var a=[],b={},d=z(c)||[],g=f(d),h=g.length,n=0;n<h;n++){var p=d===g?n:g[n],q=E(d[p],p),r=w(c,q),p=y(r,q),u=A(c,q),H=t(c,q),q=K(c,q),r=new e(p,r,u,H,q);a.push(r);b[p]=r}return{items:a,selectValueMap:b,
getOptionFromViewValue:function(a){return b[v(a)]},getViewValueFromOption:function(a){return s?ca.copy(a.viewValue):a.viewValue}}}}}var e=C.document.createElement("option"),f=C.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=A},post:function(d,h,k,l){function m(a,b){a.element=b;b.disabled=a.disabled;a.label!==b.label&&(b.label=a.label,b.textContent=a.label);a.value!==b.value&&(b.value=a.selectValue)}function n(){var a=
t&&p.readValue();if(t)for(var b=t.items.length-1;0<=b;b--){var c=t.items[b];w(c.group)?Db(c.element.parentNode):Db(c.element)}t=K.getOptions();var d={};v&&h.prepend(B);t.items.forEach(function(a){var b;if(w(a.group)){b=d[a.group];b||(b=f.cloneNode(!1),C.appendChild(b),b.label=null===a.group?"null":a.group,d[a.group]=b);var c=e.cloneNode(!1)}else b=C,c=e.cloneNode(!1);b.appendChild(c);m(a,c)});h[0].appendChild(C);s.$render();s.$isEmpty(a)||(b=p.readValue(),(K.trackBy||y?na(a,b):a===b)||(s.$setViewValue(b),
s.$render()))}var p=l[0],s=l[1],y=k.multiple,B;l=0;for(var r=h.children(),A=r.length;l<A;l++)if(""===r[l].value){B=r.eq(l);break}var v=!!B,z=F(e.cloneNode(!1));z.val("?");var t,K=c(k.ngOptions,h,d),C=b[0].createDocumentFragment();y?(s.$isEmpty=function(a){return!a||0===a.length},p.writeValue=function(a){t.items.forEach(function(a){a.element.selected=!1});a&&a.forEach(function(a){if(a=t.getOptionFromViewValue(a))a.element.selected=!0})},p.readValue=function(){var a=h.val()||[],b=[];q(a,function(a){(a=
t.selectValueMap[a])&&!a.disabled&&b.push(t.getViewValueFromOption(a))});return b},K.trackBy&&d.$watchCollection(function(){if(L(s.$viewValue))return s.$viewValue.map(function(a){return K.getTrackByValue(a)})},function(){s.$render()})):(p.writeValue=function(a){var b=t.getOptionFromViewValue(a);b?(h[0].value!==b.selectValue&&(z.remove(),v||B.remove(),h[0].value=b.selectValue,b.element.selected=!0),b.element.setAttribute("selected","selected")):null===a||v?(z.remove(),v||h.prepend(B),h.val(""),B.prop("selected",
!0),B.attr("selected",!0)):(v||B.remove(),h.prepend(z),h.val("?"),z.prop("selected",!0),z.attr("selected",!0))},p.readValue=function(){var a=t.selectValueMap[h.val()];return a&&!a.disabled?(v||B.remove(),z.remove(),t.getViewValueFromOption(a)):null},K.trackBy&&d.$watch(function(){return K.getTrackByValue(s.$viewValue)},function(){s.$render()}));v?(B.remove(),a(B)(d),B.removeClass("ng-scope")):B=F(e.cloneNode(!1));h.empty();n();d.$watchCollection(K.getWatchables,n)}}}}],Ie=["$locale","$interpolate",
"$log",function(a,b,d){var c=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,h){function k(a){g.text(a||"")}var l=h.count,m=h.$attr.when&&g.attr(h.$attr.when),n=h.offset||0,p=f.$eval(m)||{},s={},w=b.startSymbol(),B=b.endSymbol(),r=w+l+"-"+n+B,z=ca.noop,v;q(h,function(a,b){var c=e.exec(b);c&&(c=(c[1]?"-":"")+Q(c[2]),p[c]=g.attr(h.$attr[b]))});q(p,function(a,d){s[d]=b(a.replace(c,r))});f.$watch(l,function(b){var c=parseFloat(b),e=isNaN(c);e||c in p||(c=a.pluralCat(c-n));c===v||e&&T(v)&&isNaN(v)||
(z(),e=s[c],y(e)?(null!=b&&d.debug("ngPluralize: no rule defined for '"+c+"' in "+m),z=A,k()):z=f.$watch(e,k),v=c)})}}}],Je=["$parse","$animate","$compile",function(a,b,d){var c=N("ngRepeat"),e=function(a,b,c,d,e,m,n){a[c]=d;e&&(a[e]=m);a.$index=b;a.$first=0===b;a.$last=b===n-1;a.$middle=!(a.$first||a.$last);a.$odd=!(a.$even=0===(b&1))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,compile:function(f,g){var h=g.ngRepeat,k=d.$$createComment("end ngRepeat",
h),l=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!l)throw c("iexp",h);var m=l[1],n=l[2],p=l[3],s=l[4],l=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!l)throw c("iidexp",m);var w=l[3]||l[1],y=l[2];if(p&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(p)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(p)))throw c("badident",p);var r,z,v,A,t={$id:Ca};s?r=a(s):(v=function(a,b){return Ca(b)},
A=function(a){return a});return function(a,d,f,g,l){r&&(z=function(b,c,d){y&&(t[y]=b);t[w]=c;t.$index=d;return r(a,t)});var m=U();a.$watchCollection(n,function(f){var g,n,r=d[0],s,u=U(),t,C,F,E,G,D,H;p&&(a[p]=f);if(ta(f))G=f,n=z||v;else for(H in n=z||A,G=[],f)ua.call(f,H)&&"$"!==H.charAt(0)&&G.push(H);t=G.length;H=Array(t);for(g=0;g<t;g++)if(C=f===G?g:G[g],F=f[C],E=n(C,F,g),m[E])D=m[E],delete m[E],u[E]=D,H[g]=D;else{if(u[E])throw q(H,function(a){a&&a.scope&&(m[a.id]=a)}),c("dupes",h,E,F);H[g]={id:E,
scope:void 0,clone:void 0};u[E]=!0}for(s in m){D=m[s];E=tb(D.clone);b.leave(E);if(E[0].parentNode)for(g=0,n=E.length;g<n;g++)E[g].$$NG_REMOVED=!0;D.scope.$destroy()}for(g=0;g<t;g++)if(C=f===G?g:G[g],F=f[C],D=H[g],D.scope){s=r;do s=s.nextSibling;while(s&&s.$$NG_REMOVED);D.clone[0]!=s&&b.move(tb(D.clone),null,r);r=D.clone[D.clone.length-1];e(D.scope,g,w,F,y,C,t)}else l(function(a,c){D.scope=c;var d=k.cloneNode(!1);a[a.length++]=d;b.enter(a,null,r);r=d;D.clone=a;u[D.id]=D;e(D.scope,g,w,F,y,C,t)});m=
u})}}}}],Ke=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngShow,function(b){a[b?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],De=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngHide,function(b){a[b?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Le=Ta(function(a,b,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&q(d,function(a,c){b.css(c,"")});a&&b.css(a)},
!0)}),Me=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(d,c,e,f){var g=[],h=[],k=[],l=[],m=function(a,b){return function(){a.splice(b,1)}};d.$watch(e.ngSwitch||e.on,function(c){var d,e;d=0;for(e=k.length;d<e;++d)a.cancel(k[d]);d=k.length=0;for(e=l.length;d<e;++d){var s=tb(h[d].clone);l[d].$destroy();(k[d]=a.leave(s)).then(m(k,d))}h.length=0;l.length=0;(g=f.cases["!"+c]||f.cases["?"])&&q(g,function(c){c.transclude(function(d,
e){l.push(e);var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen");h.push({clone:d});a.enter(d,f.parent(),f)})})})}}}],Ne=Ta({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["!"+d.ngSwitchWhen]=c.cases["!"+d.ngSwitchWhen]||[];c.cases["!"+d.ngSwitchWhen].push({transclude:e,element:b})}}),Oe=Ta({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["?"]=c.cases["?"]||[];c.cases["?"].push({transclude:e,
element:b})}}),Tg=N("ngTransclude"),Qe=["$compile",function(a){return{restrict:"EAC",terminal:!0,compile:function(b){var d=a(b.contents());b.empty();return function(a,b,f,g,h){function k(){d(a,function(a){b.append(a)})}if(!h)throw Tg("orphan",ya(b));f.ngTransclude===f.$attr.ngTransclude&&(f.ngTransclude="");f=f.ngTransclude||f.ngTranscludeSlot;h(function(a,c){a.length?b.append(a):(k(),c.$destroy())},null,f);f&&!h.isSlotFilled(f)&&k()}}}}],qe=["$templateCache",function(a){return{restrict:"E",terminal:!0,
compile:function(b,d){"text/ng-template"==d.type&&a.put(d.id,b[0].text)}}}],Ug={$setViewValue:A,$render:A},Vg=["$element","$scope",function(a,b){var d=this,c=new Ra;d.ngModelCtrl=Ug;d.unknownOption=F(C.document.createElement("option"));d.renderUnknownOption=function(b){b="? "+Ca(b)+" ?";d.unknownOption.val(b);a.prepend(d.unknownOption);a.val(b)};b.$on("$destroy",function(){d.renderUnknownOption=A});d.removeUnknownOption=function(){d.unknownOption.parent()&&d.unknownOption.remove()};d.readValue=function(){d.removeUnknownOption();
return a.val()};d.writeValue=function(b){d.hasOption(b)?(d.removeUnknownOption(),a.val(b),""===b&&d.emptyOption.prop("selected",!0)):null==b&&d.emptyOption?(d.removeUnknownOption(),a.val("")):d.renderUnknownOption(b)};d.addOption=function(a,b){if(8!==b[0].nodeType){Qa(a,'"option value"');""===a&&(d.emptyOption=b);var g=c.get(a)||0;c.put(a,g+1);d.ngModelCtrl.$render();b[0].hasAttribute("selected")&&(b[0].selected=!0)}};d.removeOption=function(a){var b=c.get(a);b&&(1===b?(c.remove(a),""===a&&(d.emptyOption=
void 0)):c.put(a,b-1))};d.hasOption=function(a){return!!c.get(a)};d.registerOption=function(a,b,c,h,k){if(h){var l;c.$observe("value",function(a){w(l)&&d.removeOption(l);l=a;d.addOption(a,b)})}else k?a.$watch(k,function(a,e){c.$set("value",a);e!==a&&d.removeOption(e);d.addOption(a,b)}):d.addOption(c.value,b);b.on("$destroy",function(){d.removeOption(c.value);d.ngModelCtrl.$render()})}}],re=function(){return{restrict:"E",require:["select","?ngModel"],controller:Vg,priority:1,link:{pre:function(a,b,
d,c){var e=c[1];if(e){var f=c[0];f.ngModelCtrl=e;b.on("change",function(){a.$apply(function(){e.$setViewValue(f.readValue())})});if(d.multiple){f.readValue=function(){var a=[];q(b.find("option"),function(b){b.selected&&a.push(b.value)});return a};f.writeValue=function(a){var c=new Ra(a);q(b.find("option"),function(a){a.selected=w(c.get(a.value))})};var g,h=NaN;a.$watch(function(){h!==e.$viewValue||na(g,e.$viewValue)||(g=ia(e.$viewValue),e.$render());h=e.$viewValue});e.$isEmpty=function(a){return!a||
0===a.length}}}},post:function(a,b,d,c){var e=c[1];if(e){var f=c[0];e.$render=function(){f.writeValue(e.$viewValue)}}}}}},te=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,d){if(w(d.value))var c=a(d.value,!0);else{var e=a(b.text(),!0);e||d.$set("value",b.text())}return function(a,b,d){var k=b.parent();(k=k.data("$selectController")||k.parent().data("$selectController"))&&k.registerOption(a,b,d,c,e)}}}}],se=ha({restrict:"E",terminal:!1}),Ic=function(){return{restrict:"A",
require:"?ngModel",link:function(a,b,d,c){c&&(d.required=!0,c.$validators.required=function(a,b){return!d.required||!c.$isEmpty(b)},d.$observe("required",function(){c.$validate()}))}}},Hc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e,f=d.ngPattern||d.pattern;d.$observe("pattern",function(a){G(a)&&0<a.length&&(a=new RegExp("^"+a+"$"));if(a&&!a.test)throw N("ngPattern")("noregexp",f,a,ya(b));e=a||void 0;c.$validate()});c.$validators.pattern=function(a,b){return c.$isEmpty(b)||
y(e)||e.test(b)}}}}},Kc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=-1;d.$observe("maxlength",function(a){a=Z(a);e=isNaN(a)?-1:a;c.$validate()});c.$validators.maxlength=function(a,b){return 0>e||c.$isEmpty(b)||b.length<=e}}}}},Jc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=0;d.$observe("minlength",function(a){e=Z(a)||0;c.$validate()});c.$validators.minlength=function(a,b){return c.$isEmpty(b)||b.length>=e}}}}};C.angular.bootstrap?
C.console&&console.log("WARNING: Tried to load angular more than once."):(je(),le(ca),ca.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),
SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",
PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\u00a4",negSuf:"",posPre:"\u00a4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,c){var e=a|0,f=c;void 0===f&&(f=Math.min(b(a),3));Math.pow(10,f);return 1==e&&0==f?"one":"other"}})}]),F(C.document).ready(function(){fe(C.document,Bc)}))})(window);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');
//# sourceMappingURL=angular.min.js.map

/*!
 * State-based routing for AngularJS
 * @version v1.0.0-beta.3
 * @link https://ui-router.github.io
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("angular")):"function"==typeof define&&define.amd?define("angular-ui-router",["angular"],e):"object"==typeof exports?exports["angular-ui-router"]=e(require("angular")):t["angular-ui-router"]=e(t.angular)}(this,function(t){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}n(r(1)),n(r(53)),n(r(55)),n(r(58)),r(60),r(61),r(62),r(63),Object.defineProperty(e,"__esModule",{value:!0}),e["default"]="ui.router"},function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}n(r(2)),n(r(46)),n(r(47)),n(r(48)),n(r(49)),n(r(50)),n(r(51)),n(r(52)),n(r(44));var i=r(25);e.UIRouter=i.UIRouter},function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}n(r(3)),n(r(6)),n(r(7)),n(r(5)),n(r(4)),n(r(8)),n(r(9)),n(r(12))},function(t,e,r){"use strict";function n(t,e,r,n){return void 0===n&&(n=Object.keys(t)),n.filter(function(e){return"function"==typeof t[e]}).forEach(function(n){return e[n]=t[n].bind(r)})}function i(t){void 0===t&&(t={});for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var i=o.apply(null,[{}].concat(r));return e.extend({},i,c(t||{},Object.keys(i)))}function o(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return e.forEach(r,function(r){e.forEach(r,function(e,r){t.hasOwnProperty(r)||(t[r]=e)})}),t}function a(t,e){var r=[];for(var n in t.path){if(t.path[n]!==e.path[n])break;r.push(t.path[n])}return r}function s(t,e,r){void 0===r&&(r=Object.keys(t));for(var n=0;n<r.length;n++){var i=r[n];if(t[i]!=e[i])return!1}return!0}function u(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i={};for(var o in e)t(r,o)&&(i[o]=e[o]);return i}function c(t){return u.apply(null,[e.inArray].concat(T(arguments)))}function f(t){var r=function(t,r){return!e.inArray(t,r)};return u.apply(null,[r].concat(T(arguments)))}function l(t,e){return v(t,P.prop(e))}function p(t,r){var n=k.isArray(t),i=n?[]:{},o=n?function(t){return i.push(t)}:function(t,e){return i[e]=t};return e.forEach(t,function(t,e){r(t,e)&&o(t,e)}),i}function h(t,r){var n;return e.forEach(t,function(t,e){n||r(t,e)&&(n=t)}),n}function v(t,r){var n=k.isArray(t)?[]:{};return e.forEach(t,function(t,e){return n[e]=r(t,e)}),n}function d(t,e){return t.push(e),t}function m(t,e){return void 0===e&&(e="assert failure"),function(r){if(!t(r))throw new Error(k.isFunction(e)?e(r):e);return!0}}function g(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];if(0===t.length)return[];var r=t.reduce(function(t,e){return Math.min(e.length,t)},9007199254740991);return Array.apply(null,Array(r)).map(function(e,r){return t.map(function(t){return t[r]})})}function y(t,e){var r,n;if(k.isArray(e)&&(r=e[0],n=e[1]),!k.isString(r))throw new Error("invalid parameters to applyPairs");return t[r]=n,t}function w(t){return t.length&&t[t.length-1]||void 0}function b(t,r){return r&&Object.keys(r).forEach(function(t){return delete r[t]}),r||(r={}),e.extend(r,t)}function $(t,e,r){return k.isArray(t)?t.forEach(e,r):void Object.keys(t).forEach(function(r){return e(t[r],r)})}function R(t,e){return Object.keys(e).forEach(function(r){return t[r]=e[r]}),t}function S(t){return T(arguments,1).filter(e.identity).reduce(R,t)}function E(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var r=typeof t,n=typeof e;if(r!==n||"object"!==r)return!1;var i=[t,e];if(P.all(k.isArray)(i))return x(t,e);if(P.all(k.isDate)(i))return t.getTime()===e.getTime();if(P.all(k.isRegExp)(i))return t.toString()===e.toString();if(P.all(k.isFunction)(i))return!0;var o=[k.isFunction,k.isArray,k.isDate,k.isRegExp];if(o.map(P.any).reduce(function(t,e){return t||!!e(i)},!1))return!1;var a,s={};for(a in t){if(!E(t[a],e[a]))return!1;s[a]=!0}for(a in e)if(!s[a])return!1;return!0}function x(t,e){return t.length===e.length&&g(t,e).reduce(function(t,e){return t&&E(e[0],e[1])},!0)}var k=r(4),P=r(5),_=r(6),C="undefined"==typeof window?{}:window,O=C.angular||{};e.fromJson=O.fromJson||JSON.parse.bind(JSON),e.toJson=O.toJson||JSON.stringify.bind(JSON),e.copy=O.copy||b,e.forEach=O.forEach||$,e.extend=O.extend||S,e.equals=O.equals||E,e.identity=function(t){return t},e.noop=function(){},e.bindFunctions=n,e.inherit=function(t,r){return e.extend(new(e.extend(function(){},{prototype:t})),r)};var T=function(t,e){return void 0===e&&(e=0),Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(t,e))};e.inArray=function(t,e){return t.indexOf(e)!==-1},e.removeFrom=P.curry(function(t,e){var r=t.indexOf(e);return r>=0&&t.splice(r,1),t}),e.defaults=i,e.merge=o,e.mergeR=function(t,r){return e.extend(t,r)},e.ancestors=a,e.equalForKeys=s,e.pick=c,e.omit=f,e.pluck=l,e.filter=p,e.find=h,e.mapObj=v,e.map=v,e.values=function(t){return Object.keys(t).map(function(e){return t[e]})},e.allTrueR=function(t,e){return t&&e},e.anyTrueR=function(t,e){return t||e},e.unnestR=function(t,e){return t.concat(e)},e.flattenR=function(t,r){return k.isArray(r)?t.concat(r.reduce(e.flattenR,[])):d(t,r)},e.pushR=d,e.uniqR=function(t,r){return e.inArray(t,r)?t:d(t,r)},e.unnest=function(t){return t.reduce(e.unnestR,[])},e.flatten=function(t){return t.reduce(e.flattenR,[])},e.assertPredicate=m,e.pairs=function(t){return Object.keys(t).map(function(e){return[e,t[e]]})},e.arrayTuples=g,e.applyPairs=y,e.tail=w,e.silenceUncaughtInPromise=function(t){return t["catch"](function(t){return 0})&&t},e.silentRejection=function(t){return e.silenceUncaughtInPromise(_.services.$q.reject(t))}},function(t,e,r){"use strict";function n(t){if(e.isArray(t)&&t.length){var r=t.slice(0,-1),n=t.slice(-1);return!(r.filter(i.not(e.isString)).length||n.filter(i.not(e.isFunction)).length)}return e.isFunction(t)}var i=r(5),o=Object.prototype.toString,a=function(t){return function(e){return typeof e===t}};e.isUndefined=a("undefined"),e.isDefined=i.not(e.isUndefined),e.isNull=function(t){return null===t},e.isFunction=a("function"),e.isNumber=a("number"),e.isString=a("string"),e.isObject=function(t){return null!==t&&"object"==typeof t},e.isArray=Array.isArray,e.isDate=function(t){return"[object Date]"===o.call(t)},e.isRegExp=function(t){return"[object RegExp]"===o.call(t)},e.isInjectable=n,e.isPromise=i.and(e.isObject,i.pipe(i.prop("then"),e.isFunction))},function(t,e){"use strict";function r(t){function e(r){return r.length>=n?t.apply(null,r):function(){return e(r.concat([].slice.apply(arguments)))}}var r=[].slice.apply(arguments,[1]),n=t.length;return e(r)}function n(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return n.apply(null,[].slice.call(arguments).reverse())}function o(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];return t.apply(null,r)&&e.apply(null,r)}}function a(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n-0]=arguments[n];return t.apply(null,r)||e.apply(null,r)}}function s(t,e){return function(r){return r[t].apply(r,e)}}function u(t){return function(e){for(var r=0;r<t.length;r++)if(t[r][0](e))return t[r][1](e)}}e.curry=r,e.compose=n,e.pipe=i,e.prop=function(t){return function(e){return e&&e[t]}},e.propEq=r(function(t,e,r){return r&&r[t]===e}),e.parse=function(t){return i.apply(null,t.split(".").map(e.prop))},e.not=function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r-0]=arguments[r];return!t.apply(null,e)}},e.and=o,e.or=a,e.all=function(t){return function(e){return e.reduce(function(e,r){return e&&!!t(r)},!0)}},e.any=function(t){return function(e){return e.reduce(function(e,r){return e||!!t(r)},!1)}},e.is=function(t){return function(e){return null!=e&&e.constructor===t||e instanceof t}},e.eq=function(t){return function(e){return t===e}},e.val=function(t){return function(){return t}},e.invoke=s,e.pattern=u},function(t,e){"use strict";var r=function(t){return function(){throw new Error(t+"(): No coreservices implementation for UI-Router is loaded. You should include one of: ['angular1.js']")}},n={$q:void 0,$injector:void 0,location:{},locationConfig:{},template:{}};e.services=n,["setUrl","path","search","hash","onChange"].forEach(function(t){return n.location[t]=r(t)}),["port","protocol","host","baseHref","html5Mode","hashPrefix"].forEach(function(t){return n.locationConfig[t]=r(t)})},function(t,e){"use strict";var r=function(){function t(t){this.text=t,this.glob=t.split(".");var e=this.text.split(".").map(function(t){return"**"===t?"(?:|(?:\\.[^.]*)*)":"*"===t?"\\.[^.]*":"\\."+t}).join("");this.regexp=new RegExp("^"+e+"$")}return t.prototype.matches=function(t){return this.regexp.test("."+t)},t.is=function(t){return t.indexOf("*")>-1},t.fromString=function(e){return this.is(e)?new t(e):null},t}();e.Glob=r},function(t,e){"use strict";var r=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=null),this._items=t,this._limit=e}return t.prototype.enqueue=function(t){var e=this._items;return e.push(t),this._limit&&e.length>this._limit&&e.shift(),t},t.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},t.prototype.clear=function(){var t=this._items;return this._items=[],t},t.prototype.size=function(){return this._items.length},t.prototype.remove=function(t){var e=this._items.indexOf(t);return e>-1&&this._items.splice(e,1)[0]},t.prototype.peekTail=function(){return this._items[this._items.length-1]},t.prototype.peekHead=function(){if(this.size())return this._items[0]},t}();e.Queue=r},function(t,e,r){"use strict";function n(t,e){return e.length<=t?e:e.substr(0,t-3)+"..."}function i(t,e){for(;e.length<t;)e+=" ";return e}function o(t){return t.replace(/^([A-Z])/,function(t){return t.toLowerCase()}).replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function a(t){var e=s(t),r=e.match(/^(function [^ ]+\([^)]*\))/),n=r?r[1]:e,i=t.name||"";return i&&n.match(/function \(/)?"function "+i+n.substr(9):n}function s(t){var e=c.isArray(t)?t.slice(-1)[0]:t;return e&&e.toString()||"undefined"}function u(t){function e(t){if(c.isObject(t)){if(r.indexOf(t)!==-1)return"[circular ref]";r.push(t)}return m(t)}var r=[];return JSON.stringify(t,function(t,r){return e(r)}).replace(/\\"/g,'"')}var c=r(4),f=r(10),l=r(3),p=r(5),h=r(11),v=r(19);e.maxLength=n,e.padString=i,e.kebobString=o,e.functionToString=a,e.fnToString=s;var d=null,m=function(t){var e=f.Rejection.isTransitionRejectionPromise;return(d=d||p.pattern([[p.not(c.isDefined),p.val("undefined")],[c.isNull,p.val("null")],[c.isPromise,p.val("[Promise]")],[e,function(t){return t._transitionRejection.toString()}],[p.is(f.Rejection),p.invoke("toString")],[p.is(h.Transition),p.invoke("toString")],[p.is(v.Resolvable),p.invoke("toString")],[c.isInjectable,a],[p.val(!0),l.identity]]))(t)};e.stringify=u,e.beforeAfterSubstr=function(t){return function(e){if(!e)return["",""];var r=e.indexOf(t);return r===-1?[e,""]:[e.substr(0,r),e.substr(r+1)]}}},function(t,e,r){"use strict";var n=r(3),i=r(9);!function(t){t[t.SUPERSEDED=2]="SUPERSEDED",t[t.ABORTED=3]="ABORTED",t[t.INVALID=4]="INVALID",t[t.IGNORED=5]="IGNORED",t[t.ERROR=6]="ERROR"}(e.RejectType||(e.RejectType={}));var o=e.RejectType,a=function(){function t(t,e,r){this.type=t,this.message=e,this.detail=r}return t.prototype.toString=function(){var t=function(t){return t&&t.toString!==Object.prototype.toString?t.toString():i.stringify(t)},e=this.type,r=this.message,n=t(this.detail);return"TransitionRejection(type: "+e+", message: "+r+", detail: "+n+")"},t.prototype.toPromise=function(){return n.extend(n.silentRejection(this),{_transitionRejection:this})},t.isTransitionRejectionPromise=function(e){return e&&"function"==typeof e.then&&e._transitionRejection instanceof t},t.superseded=function(e,r){var n="The transition has been superseded by a different transition",i=new t(o.SUPERSEDED,n,e);return r&&r.redirected&&(i.redirected=!0),i},t.redirected=function(e){return t.superseded(e,{redirected:!0})},t.invalid=function(e){var r="This transition is invalid";return new t(o.INVALID,r,e)},t.ignored=function(e){var r="The transition was ignored";return new t(o.IGNORED,r,e)},t.aborted=function(e){var r="The transition has been aborted";return new t(o.ABORTED,r,e)},t.errored=function(e){var r="The transition errored";return new t(o.ERROR,r,e)},t}();e.Rejection=a},function(t,e,r){"use strict";var n=r(9),i=r(12),o=r(6),a=r(3),s=r(4),u=r(5),c=r(13),f=r(15),l=r(16),p=r(21),h=r(20),v=r(14),d=r(22),m=r(19),g=r(10),y=r(17),w=r(25),b=0,$=u.prop("self"),R=function(){function t(e,r,n){var i=this;if(this._deferred=o.services.$q.defer(),this.promise=this._deferred.promise,this.treeChanges=function(){return i._treeChanges},this.isActive=function(){return i===i._options.current()},this.router=n,this._targetState=r,!r.valid())throw new Error(r.error());f.HookRegistry.mixin(new f.HookRegistry,this),this._options=a.extend({current:u.val(this)},r.options()),this.$id=b++;var s=h.PathFactory.buildToPath(e,r);this._treeChanges=h.PathFactory.treeChanges(e,s,this._options.reloadState);var c=this._treeChanges.entering.map(function(t){return t.state});h.PathFactory.applyViewConfigs(n.transitionService.$view,this._treeChanges.to,c);var l=[new m.Resolvable(w.UIRouter,function(){return n},[],(void 0),n),new m.Resolvable(t,function(){return i},[],(void 0),this),new m.Resolvable("$transition$",function(){return i},[],(void 0),this),new m.Resolvable("$stateParams",function(){return i.params()},[],(void 0),this.params())],p=this._treeChanges.to[0],v=new y.ResolveContext(this._treeChanges.to);v.addResolvables(l,p.state)}return t.prototype.onBefore=function(t,e,r){throw""},t.prototype.onStart=function(t,e,r){throw""},t.prototype.onExit=function(t,e,r){throw""},t.prototype.onRetain=function(t,e,r){throw""},t.prototype.onEnter=function(t,e,r){throw""},t.prototype.onFinish=function(t,e,r){throw""},t.prototype.onSuccess=function(t,e,r){throw""},t.prototype.onError=function(t,e,r){throw""},t.prototype.$from=function(){return a.tail(this._treeChanges.from).state},t.prototype.$to=function(){return a.tail(this._treeChanges.to).state},t.prototype.from=function(){return this.$from().self},t.prototype.to=function(){return this.$to().self},t.prototype.targetState=function(){return this._targetState},t.prototype.is=function(e){return e instanceof t?this.is({to:e.$to().name,from:e.$from().name}):!(e.to&&!f.matchState(this.$to(),e.to)||e.from&&!f.matchState(this.$from(),e.from))},t.prototype.params=function(t){return void 0===t&&(t="to"),this._treeChanges[t].map(u.prop("paramValues")).reduce(a.mergeR,{})},t.prototype.injector=function(t){var e=this.treeChanges().to;return t&&(e=h.PathFactory.subPath(e,function(e){return e.state===t||e.state.name===t})),new y.ResolveContext(e).injector()},t.prototype.getResolveTokens=function(){return new y.ResolveContext(this._treeChanges.to).getTokens()},t.prototype.getResolveValue=function(t){var e=new y.ResolveContext(this._treeChanges.to),r=function(t){var r=e.getResolvable(t);if(void 0===r)throw new Error("Dependency Injection token not found: "+n.stringify(t));return r.data};return s.isArray(t)?t.map(r):r(t)},t.prototype.getResolvable=function(t){return new y.ResolveContext(this._treeChanges.to).getResolvable(t)},t.prototype.addResolvable=function(t,e){void 0===e&&(e="");var r="string"==typeof e?e:e.name,n=this._treeChanges.to,i=a.find(n,function(t){return t.state.name===r}),o=new y.ResolveContext(n);o.addResolvables([t],i.state)},t.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},t.prototype.options=function(){return this._options},t.prototype.entering=function(){return a.map(this._treeChanges.entering,u.prop("state")).map($)},t.prototype.exiting=function(){return a.map(this._treeChanges.exiting,u.prop("state")).map($).reverse()},t.prototype.retained=function(){return a.map(this._treeChanges.retained,u.prop("state")).map($)},t.prototype.views=function(t,e){void 0===t&&(t="entering");var r=this._treeChanges[t];return r=e?r.filter(u.propEq("state",e)):r,r.map(u.prop("views")).filter(a.identity).reduce(a.unnestR,[])},t.prototype.redirect=function(t){var e=a.extend({},this.options(),t.options(),{redirectedFrom:this,source:"redirect"});t=new v.TargetState(t.identifier(),t.$state(),t.params(),e);var r=this.router.transitionService.create(this._treeChanges.from,t),n=this.treeChanges().entering,i=r.treeChanges().entering,o=function(t){return function(e){return t&&e.state.includes[t.name]}},s=p.PathNode.matching(i,n).filter(u.not(o(t.options().reloadState)));return s.forEach(function(t,e){t.resolvables=n[e].resolvables}),r},t.prototype._changedParams=function(){var t=this._treeChanges,e=t.to,r=t.from;if(!this._options.reload&&a.tail(e).state===a.tail(r).state){var n=e.map(function(t){return t.paramSchema}),i=[e,r].map(function(t){return t.map(function(t){return t.paramValues})}),o=i[0],s=i[1],u=a.arrayTuples(n,o,s);return u.map(function(t){var e=t[0],r=t[1],n=t[2];return d.Param.changed(e,r,n)}).reduce(a.unnestR,[])}},t.prototype.dynamic=function(){var t=this._changedParams();return!!t&&t.map(function(t){return t.dynamic}).reduce(a.anyTrueR,!1)},t.prototype.ignored=function(){var t=this._changedParams();return!!t&&0===t.length},t.prototype.hookBuilder=function(){return new l.HookBuilder(this.router.transitionService,this,{transition:this,current:this._options.current})},t.prototype.run=function(){var t=this,e=c.TransitionHook.runSynchronousHooks,r=this.hookBuilder(),n=this.router.globals;n.transitionHistory.enqueue(this);var o=e(r.getOnBeforeHooks());if(g.Rejection.isTransitionRejectionPromise(o)){o["catch"](function(){return 0});var a=o._transitionRejection;return this._deferred.reject(a),this.promise}if(!this.valid()){var s=new Error(this.error());return this._deferred.reject(s),this.promise}if(this.ignored())return i.trace.traceTransitionIgnored(this),this._deferred.reject(g.Rejection.ignored()),this.promise;var u=function(){i.trace.traceSuccess(t.$to(),t),t.success=!0,t._deferred.resolve(t.to()),e(r.getOnSuccessHooks(),!0)},f=function(n){i.trace.traceError(n,t),t.success=!1,t._deferred.reject(n),t._error=n,e(r.getOnErrorHooks(),!0)};i.trace.traceTransitionStart(this);var l=function(t,e){return t.then(function(){return e.invokeHook()})};return r.asyncHooks().reduce(l,o).then(u,f),this.promise},t.prototype.valid=function(){return!this.error()||void 0!==this.success},t.prototype.error=function(){for(var t=this.$to(),e=0,r=this;null!=(r=r.redirectedFrom());)if(++e>20)return"Too many Transition redirects (20+)";return t.self["abstract"]?"Cannot transition to abstract state '"+t.name+"'":d.Param.validates(t.parameters(),this.params())?this.success===!1?this._error:void 0:"Param values not valid for state '"+t.name+"'"},t.prototype.toString=function(){var t=this.from(),e=this.to(),r=function(t){return null!==t["#"]&&void 0!==t["#"]?t:a.omit(t,"#")},n=this.$id,i=s.isObject(t)?t.name:t,o=a.toJson(r(this._treeChanges.from.map(u.prop("paramValues")).reduce(a.mergeR,{}))),c=this.valid()?"":"(X) ",f=s.isObject(e)?e.name:e,l=a.toJson(r(this.params()));return"Transition#"+n+"( '"+i+"'"+o+" -> "+c+"'"+f+"'"+l+" )"},t.diToken=t,t}();e.Transition=R},function(t,e,r){"use strict";function n(t){return t?"[ui-view#"+t.id+" tag "+("in template from '"+(t.creationContext&&t.creationContext.name||"(root)")+"' state]: ")+("fqn: '"+t.fqn+"', ")+("name: '"+t.name+"@"+t.creationContext+"')"):"ui-view (defunct)"}function i(t){return a.isNumber(t)?c[t]:c[c[t]]}var o=r(5),a=r(4),s=r(9),u=function(t){return"[ViewConfig#"+t.$id+" from '"+(t.viewDecl.$context.name||"(root)")+"' state]: target ui-view: '"+t.viewDecl.$uiViewName+"@"+t.viewDecl.$uiViewContextAnchor+"'"};!function(t){t[t.RESOLVE=0]="RESOLVE",t[t.TRANSITION=1]="TRANSITION",t[t.HOOK=2]="HOOK",t[t.UIVIEW=3]="UIVIEW",t[t.VIEWCONFIG=4]="VIEWCONFIG"}(e.Category||(e.Category={}));var c=e.Category,f=function(){function t(){this._enabled={},this.approximateDigests=0}return t.prototype._set=function(t,e){var r=this;e.length||(e=Object.keys(c).map(function(t){return parseInt(t,10)}).filter(function(t){return!isNaN(t)}).map(function(t){return c[t]})),e.map(i).forEach(function(e){return r._enabled[e]=t})},t.prototype.enable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];this._set(!0,t)},t.prototype.disable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];this._set(!1,t)},t.prototype.enabled=function(t){return!!this._enabled[i(t)]},t.prototype.traceTransitionStart=function(t){if(this.enabled(c.TRANSITION)){var e=t.$id,r=this.approximateDigests,n=s.stringify(t);console.log("Transition #"+e+" Digest #"+r+": Started  -> "+n)}},t.prototype.traceTransitionIgnored=function(t){if(this.enabled(c.TRANSITION)){var e=t&&t.$id,r=this.approximateDigests,n=s.stringify(t);console.log("Transition #"+e+" Digest #"+r+": Ignored  <> "+n)}},t.prototype.traceHookInvocation=function(t,e){if(this.enabled(c.HOOK)){var r=o.parse("transition.$id")(e),n=this.approximateDigests,i=o.parse("traceData.hookType")(e)||"internal",a=o.parse("traceData.context.state.name")(e)||o.parse("traceData.context")(e)||"unknown",u=s.functionToString(t.eventHook.callback);console.log("Transition #"+r+" Digest #"+n+":   Hook -> "+i+" context: "+a+", "+s.maxLength(200,u))}},t.prototype.traceHookResult=function(t,e){if(this.enabled(c.HOOK)){var r=o.parse("transition.$id")(e),n=this.approximateDigests,i=s.stringify(t);console.log("Transition #"+r+" Digest #"+n+":   <- Hook returned: "+s.maxLength(200,i))}},t.prototype.traceResolvePath=function(t,e,r){if(this.enabled(c.RESOLVE)){var n=r&&r.$id,i=this.approximateDigests,o=t&&t.toString();console.log("Transition #"+n+" Digest #"+i+":         Resolving "+o+" ("+e+")")}},t.prototype.traceResolvableResolved=function(t,e){if(this.enabled(c.RESOLVE)){var r=e&&e.$id,n=this.approximateDigests,i=t&&t.toString(),o=s.stringify(t.data);console.log("Transition #"+r+" Digest #"+n+":               <- Resolved  "+i+" to: "+s.maxLength(200,o))}},t.prototype.traceError=function(t,e){if(this.enabled(c.TRANSITION)){var r=e&&e.$id,n=this.approximateDigests,i=s.stringify(e);console.log("Transition #"+r+" Digest #"+n+": <- Rejected "+i+", reason: "+t)}},t.prototype.traceSuccess=function(t,e){if(this.enabled(c.TRANSITION)){var r=e&&e.$id,n=this.approximateDigests,i=t.name,o=s.stringify(e);console.log("Transition #"+r+" Digest #"+n+": <- Success  "+o+", final state: "+i)}},t.prototype.traceUIViewEvent=function(t,e,r){void 0===r&&(r=""),this.enabled(c.UIVIEW)&&console.log("ui-view: "+s.padString(30,t)+" "+n(e)+r)},t.prototype.traceUIViewConfigUpdated=function(t,e){this.enabled(c.UIVIEW)&&this.traceUIViewEvent("Updating",t," with ViewConfig from context='"+e+"'")},t.prototype.traceUIViewFill=function(t,e){this.enabled(c.UIVIEW)&&this.traceUIViewEvent("Fill",t," with: "+s.maxLength(200,e))},t.prototype.traceViewServiceEvent=function(t,e){this.enabled(c.VIEWCONFIG)&&console.log("VIEWCONFIG: "+t+" "+u(e))},t.prototype.traceViewServiceUIViewEvent=function(t,e){this.enabled(c.VIEWCONFIG)&&console.log("VIEWCONFIG: "+t+" "+n(e))},t}();e.Trace=f;var l=new f;e.trace=l},function(t,e,r){"use strict";var n=r(3),i=r(9),o=r(4),a=r(5),s=r(12),u=r(6),c=r(10),f=r(14),l={async:!0,rejectIfSuperseded:!0,current:n.noop,transition:null,traceData:{},bind:null},p=function(){function t(t,e,r,i){var o=this;this.transition=t,this.stateContext=e,this.eventHook=r,this.options=i,this.isSuperseded=function(){return o.options.current()!==o.options.transition},this.options=n.defaults(i,l)}return t.prototype.invokeHook=function(){var t=this,e=t.options,r=t.eventHook;if(s.trace.traceHookInvocation(this,e),e.rejectIfSuperseded&&this.isSuperseded())return c.Rejection.superseded(e.current()).toPromise();var n=r._deregistered?void 0:r.callback.call(e.bind,this.transition,this.stateContext);return this.handleHookResult(n)},t.prototype.handleHookResult=function(t){if(this.isSuperseded())return c.Rejection.superseded(this.options.current()).toPromise();if(o.isPromise(t))return t.then(this.handleHookResult.bind(this));if(s.trace.traceHookResult(t,this.options),t===!1)return c.Rejection.aborted("Hook aborted transition").toPromise();var e=a.is(f.TargetState);return e(t)?c.Rejection.redirected(t).toPromise():void 0},t.prototype.toString=function(){var t=this,e=t.options,r=t.eventHook,n=a.parse("traceData.hookType")(e)||"internal",o=a.parse("traceData.context.state.name")(e)||a.parse("traceData.context")(e)||"unknown",s=i.fnToString(r.callback);return n+" context: "+o+", "+i.maxLength(200,s)},t.runSynchronousHooks=function(t,e){void 0===e&&(e=!1);for(var r=[],n=0;n<t.length;n++){var i=t[n];try{r.push(i.invokeHook())}catch(s){if(!e)return c.Rejection.errored(s).toPromise();var f=i.transition.router.stateService.defaultErrorHandler();f(s)}}var l=r.filter(c.Rejection.isTransitionRejectionPromise);return l.length?l[0]:r.filter(o.isPromise).reduce(function(t,e){return t.then(a.val(e))},u.services.$q.when())},t}();e.TransitionHook=p},function(t,e,r){"use strict";var n=r(3),i=function(){function t(t,e,r,n){void 0===r&&(r={}),void 0===n&&(n={}),this._identifier=t,this._definition=e,this._options=n,this._params=r||{}}return t.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},t.prototype.identifier=function(){return this._identifier},t.prototype.params=function(){return this._params},t.prototype.$state=function(){return this._definition},t.prototype.state=function(){return this._definition&&this._definition.self},t.prototype.options=function(){return this._options},t.prototype.exists=function(){return!(!this._definition||!this._definition.self)},t.prototype.valid=function(){return!this.error()},t.prototype.error=function(){var t=this.options().relative;if(!this._definition&&t){var e=t.name?t.name:t;return"Could not resolve '"+this.name()+"' from state '"+e+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},t.prototype.toString=function(){return"'"+this.name()+"'"+n.toJson(this.params())},t}();e.TargetState=i},function(t,e,r){"use strict";function n(t,e){function r(t){for(var e=n,r=0;r<e.length;r++){var i=s.Glob.fromString(e[r]);if(i&&i.matches(t.name)||!i&&e[r]===t.name)return!0}return!1}var n=a.isString(e)?[e]:e,i=a.isFunction(n)?n:r;return!!i(t)}function i(t,e){return function(r,n,i){void 0===i&&(i={});var a=new u(r,n,i);return t[e].push(a),function(){a._deregistered=!0,o.removeFrom(t[e])(a)}}}var o=r(3),a=r(4),s=r(7);e.matchState=n;var u=function(){function t(t,e,r){void 0===r&&(r={}),this.callback=e,this.matchCriteria=o.extend({to:!0,from:!0,exiting:!0,retained:!0,entering:!0},t),this.priority=r.priority||0,this.bind=r.bind||null,this._deregistered=!1}return t._matchingNodes=function(t,e){if(e===!0)return t;var r=t.filter(function(t){return n(t.state,e)});return r.length?r:null},t.prototype.matches=function(e){var r=this.matchCriteria,n=t._matchingNodes,i={to:n([o.tail(e.to)],r.to),from:n([o.tail(e.from)],r.from),exiting:n(e.exiting,r.exiting),retained:n(e.retained,r.retained),entering:n(e.entering,r.entering)},a=["to","from","exiting","retained","entering"].map(function(t){return i[t]}).reduce(o.allTrueR,!0);return a?i:null},t}();e.EventHook=u;var c=function(){function t(){var t=this;this._transitionEvents={onBefore:[],onStart:[],onEnter:[],onRetain:[],onExit:[],onFinish:[],onSuccess:[],onError:[]},this.getHooks=function(e){return t._transitionEvents[e]},this.onBefore=i(this._transitionEvents,"onBefore"),this.onStart=i(this._transitionEvents,"onStart"),this.onEnter=i(this._transitionEvents,"onEnter"),this.onRetain=i(this._transitionEvents,"onRetain"),this.onExit=i(this._transitionEvents,"onExit"),this.onFinish=i(this._transitionEvents,"onFinish"),this.onSuccess=i(this._transitionEvents,"onSuccess"),this.onError=i(this._transitionEvents,"onError")}return t.mixin=function(t,e){Object.keys(t._transitionEvents).concat(["getHooks"]).forEach(function(r){return e[r]=t[r]})},t}();e.HookRegistry=c},function(t,e,r){"use strict";function n(t){return void 0===t&&(t=!1),function(e,r){var n=t?-1:1,i=(e.node.state.path.length-r.node.state.path.length)*n;return 0!==i?i:r.hook.priority-e.hook.priority}}var i=r(3),o=r(4),a=r(13),s=r(17),u=function(){function t(t,e,r){var o=this;this.$transitions=t,this.transition=e,this.baseHookOptions=r,this.getOnBeforeHooks=function(){return o._buildNodeHooks("onBefore","to",n(),{async:!1})},this.getOnStartHooks=function(){return o._buildNodeHooks("onStart","to",n())},this.getOnExitHooks=function(){return o._buildNodeHooks("onExit","exiting",n(!0),{stateHook:!0})},this.getOnRetainHooks=function(){return o._buildNodeHooks("onRetain","retained",n(!1),{stateHook:!0})},this.getOnEnterHooks=function(){return o._buildNodeHooks("onEnter","entering",n(!1),{stateHook:!0})},this.getOnFinishHooks=function(){return o._buildNodeHooks("onFinish","to",n())},this.getOnSuccessHooks=function(){return o._buildNodeHooks("onSuccess","to",n(),{async:!1,rejectIfSuperseded:!1})},this.getOnErrorHooks=function(){return o._buildNodeHooks("onError","to",n(),{async:!1,rejectIfSuperseded:!1})},this.treeChanges=e.treeChanges(),this.toState=i.tail(this.treeChanges.to).state,this.fromState=i.tail(this.treeChanges.from).state,this.transitionOptions=e.options()}return t.prototype.asyncHooks=function(){var t=this.getOnStartHooks(),e=this.getOnExitHooks(),r=this.getOnRetainHooks(),n=this.getOnEnterHooks(),o=this.getOnFinishHooks(),a=[t,e,r,n,o];return a.reduce(i.unnestR,[]).filter(i.identity)},t.prototype._buildNodeHooks=function(t,e,r,n){var o=this,u=this._matchingHooks(t,this.treeChanges);if(!u)return[];var c=function(r){var u=r.matches(o.treeChanges),c=u[e],f="exiting"===e?o.treeChanges.from:o.treeChanges.to;new s.ResolveContext(f);return c.map(function(e){var s=i.extend({bind:r.bind,traceData:{hookType:t,context:e}},o.baseHookOptions,n),u=s.stateHook?e.state:null,c=new a.TransitionHook(o.transition,u,r,s);return{hook:r,node:e,transitionHook:c}})};return u.map(c).reduce(i.unnestR,[]).sort(r).map(function(t){return t.transitionHook})},t.prototype._matchingHooks=function(t,e){return[this.transition,this.$transitions].map(function(e){return e.getHooks(t)}).filter(i.assertPredicate(o.isArray,"broken event named: "+t)).reduce(i.unnestR,[]).filter(function(t){return t.matches(e)})},t}();e.HookBuilder=u},function(t,e,r){"use strict";var n=r(3),i=r(5),o=r(12),a=r(6),s=r(18),u=r(19),c=r(20),f=r(9),l=s.resolvePolicies.when,p=[l.EAGER,l.LAZY],h=[l.EAGER];e.NATIVE_INJECTOR_TOKEN="Native Injector";var v=function(){function t(t){this._path=t}return t.prototype.getTokens=function(){return this._path.reduce(function(t,e){return t.concat(e.resolvables.map(function(t){return t.token}))},[]).reduce(n.uniqR,[])},t.prototype.getResolvable=function(t){var e=this._path.map(function(t){return t.resolvables}).reduce(n.unnestR,[]).filter(function(e){return e.token===t});return n.tail(e)},t.prototype.subContext=function(e){return new t(c.PathFactory.subPath(this._path,function(t){return t.state===e}))},t.prototype.addResolvables=function(t,e){var r=n.find(this._path,i.propEq("state",e)),o=t.map(function(t){return t.token});r.resolvables=r.resolvables.filter(function(t){return o.indexOf(t.token)===-1}).concat(t)},t.prototype.resolvePath=function(t,e){var r=this;void 0===t&&(t="LAZY");var i=n.inArray(p,t)?t:"LAZY",u=i===s.resolvePolicies.when.EAGER?h:p;o.trace.traceResolvePath(this._path,t,e);var c=this._path.reduce(function(t,i){var o=function(t){return n.inArray(u,t.getPolicy(i.state).when)},a=i.resolvables.filter(o),s=r.subContext(i.state),c=function(t){return t.get(s,e).then(function(e){return{token:t.token,value:e}})};return t.concat(a.map(c))},[]);return a.services.$q.all(c)},t.prototype.injector=function(){
return this._injector||(this._injector=new d(this))},t.prototype.findNode=function(t){return n.find(this._path,function(e){return n.inArray(e.resolvables,t)})},t.prototype.getDependencies=function(t){var e=this,r=this.findNode(t),i=c.PathFactory.subPath(this._path,function(t){return t===r})||this._path,o=i.reduce(function(t,e){return t.concat(e.resolvables)},[]).filter(function(e){return e!==t}),a=function(t){var r=o.filter(function(e){return e.token===t});if(r.length)return n.tail(r);var i=e.injector().getNative(t);if(!i)throw new Error("Could not find Dependency Injection token: "+f.stringify(t));return new u.Resolvable(t,function(){return i},[],i)};return t.deps.map(a)},t}();e.ResolveContext=v;var d=function(){function t(t){this.context=t,this["native"]=this.get(e.NATIVE_INJECTOR_TOKEN)||a.services.$injector}return t.prototype.get=function(t){var e=this.context.getResolvable(t);if(e){if(!e.resolved)throw new Error("Resolvable async .get() not complete:"+f.stringify(e.token));return e.data}return this["native"]&&this["native"].get(t)},t.prototype.getAsync=function(t){var e=this.context.getResolvable(t);return e?e.get(this.context):a.services.$q.when(this["native"].get(t))},t.prototype.getNative=function(t){return this["native"].get(t)},t}()},function(t,e){"use strict";e.resolvePolicies={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}}},function(t,e,r){"use strict";var n=r(3),i=r(6),o=r(12),a=r(9),s=r(4);e.defaultResolvePolicy={when:"LAZY",async:"WAIT"};var u=function(){function t(e,r,o,a,u){if(this.resolved=!1,this.promise=void 0,e instanceof t)n.extend(this,e);else if(s.isFunction(r)){if(null==e||void 0==e)throw new Error("new Resolvable(): token argument is required");if(!s.isFunction(r))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=e,this.policy=a,this.resolveFn=r,this.deps=o||[],this.data=u,this.resolved=void 0!==u,this.promise=this.resolved?i.services.$q.when(this.data):void 0}else if(s.isObject(e)&&e.token&&s.isFunction(e.resolveFn)){var c=e;return new t(c.token,c.resolveFn,c.deps,c.policy,c.data)}}return t.prototype.getPolicy=function(t){var r=this.policy||{},n=t&&t.resolvePolicy||{};return{when:r.when||n.when||e.defaultResolvePolicy.when,async:r.async||n.async||e.defaultResolvePolicy.async}},t.prototype.resolve=function(t,e){var r=this,a=i.services.$q,s=function(){return a.all(t.getDependencies(r).map(function(r){return r.get(t,e)}))},u=function(t){return r.resolveFn.apply(null,t)},c=function(t){var e=t.cache(1);return e.take(1).toPromise().then(function(){return e})},f=t.findNode(this),l=f&&f.state,p="RXWAIT"===this.getPolicy(l).async?c:n.identity,h=function(t){return r.data=t,r.resolved=!0,o.trace.traceResolvableResolved(r,e),r.data};return this.promise=a.when().then(s).then(u).then(p).then(h)},t.prototype.get=function(t,e){return this.promise||this.resolve(t,e)},t.prototype.toString=function(){return"Resolvable(token: "+a.stringify(this.token)+", requires: ["+this.deps.map(a.stringify)+"])"},t.prototype.clone=function(){return new t(this)},t.fromData=function(e,r){return new t(e,function(){return r},null,null,r)},t}();e.Resolvable=u},function(t,e,r){"use strict";var n=r(3),i=r(5),o=r(14),a=r(21),s=function(){function t(){}return t.makeTargetState=function(t){var e=n.tail(t).state;return new o.TargetState(e,e,t.map(i.prop("paramValues")).reduce(n.mergeR,{}))},t.buildPath=function(t){var e=t.params();return t.$state().path.map(function(t){return new a.PathNode(t).applyRawParams(e)})},t.buildToPath=function(e,r){var n=t.buildPath(r);return r.options().inherit?t.inheritParams(e,n,Object.keys(r.params())):n},t.applyViewConfigs=function(e,r,i){r.filter(function(t){return n.inArray(i,t.state)}).forEach(function(i){var o=n.values(i.state.views||{}),a=t.subPath(r,function(t){return t===i}),s=o.map(function(t){return e.createViewConfig(a,t)});i.views=s.reduce(n.unnestR,[])})},t.inheritParams=function(t,e,r){function o(t,e){var r=n.find(t,i.propEq("state",e));return n.extend({},r&&r.paramValues)}function s(e){var i=n.extend({},e&&e.paramValues),s=n.pick(i,r);i=n.omit(i,r);var u=o(t,e.state)||{},c=n.extend(i,u,s);return new a.PathNode(e.state).applyRawParams(c)}return void 0===r&&(r=[]),e.map(s)},t.treeChanges=function(t,e,r){function n(t,r){var n=a.PathNode.clone(t);return n.paramValues=e[r].paramValues,n}for(var o=0,s=Math.min(t.length,e.length),u=function(t){return t.parameters({inherit:!1}).filter(i.not(i.prop("dynamic"))).map(i.prop("id"))},c=function(t,e){return t.equals(e,u(t.state))};o<s&&t[o].state!==r&&c(t[o],e[o]);)o++;var f,l,p,h,v;f=t,l=f.slice(0,o),p=f.slice(o);var d=l.map(n);return h=e.slice(o),v=d.concat(h),{from:f,to:v,retained:l,exiting:p,entering:h}},t.subPath=function(t,e){var r=n.find(t,e),i=t.indexOf(r);return i===-1?void 0:t.slice(0,i+1)},t.paramValues=function(t){return t.reduce(function(t,e){return n.extend(t,e.paramValues)},{})},t}();e.PathFactory=s},function(t,e,r){"use strict";var n=r(3),i=r(5),o=r(22),a=function(){function t(e){if(e instanceof t){var r=e;this.state=r.state,this.paramSchema=r.paramSchema.slice(),this.paramValues=n.extend({},r.paramValues),this.resolvables=r.resolvables.slice(),this.views=r.views&&r.views.slice()}else{var i=e;this.state=i,this.paramSchema=i.parameters({inherit:!1}),this.paramValues={},this.resolvables=i.resolvables.map(function(t){return t.clone()})}}return t.prototype.applyRawParams=function(t){var e=function(e){return[e.id,e.value(t[e.id])]};return this.paramValues=this.paramSchema.reduce(function(t,r){return n.applyPairs(t,e(r))},{}),this},t.prototype.parameter=function(t){return n.find(this.paramSchema,i.propEq("id",t))},t.prototype.equals=function(t,e){var r=this;void 0===e&&(e=this.paramSchema.map(function(t){return t.id}));var i=function(e){return r.parameter(e).type.equals(r.paramValues[e],t.paramValues[e])};return this.state===t.state&&e.map(i).reduce(n.allTrueR,!0)},t.clone=function(e){return new t(e)},t.matching=function(t,e,r){void 0===r&&(r=!0);for(var n=[],i=0;i<t.length&&i<e.length;i++){var a=t[i],s=e[i];if(a.state!==s.state)break;var u=o.Param.changed(a.paramSchema,a.paramValues,s.paramValues).filter(function(t){return!(r&&t.dynamic)});if(u.length)break;n.push(a)}return n},t}();e.PathNode=a},function(t,e,r){"use strict";function n(t){return t=v(t)&&{value:t}||t,s.extend(t,{$$fn:c.isInjectable(t.value)?t.value:function(){return t.value}})}function i(t,e,r,n,i){if(t.type&&e&&"string"!==e.name)throw new Error("Param '"+n+"' has two type configurations.");return t.type&&e&&"string"===e.name&&i.type(t.type)?i.type(t.type):e?e:t.type?t.type instanceof p.ParamType?t.type:i.type(t.type):r===d.CONFIG?i.type("any"):i.type("string")}function o(t,e){var r=t.squash;if(!e||r===!1)return!1;if(!c.isDefined(r)||null==r)return l.matcherConfig.defaultSquashPolicy();if(r===!0||c.isString(r))return r;throw new Error("Invalid squash policy: '"+r+"'. Valid policies: false, true, or arbitrary string")}function a(t,e,r,n){var i,o,a=[{from:"",to:r||e?void 0:""},{from:null,to:r||e?void 0:""}];return i=c.isArray(t.replace)?t.replace:[],c.isString(n)&&i.push({from:n,to:void 0}),o=s.map(i,u.prop("from")),s.filter(a,function(t){return o.indexOf(t.from)===-1}).concat(i)}var s=r(3),u=r(5),c=r(4),f=r(6),l=r(23),p=r(24),h=Object.prototype.hasOwnProperty,v=function(t){return 0===["value","type","squash","array","dynamic"].filter(h.bind(t||{})).length};!function(t){t[t.PATH=0]="PATH",t[t.SEARCH=1]="SEARCH",t[t.CONFIG=2]="CONFIG"}(e.DefType||(e.DefType={}));var d=e.DefType,m=function(){function t(t,e,r,u,f){function l(){var e={array:u===d.SEARCH&&"auto"},n=t.match(/\[\]$/)?{array:!0}:{};return s.extend(e,n,r).array}r=n(r),e=i(r,e,u,t,f);var p=l();e=p?e.$asArray(p,u===d.SEARCH):e;var h=void 0!==r.value,v=c.isDefined(r.dynamic)?!!r.dynamic:!!e.dynamic,m=o(r,h),g=a(r,p,h,m);s.extend(this,{id:t,type:e,location:u,squash:m,replace:g,isOptional:h,dynamic:v,config:r,array:p})}return t.prototype.isDefaultValue=function(t){return this.isOptional&&this.type.equals(this.value(),t)},t.prototype.value=function(t){var e=this,r=function(){if(!f.services.$injector)throw new Error("Injectable functions cannot be called at configuration time");var t=f.services.$injector.invoke(e.config.$$fn);if(null!==t&&void 0!==t&&!e.type.is(t))throw new Error("Default value ("+t+") for parameter '"+e.id+"' is not an instance of ParamType ("+e.type.name+")");return t},n=function(t){var r=s.map(s.filter(e.replace,u.propEq("from",t)),u.prop("to"));return r.length?r[0]:t};return t=n(t),c.isDefined(t)?this.type.$normalize(t):r()},t.prototype.isSearch=function(){return this.location===d.SEARCH},t.prototype.validates=function(t){if((!c.isDefined(t)||null===t)&&this.isOptional)return!0;var e=this.type.$normalize(t);if(!this.type.is(e))return!1;var r=this.type.encode(e);return!(c.isString(r)&&!this.type.pattern.exec(r))},t.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},t.fromConfig=function(e,r,n,i){return new t(e,r,n,d.CONFIG,i)},t.fromPath=function(e,r,n,i){return new t(e,r,n,d.PATH,i)},t.fromSearch=function(e,r,n,i){return new t(e,r,n,d.SEARCH,i)},t.values=function(t,e){return void 0===e&&(e={}),t.map(function(t){return[t.id,t.value(e[t.id])]}).reduce(s.applyPairs,{})},t.changed=function(t,e,r){return void 0===e&&(e={}),void 0===r&&(r={}),t.filter(function(t){return!t.type.equals(e[t.id],r[t.id])})},t.equals=function(e,r,n){return void 0===r&&(r={}),void 0===n&&(n={}),0===t.changed(e,r,n).length},t.validates=function(t,e){return void 0===e&&(e={}),t.map(function(t){return t.validates(e[t.id])}).reduce(s.allTrueR,!0)},t}();e.Param=m},function(t,e,r){"use strict";var n=r(4),i=function(){function t(){this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1}return t.prototype.caseInsensitive=function(t){return this._isCaseInsensitive=n.isDefined(t)?t:this._isCaseInsensitive},t.prototype.strictMode=function(t){return this._isStrictMode=n.isDefined(t)?t:this._isStrictMode},t.prototype.defaultSquashPolicy=function(t){if(n.isDefined(t)&&t!==!0&&t!==!1&&!n.isString(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=n.isDefined(t)?t:this._defaultSquashPolicy},t}();e.MatcherConfig=i,e.matcherConfig=new i},function(t,e,r){"use strict";function n(t,e){function r(t){return o.isArray(t)?t:o.isDefined(t)?[t]:[]}function n(t){switch(t.length){case 0:return;case 1:return"auto"===e?t[0]:t;default:return t}}function a(t,e){return function(a){if(o.isArray(a)&&0===a.length)return a;var s=r(a),u=i.map(s,t);return e===!0?0===i.filter(u,function(t){return!t}).length:n(u)}}function s(t){return function(e,n){var i=r(e),o=r(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!t(i[a],o[a]))return!1;return!0}}var u=this;["encode","decode","equals","$normalize"].forEach(function(e){var r=t[e].bind(t),n="equals"===e?s:a;u[e]=n(r)}),i.extend(this,{dynamic:t.dynamic,name:t.name,pattern:t.pattern,is:a(t.is.bind(t),!0),$arrayMode:e})}var i=r(3),o=r(4),a=function(){function t(t){this.pattern=/.*/,i.extend(this,t)}return t.prototype.is=function(t,e){return!0},t.prototype.encode=function(t,e){return t},t.prototype.decode=function(t,e){return t},t.prototype.equals=function(t,e){return t==e},t.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},t.prototype.toString=function(){return"{ParamType:"+this.name+"}"},t.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},t.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new n(this,t)},t}();e.ParamType=a},function(t,e,r){"use strict";var n=r(26),i=r(29),o=r(29),a=r(30),s=r(37),u=r(38),c=r(43),f=r(44),l=function(){function t(){this.viewService=new s.ViewService,this.transitionService=new a.TransitionService(this),this.globals=new f.Globals(this.transitionService),this.urlMatcherFactory=new n.UrlMatcherFactory,this.urlRouterProvider=new i.UrlRouterProvider(this.urlMatcherFactory,this.globals.params),this.urlRouter=new o.UrlRouter(this.urlRouterProvider),this.stateRegistry=new u.StateRegistry(this.urlMatcherFactory,this.urlRouterProvider),this.stateService=new c.StateService(this),this.viewService.rootContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self}return t}();e.UIRouter=l},function(t,e,r){"use strict";function n(){return{strict:s.matcherConfig.strictMode(),caseInsensitive:s.matcherConfig.caseInsensitive()}}var i=r(3),o=r(4),a=r(27),s=r(23),u=r(22),c=r(28),f=function(){function t(){this.paramTypes=new c.ParamTypes,i.extend(this,{UrlMatcher:a.UrlMatcher,Param:u.Param})}return t.prototype.caseInsensitive=function(t){return s.matcherConfig.caseInsensitive(t)},t.prototype.strictMode=function(t){return s.matcherConfig.strictMode(t)},t.prototype.defaultSquashPolicy=function(t){return s.matcherConfig.defaultSquashPolicy(t)},t.prototype.compile=function(t,e){return new a.UrlMatcher(t,this.paramTypes,i.extend(n(),e))},t.prototype.isMatcher=function(t){if(!o.isObject(t))return!1;var e=!0;return i.forEach(a.UrlMatcher.prototype,function(r,n){o.isFunction(r)&&(e=e&&o.isDefined(t[n])&&o.isFunction(t[n]))}),e},t.prototype.type=function(t,e,r){var n=this.paramTypes.type(t,e,r);return o.isDefined(e)?this:n},t.prototype.$get=function(){return this.paramTypes.enqueue=!1,this.paramTypes._flushTypeQueue(),this},t}();e.UrlMatcherFactory=f},function(t,e,r){"use strict";function n(t,e){var r=["",""],n=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return n;switch(e.squash){case!1:r=["(",")"+(e.isOptional?"?":"")];break;case!0:n=n.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+e.squash+"|",")?"]}return n+r[0]+e.type.pattern.source+r[1]}var i=r(3),o=r(5),a=r(4),s=r(22),u=r(4),c=r(22),f=r(3),l=r(3),p=function(t,e,r){return t[e]=t[e]||r()},h=function(){function t(e,r,a){var u=this;this.config=a,this._cache={path:[],pattern:null},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.pattern=e,this.config=i.defaults(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:i.identity});for(var c,f,l,p=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,v=0,d=[],m=function(r){if(!t.nameValidator.test(r))throw new Error("Invalid parameter name '"+r+"' in pattern '"+e+"'");if(i.find(u._params,o.propEq("id",r)))throw new Error("Duplicate parameter name '"+r+"' in pattern '"+e+"'")},g=function(t,n){var o=t[2]||t[3],a=n?t[4]:t[4]||("*"===t[1]?".*":null);return{id:o,regexp:a,cfg:u.config.params[o],segment:e.substring(v,t.index),type:a?r.type(a||"string")||i.inherit(r.type("string"),{pattern:new RegExp(a,u.config.caseInsensitive?"i":void 0)}):null}};(c=p.exec(e))&&(f=g(c,!1),!(f.segment.indexOf("?")>=0));)m(f.id),this._params.push(s.Param.fromPath(f.id,f.type,this.config.paramMap(f.cfg,!1),r)),this._segments.push(f.segment),d.push([f.segment,i.tail(this._params)]),v=p.lastIndex;l=e.substring(v);var y=l.indexOf("?");if(y>=0){var w=l.substring(y);if(l=l.substring(0,y),w.length>0)for(v=0;c=h.exec(w);)f=g(c,!0),m(f.id),this._params.push(s.Param.fromSearch(f.id,f.type,this.config.paramMap(f.cfg,!0),r)),v=p.lastIndex}this._segments.push(l),i.extend(this,{_compiled:d.map(function(t){return n.apply(null,t)}).concat(n(l)),prefix:this._segments[0]}),Object.freeze(this)}return t.prototype.append=function(t){return this._children.push(t),i.forEach(t._cache,function(e,r){return t._cache[r]=a.isArray(e)?[]:null}),t._cache.path=this._cache.path.concat(this),t},t.prototype.isRoot=function(){return 0===this._cache.path.length},t.prototype.toString=function(){return this.pattern},t.prototype.exec=function(t,e,r,n){function a(t){var e=function(t){return t.split("").reverse().join("")},r=function(t){return t.replace(/\\-/g,"-")},n=e(t).split(/-(?!\\)/),o=i.map(n,e);return i.map(o,r).reverse()}var s=this;void 0===e&&(e={}),void 0===n&&(n={});var c=p(this._cache,"pattern",function(){return new RegExp(["^",i.unnest(s._cache.path.concat(s).map(o.prop("_compiled"))).join(""),s.config.strict===!1?"/?":"","$"].join(""),s.config.caseInsensitive?"i":void 0)}).exec(t);if(!c)return null;var f=this.parameters(),l=f.filter(function(t){return!t.isSearch()}),h=f.filter(function(t){return t.isSearch()}),v=this._cache.path.concat(this).map(function(t){return t._segments.length-1}).reduce(function(t,e){return t+e}),d={};if(v!==c.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var m=0;m<v;m++){for(var g=l[m],y=c[m+1],w=0;w<g.replace.length;w++)g.replace[w].from===y&&(y=g.replace[w].to);y&&g.array===!0&&(y=a(y)),u.isDefined(y)&&(y=g.type.decode(y)),d[g.id]=g.value(y)}return h.forEach(function(t){for(var r=e[t.id],n=0;n<t.replace.length;n++)t.replace[n].from===r&&(r=t.replace[n].to);u.isDefined(r)&&(r=t.type.decode(r)),d[t.id]=t.value(r)}),r&&(d["#"]=r),d},t.prototype.parameters=function(t){return void 0===t&&(t={}),t.inherit===!1?this._params:i.unnest(this._cache.path.concat(this).map(o.prop("_params")))},t.prototype.parameter=function(t,e){void 0===e&&(e={});var r=i.tail(this._cache.path);return i.find(this._params,o.propEq("id",t))||e.inherit!==!1&&r&&r.parameter(t)||null},t.prototype.validates=function(t){var e=this,r=function(t,e){return!t||t.validates(e)};return i.pairs(t||{}).map(function(t){var n=t[0],i=t[1];return r(e.parameter(n),i)}).reduce(i.allTrueR,!0)},t.prototype.format=function(e){function r(t){var r=t.value(e[t.id]),n=t.isDefaultValue(r),i=!!n&&t.squash,o=t.type.encode(r);return{param:t,value:r,isDefaultValue:n,squash:i,encoded:o}}if(void 0===e&&(e={}),!this.validates(e))return null;var n=this._cache.path.slice().concat(this),o=n.map(t.pathSegmentsAndParams).reduce(f.unnestR,[]),s=n.map(t.queryParams).reduce(f.unnestR,[]),u=o.reduce(function(e,n){if(a.isString(n))return e+n;var o=r(n),s=o.squash,u=o.encoded,c=o.param;return s===!0?e.match(/\/$/)?e.slice(0,-1):e:a.isString(s)?e+s:s!==!1?e:null==u?e:a.isArray(u)?e+i.map(u,t.encodeDashes).join("-"):c.type.raw?e+u:e+encodeURIComponent(u)},""),c=s.map(function(t){var e=r(t),n=e.squash,o=e.encoded,s=e.isDefaultValue;if(!(null==o||s&&n!==!1)&&(a.isArray(o)||(o=[o]),0!==o.length))return t.type.raw||(o=i.map(o,encodeURIComponent)),o.map(function(e){return t.id+"="+e})}).filter(i.identity).reduce(f.unnestR,[]).join("&");return u+(c?"?"+c:"")+(e["#"]?"#"+e["#"]:"")},t.encodeDashes=function(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})},t.pathSegmentsAndParams=function(t){var e=t._segments,r=t._params.filter(function(t){return t.location===c.DefType.PATH});return l.arrayTuples(e,r.concat(void 0)).reduce(f.unnestR,[]).filter(function(t){return""!==t&&u.isDefined(t)})},t.queryParams=function(t){return t._params.filter(function(t){return t.location===c.DefType.SEARCH})},t.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,t}();e.UrlMatcher=h},function(t,e,r){"use strict";function n(t){return null!=t?t.toString().replace(/(~|\/)/g,function(t){return{"~":"~~","/":"~2F"}[t]}):t}function i(t){return null!=t?t.toString().replace(/(~~|~2F)/g,function(t){return{"~~":"~","~2F":"/"}[t]}):t}var o=r(3),a=r(4),s=r(5),u=r(6),c=r(24),f=function(){function t(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes={hash:{encode:n,decode:i,is:s.is(String),pattern:/.*/,equals:function(t,e){return t==e}},string:{encode:n,decode:i,is:s.is(String),pattern:/[^\/]*/},"int":{encode:n,decode:function(t){return parseInt(t,10)},is:function(t){return a.isDefined(t)&&this.decode(t.toString())===t},pattern:/-?\d+/},bool:{encode:function(t){return t&&1||0},decode:function(t){return 0!==parseInt(t,10)},is:s.is(Boolean),pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):void 0},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):void 0},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return["getFullYear","getMonth","getDate"].reduce(function(r,n){return r&&t[n]()===e[n]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:o.toJson,decode:o.fromJson,is:s.is(Object),equals:o.equals,pattern:/[^\/]*/},any:{encode:o.identity,decode:o.identity,equals:o.equals,pattern:/.*/}};var t=function(t,e){return new c.ParamType(o.extend({name:e},t))};this.types=o.inherit(o.map(this.defaultTypes,t),{})}return t.prototype.type=function(t,e,r){if(!a.isDefined(e))return this.types[t];if(this.types.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return this.types[t]=new c.ParamType(o.extend({name:t},e)),r&&(this.typeQueue.push({name:t,def:r}),this.enqueue||this._flushTypeQueue()),this},t.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var t=this.typeQueue.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");o.extend(this.types[t.name],u.services.$injector.invoke(t.def))}},t}();e.ParamTypes=f},function(t,e,r){"use strict";function n(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=e?e[1].replace(/\\(.)/g,"$1"):""}function i(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,r){return e["$"===r?0:Number(r)]})}function o(t,e,r,n){if(!n)return!1;var i=t.invoke(r,r,{$match:n,$stateParams:e});return!c.isDefined(i)||i}function a(t,e,r){var n=f.services.locationConfig.baseHref();return"/"===n?t:e?n.slice(0,-1)+t:r?n.slice(1)+t:t}function s(t,e,r){function n(t){var e=t(f.services.$injector,l);return!!e&&(c.isString(e)&&l.setUrl(e,!0),!0)}if(!r||!r.defaultPrevented){for(var i=t.length,o=0;o<i;o++)if(n(t[o]))return;e&&n(e)}}var u=r(3),c=r(4),f=r(6),l=f.services.location,p=function(){function t(t,e){this.rules=[],this.interceptDeferred=!1,this.$urlMatcherFactory=t,this.$stateParams=e}return t.prototype.rule=function(t){if(!c.isFunction(t))throw new Error("'rule' must be a function");return this.rules.push(t),this},t.prototype.removeRule=function(t){return this.rules.length!==u.removeFrom(this.rules,t).length},t.prototype.otherwise=function(t){if(!c.isFunction(t)&&!c.isString(t))throw new Error("'rule' must be a string or function");return this.otherwiseFn=c.isString(t)?function(){return t}:t,this},t.prototype.when=function(t,e,r){void 0===r&&(r=function(t){});var a,s=this,p=s.$urlMatcherFactory,h=s.$stateParams,v=c.isString(e);if(c.isString(t)&&(t=p.compile(t)),!v&&!c.isFunction(e)&&!c.isArray(e))throw new Error("invalid 'handler' in when()");var d={matcher:function(t,e){return v&&(a=p.compile(e),e=["$match",a.format.bind(a)]),u.extend(function(){return o(f.services.$injector,h,e,t.exec(l.path(),l.search(),l.hash()))},{prefix:c.isString(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return v&&(a=e,e=["$match",function(t){return i(a,t)}]),u.extend(function(){return o(f.services.$injector,h,e,t.exec(l.path()))},{prefix:n(t)})}},m={matcher:p.isMatcher(t),regex:t instanceof RegExp};for(var g in m)if(m[g]){var y=d[g](t,e);return r(y),this.rule(y)}throw new Error("invalid 'what' in when()")},t.prototype.deferIntercept=function(t){void 0===t&&(t=!0),this.interceptDeferred=t},t}();e.UrlRouterProvider=p;var h=function(){function t(e){this.urlRouterProvider=e,u.bindFunctions(t.prototype,this,this)}return t.prototype.sync=function(){s(this.urlRouterProvider.rules,this.urlRouterProvider.otherwiseFn)},t.prototype.listen=function(){var t=this;return this.listener=this.listener||l.onChange(function(e){return s(t.urlRouterProvider.rules,t.urlRouterProvider.otherwiseFn,e)})},t.prototype.update=function(t){return t?void(this.location=l.path()):void(l.path()!==this.location&&l.setUrl(this.location,!0))},t.prototype.push=function(t,e,r){var n=r&&!!r.replace;l.setUrl(t.format(e||{}),n)},t.prototype.href=function(t,e,r){if(!t.validates(e))return null;var n=t.format(e);r=r||{absolute:!1};var i=f.services.locationConfig,o=i.html5Mode();if(o||null===n||(n="#"+i.hashPrefix()+n),n=a(n,o,r.absolute),!r.absolute||!n)return n;var s=!o&&n?"/":"",u=i.port();return u=80===u||443===u?"":":"+u,[i.protocol(),"://",i.host(),u,s,n].join("")},t}();e.UrlRouter=h},function(t,e,r){"use strict";var n=r(11),i=r(15),o=r(31),a=r(32),s=r(33),u=r(34),c=r(35),f=r(36);e.defaultTransOpts={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"};var l=function(){function t(t){this._router=t,this.$view=t.viewService,i.HookRegistry.mixin(new i.HookRegistry,this),this._deregisterHookFns={},this.registerTransitionHooks()}return t.prototype.registerTransitionHooks=function(){var t=this._deregisterHookFns;t.redirectTo=u.registerRedirectToHook(this),t.onExit=c.registerOnExitHook(this),t.onRetain=c.registerOnRetainHook(this),t.onEnter=c.registerOnEnterHook(this),t.eagerResolve=o.registerEagerResolvePath(this),t.lazyResolve=o.registerLazyResolveState(this),t.loadViews=a.registerLoadEnteringViews(this),t.activateViews=a.registerActivateViews(this),t.updateUrl=s.registerUpdateUrl(this),t.lazyLoad=f.registerLazyLoadHook(this)},t.prototype.onBefore=function(t,e,r){throw""},t.prototype.onStart=function(t,e,r){throw""},t.prototype.onExit=function(t,e,r){throw""},t.prototype.onRetain=function(t,e,r){throw""},t.prototype.onEnter=function(t,e,r){throw""},t.prototype.onFinish=function(t,e,r){throw""},t.prototype.onSuccess=function(t,e,r){throw""},t.prototype.onError=function(t,e,r){throw""},t.prototype.create=function(t,e){return new n.Transition(t,e,this._router)},t}();e.TransitionService=l},function(t,e,r){"use strict";var n=r(3),i=r(17),o=r(5),a=function(t){return new i.ResolveContext(t.treeChanges().to).resolvePath("EAGER",t).then(n.noop)};e.registerEagerResolvePath=function(t){return t.onStart({},a,{priority:1e3})};var s=function(t,e){return new i.ResolveContext(t.treeChanges().to).subContext(e).resolvePath("LAZY",t).then(n.noop)};e.registerLazyResolveState=function(t){return t.onEnter({entering:o.val(!0)},s,{priority:1e3})}},function(t,e,r){"use strict";var n=r(3),i=r(6),o=function(t){var e=t.views("entering");if(e.length)return i.services.$q.all(e.map(function(t){return t.load()})).then(n.noop)};e.registerLoadEnteringViews=function(t){return t.onStart({},o)};var a=function(t){var e=t.views("entering"),r=t.views("exiting");if(e.length||r.length){var n=t.router.viewService;r.forEach(function(t){return n.deactivateViewConfig(t)}),e.forEach(function(t){return n.activateViewConfig(t)}),n.sync()}};e.registerActivateViews=function(t){return t.onSuccess({},a)}},function(t,e){"use strict";var r=function(t){var e=t.options(),r=t.router.stateService,n=t.router.urlRouter;if("url"!==e.source&&e.location&&r.$current.navigable){var i={replace:"replace"===e.location};n.push(r.$current.navigable.url,r.params,i)}n.update(!0)};e.registerUpdateUrl=function(t){return t.onSuccess({},r,{priority:9999})}},function(t,e,r){"use strict";var n=r(4),i=r(6),o=r(14),a=function(t){function e(e){var r=t.router.stateService;return e instanceof o.TargetState?e:n.isString(e)?r.target(e,t.params(),t.options()):e.state||e.params?r.target(e.state||t.to(),e.params||t.params(),t.options()):void 0}var r=t.to().redirectTo;if(r)return n.isFunction(r)?i.services.$q.when(r(t)).then(e):e(r)};e.registerRedirectToHook=function(t){return t.onStart({to:function(t){return!!t.redirectTo}},a)}},function(t,e){"use strict";function r(t){return function(e,r){var n=r[t];return n(e,r)}}var n=r("onExit");e.registerOnExitHook=function(t){return t.onExit({exiting:function(t){return!!t.onExit}},n)};var i=r("onRetain");e.registerOnRetainHook=function(t){return t.onRetain({retained:function(t){return!!t.onRetain}},i)};var o=r("onEnter");e.registerOnEnterHook=function(t){return t.onEnter({entering:function(t){return!!t.onEnter}},o)}},function(t,e,r){"use strict";var n=r(6),i=function(t){function e(){if("url"===t.options().source){var e=n.services.location,r=e.path(),i=e.search(),a=e.hash(),s=function(t){return[t,t.url&&t.url.exec(r,i,a)]},u=o.get().map(function(t){return t.$$state()}).map(s).filter(function(t){var e=(t[0],t[1]);return!!e});if(u.length){var c=u[0],f=c[0],l=c[1];return t.router.stateService.target(f,l,t.options())}t.router.urlRouter.sync()}var p=t.targetState();return t.router.stateService.target(p.identifier(),p.params(),p.options())}function r(e){o.deregister(t.$to()),e&&Array.isArray(e.states)&&e.states.forEach(function(t){return o.register(t)})}var i=t.to(),o=t.router.stateRegistry,a=i.lazyLoad,s=a._promise;if(!s){s=a._promise=a(t).then(r);var u=function(){return delete a._promise};s.then(u,u)}return s.then(e)};e.registerLazyLoadHook=function(t){return t.onBefore({to:function(t){return!!t.lazyLoad}},i)}},function(t,e,r){"use strict";var n=r(3),i=r(5),o=r(4),a=r(12),s=function(){function t(){var t=this;this.uiViews=[],this.viewConfigs=[],this._viewConfigFactories={},this.sync=function(){function e(t){return t.fqn.split(".").length}function r(t){for(var e=t.viewDecl.$context,r=0;++r&&e.parent;)e=e.parent;return r}var o=t.uiViews.map(function(t){return[t.fqn,t]}).reduce(n.applyPairs,{}),a=function(t){return function(e){if(t.$type!==e.viewDecl.$type)return!1;var r=e.viewDecl,i=r.$uiViewName.split("."),a=t.fqn.split(".");if(!n.equals(i,a.slice(0-i.length)))return!1;var s=1-i.length||void 0,u=a.slice(0,s).join("."),c=o[u].creationContext;return r.$uiViewContextAnchor===(c&&c.name)}},s=i.curry(function(t,e,r,n){return e*(t(r)-t(n))}),u=function(e){var n=t.viewConfigs.filter(a(e));return n.length>1&&n.sort(s(r,-1)),[e,n[0]]},c=function(e){var r=e[0],n=e[1];t.uiViews.indexOf(r)!==-1&&r.configUpdated(n)};t.uiViews.sort(s(e,1)).map(u).forEach(c)}}return t.prototype.rootContext=function(t){return this._rootContext=t||this._rootContext},t.prototype.viewConfigFactory=function(t,e){this._viewConfigFactories[t]=e},t.prototype.createViewConfig=function(t,e){var r=this._viewConfigFactories[e.$type];if(!r)throw new Error("ViewService: No view config factory registered for type "+e.$type);var n=r(t,e);return o.isArray(n)?n:[n]},t.prototype.deactivateViewConfig=function(t){a.trace.traceViewServiceEvent("<- Removing",t),n.removeFrom(this.viewConfigs,t)},t.prototype.activateViewConfig=function(t){a.trace.traceViewServiceEvent("-> Registering",t),this.viewConfigs.push(t)},t.prototype.registerUIView=function(t){a.trace.traceViewServiceUIViewEvent("-> Registering",t);var e=this.uiViews,r=function(e){return e.fqn===t.fqn};return e.filter(r).length&&a.trace.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",t),e.push(t),this.sync(),function(){var r=e.indexOf(t);return r===-1?void a.trace.traceViewServiceUIViewEvent("Tried removing non-registered uiView",t):(a.trace.traceViewServiceUIViewEvent("<- Deregistering",t),void n.removeFrom(e)(t))}},t.prototype.available=function(){return this.uiViews.map(i.prop("fqn"))},t.prototype.active=function(){return this.uiViews.filter(i.prop("$config")).map(i.prop("name"))},t.normalizeUIViewTarget=function(t,e){void 0===e&&(e="");var r=e.split("@"),n=r[0]||"$default",i=o.isString(r[1])?r[1]:"^",a=/^(\^(?:\.\^)*)\.(.*$)/.exec(n);a&&(i=a[1],n=a[2]),"!"===n.charAt(0)&&(n=n.substr(1),i="");var s=/^(\^(?:\.\^)*)$/;if(s.exec(i)){var u=i.split(".").reduce(function(t,e){return t.parent},t);i=u.name}return{uiViewName:n,uiViewContextAnchor:i}},t}();e.ViewService=s},function(t,e,r){"use strict";var n=r(39),i=r(40),o=r(41),a=r(3),s=function(){function t(t,e){this.urlRouterProvider=e,this.states={},this.listeners=[],this.matcher=new n.StateMatcher(this.states),this.builder=new i.StateBuilder(this.matcher,t),this.stateQueue=new o.StateQueueManager(this.states,this.builder,e,this.listeners);
var r={name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},"abstract":!0},a=this._root=this.stateQueue.register(r);a.navigable=null}return t.prototype.onStatesChanged=function(t){return this.listeners.push(t),function(){a.removeFrom(this.listeners)(t)}.bind(this)},t.prototype.root=function(){return this._root},t.prototype.register=function(t){return this.stateQueue.register(t)},t.prototype._deregisterTree=function(t){var e=this,r=this.get().map(function(t){return t.$$state()}),n=function(t){var e=r.filter(function(e){return t.indexOf(e.parent)!==-1});return 0===e.length?e:e.concat(n(e))},i=n([t]),o=[t].concat(i).reverse();return o.forEach(function(t){e.urlRouterProvider.removeRule(t._urlRule),delete e.states[t.name]}),o},t.prototype.deregister=function(t){var e=this.get(t);if(!e)throw new Error("Can't deregister state; not found: "+t);var r=this._deregisterTree(e.$$state());return this.listeners.forEach(function(t){return t("deregistered",r.map(function(t){return t.self}))}),r},t.prototype.get=function(t,e){var r=this;if(0===arguments.length)return Object.keys(this.states).map(function(t){return r.states[t].self});var n=this.matcher.find(t,e);return n&&n.self||null},t.prototype.decorator=function(t,e){return this.builder.builder(t,e)},t}();e.StateRegistry=s},function(t,e,r){"use strict";var n=r(4),i=r(7),o=r(3),a=function(){function t(t){this._states=t}return t.prototype.isRelative=function(t){return t=t||"",0===t.indexOf(".")||0===t.indexOf("^")},t.prototype.find=function(t,e){if(t||""===t){var r=n.isString(t),a=r?t:t.name;this.isRelative(a)&&(a=this.resolvePath(a,e));var s=this._states[a];if(s&&(r||!(r||s!==t&&s.self!==t)))return s;if(r){var u=o.values(this._states).filter(function(t){return new i.Glob(t.name).matches(a)});return u.length>1&&console.log("stateMatcher.find: Found multiple matches for "+a+" using glob: ",u.map(function(t){return t.name})),u[0]}}},t.prototype.resolvePath=function(t,e){if(!e)throw new Error("No reference point given for path '"+t+"'");for(var r=this.find(e),n=t.split("."),i=0,o=n.length,a=r;i<o;i++)if(""!==n[i]||0!==i){if("^"!==n[i])break;if(!a.parent)throw new Error("Path '"+t+"' not valid for state '"+r.name+"'");a=a.parent}else a=r;var s=n.slice(i).join(".");return a.name+(a.name&&s?".":"")+s},t}();e.StateMatcher=a},function(t,e,r){"use strict";function n(t){return t.lazyLoad&&(t.name=t.self.name+".**"),t.name}function i(t){return t.self.$$state=function(){return t},t.self}function o(t){return t.parent&&t.parent.data&&(t.data=t.self.data=c.inherit(t.parent.data,t.data)),t.data}function a(t){return t.parent?t.parent.path.concat(t):[t]}function s(t){var e=t.parent?c.extend({},t.parent.includes):{};return e[t.name]=!0,e}function u(t){var e=function(t,e){return Object.keys(t||{}).map(function(r){return{token:r,val:t[r],deps:void 0,policy:e[r]}})},r=function(t){return t.$inject||d.services.$injector.annotate(t,d.services.$injector.strictDi)},n=function(t){return!(!t.token||!t.resolveFn)},i=function(t){return!(!t.provide&&!t.token||!(t.useValue||t.useFactory||t.useExisting||t.useClass))},o=function(t){return!!(t&&t.val&&(f.isString(t.val)||f.isArray(t.val)||f.isFunction(t.val)))},a=function(t){return t.provide||t.token},s=p.pattern([[p.prop("resolveFn"),function(t){return new v.Resolvable(a(t),t.resolveFn,t.deps,t.policy)}],[p.prop("useFactory"),function(t){return new v.Resolvable(a(t),t.useFactory,t.deps||t.dependencies,t.policy)}],[p.prop("useClass"),function(t){return new v.Resolvable(a(t),function(){return new t.useClass},[],t.policy)}],[p.prop("useValue"),function(t){return new v.Resolvable(a(t),function(){return t.useValue},[],t.policy,t.useValue)}],[p.prop("useExisting"),function(t){return new v.Resolvable(a(t),c.identity,[t.useExisting],t.policy)}]]),u=p.pattern([[p.pipe(p.prop("val"),f.isString),function(t){return new v.Resolvable(t.token,c.identity,[t.val],t.policy)}],[p.pipe(p.prop("val"),f.isArray),function(t){return new v.Resolvable(t.token,c.tail(t.val),t.val.slice(0,-1),t.policy)}],[p.pipe(p.prop("val"),f.isFunction),function(t){return new v.Resolvable(t.token,t.val,r(t.val),t.policy)}]]),h=p.pattern([[p.is(v.Resolvable),function(t){return t}],[n,s],[i,s],[o,u],[p.val(!0),function(t){throw new Error("Invalid resolve value: "+l.stringify(t))}]]),m=t.resolve,g=f.isArray(m)?m:e(m,t.resolvePolicy||{});return g.map(h)}var c=r(3),f=r(4),l=r(9),p=r(5),h=r(22),v=r(19),d=r(6),m=function(t){if(!f.isString(t))return!1;var e="^"===t.charAt(0);return{val:e?t.substring(1):t,root:e}},g=function(t,e){return function(r){var n=r;n&&n.url&&n.lazyLoad&&(n.url+="{remainder:any}");var i=m(n.url),o=r.parent,a=i?t.compile(i.val,{params:r.params||{},paramMap:function(t,e){return n.reloadOnSearch===!1&&e&&(t=c.extend(t||{},{dynamic:!0})),t}}):n.url;if(!a)return null;if(!t.isMatcher(a))throw new Error("Invalid url '"+a+"' in state '"+r+"'");return i&&i.root?a:(o&&o.navigable||e()).url.append(a)}},y=function(t){return function(e){return!t(e)&&e.url?e:e.parent?e.parent.navigable:null}},w=function(t){return function(e){var r=function(e,r){return h.Param.fromConfig(r,null,e,t)},n=e.url&&e.url.parameters({inherit:!1})||[],i=c.values(c.mapObj(c.omit(e.params||{},n.map(p.prop("id"))),r));return n.concat(i).map(function(t){return[t.id,t]}).reduce(c.applyPairs,{})}};e.resolvablesBuilder=u;var b=function(){function t(t,e){function r(e){return l(e)?null:t.find(c.parentName(e))||f()}this.matcher=t;var c=this,f=function(){return t.find("")},l=function(t){return""===t.name};this.builders={name:[n],self:[i],parent:[r],data:[o],url:[g(e,f)],navigable:[y(l)],params:[w(e.paramTypes)],views:[],path:[a],includes:[s],resolvables:[u]}}return t.prototype.builder=function(t,e){var r=this.builders,n=r[t]||[];return f.isString(t)&&!f.isDefined(e)?n.length>1?n:n[0]:f.isString(t)&&f.isFunction(e)?(r[t]=n,r[t].push(e),function(){return r[t].splice(r[t].indexOf(e,1))&&null}):void 0},t.prototype.build=function(t){var e=this,r=e.matcher,n=e.builders,i=this.parentName(t);if(i&&!r.find(i))return null;for(var o in n)if(n.hasOwnProperty(o)){var a=n[o].reduce(function(t,e){return function(r){return e(r,t)}},c.noop);t[o]=a(t)}return t},t.prototype.parentName=function(t){var e=t.name||"",r=e.split(".");if(r.length>1){if(t.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+e+")");var n=r.pop();return"**"===n&&r.pop(),r.join(".")}return t.parent?f.isString(t.parent)?t.parent:t.parent.name:""},t.prototype.name=function(t){var e=t.name;if(e.indexOf(".")!==-1||!t.parent)return e;var r=f.isString(t.parent)?t.parent:t.parent.name;return r?r+"."+e:e},t}();e.StateBuilder=b},function(t,e,r){"use strict";var n=r(3),i=r(4),o=r(42),a=function(){function t(t,e,r,n){this.states=t,this.builder=e,this.$urlRouterProvider=r,this.listeners=n,this.queue=[]}return t.prototype.register=function(t){var e=this,r=e.states,a=e.queue,s=e.$state,u=n.inherit(new o.State,n.extend({},t,{self:t,resolve:t.resolve||[],toString:function(){return t.name}}));if(!i.isString(u.name))throw new Error("State must have a valid name");if(r.hasOwnProperty(u.name)||n.pluck(a,"name").indexOf(u.name)!==-1)throw new Error("State '"+u.name+"' is already defined");return a.push(u),this.$state&&this.flush(s),u},t.prototype.flush=function(t){for(var e=this,r=e.queue,n=e.states,i=e.builder,o=[],a=[],s={};r.length>0;){var u=r.shift(),c=i.build(u),f=a.indexOf(u);if(c){if(n.hasOwnProperty(u.name))throw new Error("State '"+name+"' is already defined");n[u.name]=u,this.attachRoute(t,u),f>=0&&a.splice(f,1),o.push(u)}else{var l=s[u.name];if(s[u.name]=r.length,f>=0&&l===r.length)return r.push(u),n;f<0&&a.push(u),r.push(u)}}return o.length&&this.listeners.forEach(function(t){return t("registered",o.map(function(t){return t.self}))}),n},t.prototype.autoFlush=function(t){this.$state=t,this.flush(t)},t.prototype.attachRoute=function(t,e){var r=this.$urlRouterProvider;!e["abstract"]&&e.url&&r.when(e.url,["$match","$stateParams",function(r,i){t.$current.navigable===e&&n.equalForKeys(r,i)||t.transitionTo(e,r,{inherit:!0,source:"url"})}],function(t){return e._urlRule=t})},t}();e.StateQueueManager=a},function(t,e,r){"use strict";var n=r(3),i=r(5),o=function(){function t(t){n.extend(this,t)}return t.prototype.is=function(t){return this===t||this.self===t||this.fqn()===t},t.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var t=this.parent.fqn();return t?t+"."+this.name:this.name},t.prototype.root=function(){return this.parent&&this.parent.root()||this},t.prototype.parameters=function(t){t=n.defaults(t,{inherit:!0});var e=t.inherit&&this.parent&&this.parent.parameters()||[];return e.concat(n.values(this.params))},t.prototype.parameter=function(t,e){return void 0===e&&(e={}),this.url&&this.url.parameter(t,e)||n.find(n.values(this.params),i.propEq("id",t))||e.inherit&&this.parent&&this.parent.parameter(t)},t.prototype.toString=function(){return this.fqn()},t}();e.State=o},function(t,e,r){"use strict";var n=r(3),i=r(4),o=r(8),a=r(6),s=r(20),u=r(21),c=r(30),f=r(10),l=r(14),p=r(22),h=r(7),v=r(3),d=r(3),m=r(17),g=function(){function t(e){this.router=e,this.invalidCallbacks=[],this._defaultErrorHandler=function(t){t instanceof Error&&t.stack?(console.error(t),console.error(t.stack)):t instanceof f.Rejection?(console.error(t.toString()),t.detail&&t.detail.stack&&console.error(t.detail.stack)):console.error(t)};var r=["current","$current","params","transition"],n=Object.keys(t.prototype).filter(function(t){return r.indexOf(t)===-1});d.bindFunctions(t.prototype,this,this,n)}return Object.defineProperty(t.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),t.prototype._handleInvalidTargetState=function(t,e){function r(){var t=h.dequeue();if(void 0===t)return f.Rejection.invalid(e.error()).toPromise();var n=a.services.$q.when(t(e,i,v));return n.then(d).then(function(t){return t||r()})}var n=this,i=s.PathFactory.makeTargetState(t),u=this.router.globals,c=function(){return u.transitionHistory.peekTail()},p=c(),h=new o.Queue(this.invalidCallbacks.slice()),v=new m.ResolveContext(t).injector(),d=function(t){if(t instanceof l.TargetState){var e=t;return e=n.target(e.identifier(),e.params(),e.options()),e.valid()?c()!==p?f.Rejection.superseded().toPromise():n.transitionTo(e.identifier(),e.params(),e.options()):f.Rejection.invalid(e.error()).toPromise()}};return r()},t.prototype.onInvalid=function(t){return this.invalidCallbacks.push(t),function(){n.removeFrom(this.invalidCallbacks)(t)}.bind(this)},t.prototype.reload=function(t){return this.transitionTo(this.current,this.params,{reload:!i.isDefined(t)||t,inherit:!1,notify:!1})},t.prototype.go=function(t,e,r){var i={relative:this.$current,inherit:!0},o=n.defaults(r,i,c.defaultTransOpts);return this.transitionTo(t,e,o)},t.prototype.target=function(t,e,r){if(void 0===r&&(r={}),i.isObject(r.reload)&&!r.reload.name)throw new Error("Invalid reload state object");var n=this.router.stateRegistry;if(r.reloadState=r.reload===!0?n.root():n.matcher.find(r.reload,r.relative),r.reload&&!r.reloadState)throw new Error("No such reload state '"+(i.isString(r.reload)?r.reload:r.reload.name)+"'");var o=n.matcher.find(t,r.relative);return new l.TargetState(t,o,e,r)},t.prototype.transitionTo=function(t,e,r){var i=this;void 0===e&&(e={}),void 0===r&&(r={});var o=this.router,s=o.globals,p=s.transitionHistory;r=n.defaults(r,c.defaultTransOpts),r=n.extend(r,{current:p.peekTail.bind(p)});var h=this.target(t,e,r),v=s.successfulTransitions.peekTail(),d=function(){return[new u.PathNode(i.router.stateRegistry.root())]},m=v?v.treeChanges().to:d();if(!h.exists())return this._handleInvalidTargetState(m,h);if(!h.valid())return n.silentRejection(h.error());var g=function(t){return function(e){if(e instanceof f.Rejection){if(e.type===f.RejectType.IGNORED)return o.urlRouter.update(),a.services.$q.when(s.current);var r=e.detail;if(e.type===f.RejectType.SUPERSEDED&&e.redirected&&r instanceof l.TargetState){var n=t.redirect(r);return n.run()["catch"](g(n))}e.type===f.RejectType.ABORTED&&o.urlRouter.update()}var u=i.defaultErrorHandler();return u(e),a.services.$q.reject(e)}},y=this.router.transitionService.create(m,h),w=y.run()["catch"](g(y));return n.silenceUncaughtInPromise(w),n.extend(w,{transition:y})},t.prototype.is=function(t,e,r){r=n.defaults(r,{relative:this.$current});var o=this.router.stateRegistry.matcher.find(t,r.relative);if(i.isDefined(o))return this.$current===o&&(!i.isDefined(e)||null===e||p.Param.equals(o.parameters(),this.params,e))},t.prototype.includes=function(t,e,r){r=n.defaults(r,{relative:this.$current});var o=i.isString(t)&&h.Glob.fromString(t);if(o){if(!o.matches(this.$current.name))return!1;t=this.$current.name}var a=this.router.stateRegistry.matcher.find(t,r.relative),s=this.$current.includes;if(i.isDefined(a))return!!i.isDefined(s[a.name])&&(!e||v.equalForKeys(p.Param.values(a.parameters(),e),this.params,Object.keys(e)))},t.prototype.href=function(t,e,r){var o={lossy:!0,inherit:!0,absolute:!1,relative:this.$current};r=n.defaults(r,o),e=e||{};var a=this.router.stateRegistry.matcher.find(t,r.relative);if(!i.isDefined(a))return null;r.inherit&&(e=this.params.$inherit(e,this.$current,a));var s=a&&r.lossy?a.navigable:a;return s&&void 0!==s.url&&null!==s.url?this.router.urlRouter.href(s.url,p.Param.values(a.parameters(),e),{absolute:r.absolute}):null},t.prototype.defaultErrorHandler=function(t){return this._defaultErrorHandler=t||this._defaultErrorHandler},t.prototype.get=function(t,e){var r=this.router.stateRegistry;return 0===arguments.length?r.get():r.get(t,e||this.$current)},t}();e.StateService=g},function(t,e,r){"use strict";var n=r(45),i=r(8),o=r(3),a=function(){function t(t){var e=this;this.params=new n.StateParams,this.transitionHistory=new i.Queue([],1),this.successfulTransitions=new i.Queue([],1);var r=function(t){e.transition=t,e.transitionHistory.enqueue(t);var r=function(){e.successfulTransitions.enqueue(t),e.$current=t.$to(),e.current=e.$current.self,o.copy(t.params(),e.params)};t.onSuccess({},r,{priority:1e4});var n=function(){e.transition===t&&(e.transition=null)};t.promise.then(n,n)};t.onBefore({},r)}return t}();e.Globals=a},function(t,e,r){"use strict";var n=r(3),i=function(){function t(t){void 0===t&&(t={}),n.extend(this,t)}return t.prototype.$inherit=function(t,e,r){var i,o=n.ancestors(e,r),a={},s=[];for(var u in o)if(o[u]&&o[u].params&&(i=Object.keys(o[u].params),i.length))for(var c in i)s.indexOf(i[c])>=0||(s.push(i[c]),a[i[c]]=this[i[c]]);return n.extend({},a,t)},t}();e.StateParams=i},function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}n(r(22)),n(r(28)),n(r(45)),n(r(24))},function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}n(r(21)),n(r(20))},function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}n(r(18)),n(r(19)),n(r(17))},function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}n(r(40)),n(r(42)),n(r(39)),n(r(41)),n(r(38)),n(r(43)),n(r(14))},function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}n(r(16)),n(r(15)),n(r(10)),n(r(11)),n(r(13)),n(r(30))},function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}n(r(27)),n(r(23)),n(r(26)),n(r(29))},function(t,e,r){"use strict";function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}n(r(37))},function(t,e,r){"use strict";function n(t){var e=l.services.$injector,r=e.get("$controller"),n=e.instantiate;try{var i;return e.instantiate=function(t){e.instantiate=n,i=e.annotate(t)},r(t,{$scope:{}}),i}finally{e.instantiate=n}}function i(t){function e(e,n,i,o,a,s){return o.$on("$locationChangeSuccess",function(t){return r.forEach(function(e){return e(t)})}),l.services.locationConfig.html5Mode=function(){var e=t.html5Mode();return e=v.isObject(e)?e.enabled:e,e&&i.history},l.services.location.setUrl=function(t,r){void 0===r&&(r=!1),e.url(t),r&&e.replace()},l.services.template.get=function(t){return a.get(t,{cache:s,headers:{Accept:"text/html"}}).then(h.prop("data"))},p.bindFunctions(e,l.services.location,e,["replace","url","path","search","hash"]),p.bindFunctions(e,l.services.locationConfig,e,["port","protocol","host"]),p.bindFunctions(n,l.services.locationConfig,n,["baseHref"]),R}R=new f.UIRouter,R.stateProvider=new w.StateProvider(R.stateRegistry,R.stateService),R.stateRegistry.decorator("views",g.ng1ViewsBuilder),R.stateRegistry.decorator("onExit",b.getStateHookBuilder("onExit")),R.stateRegistry.decorator("onRetain",b.getStateHookBuilder("onRetain")),R.stateRegistry.decorator("onEnter",b.getStateHookBuilder("onEnter")),R.viewService.viewConfigFactory("ng1",g.ng1ViewConfigFactory),p.bindFunctions(t,l.services.locationConfig,t,["hashPrefix"]);var r=[];l.services.location.onChange=function(t){return r.push(t),function(){return p.removeFrom(r)(t)}},this.$get=e,e.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"]}function o(t,e){l.services.$injector=t,l.services.$q=e}function a(){return R.urlRouterProvider.$get=function(){return R.urlRouter.update(!0),this.interceptDeferred||R.urlRouter.listen(),R.urlRouter},R.urlRouterProvider}function s(){return R.stateProvider.$get=function(){return R.stateRegistry.stateQueue.autoFlush(R.stateService),R.stateService},R.stateProvider}function u(){return R.transitionService.$get=function(){return R.transitionService},R.transitionService}function c(t){t.$watch(function(){m.trace.approximateDigests++})}var f=r(25),l=r(6),p=r(3),h=r(5),v=r(4),d=r(54),m=r(12),g=r(55),y=r(56),w=r(58),b=r(59),$=r(57);$.module("ui.router.angular1",[]);$.module("ui.router.util",["ng","ui.router.init"]),$.module("ui.router.router",["ui.router.util"]),$.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),$.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),$.module("ui.router.compat",["ui.router"]),e.annotateController=n;var R=null;i.$inject=["$locationProvider"],$.module("ui.router.init",[]).provider("$uiRouter",i),o.$inject=["$injector","$q"],$.module("ui.router.init").run(o),$.module("ui.router.init").run(["$uiRouter",function(t){}]),$.module("ui.router.util").provider("$urlMatcherFactory",["$uiRouterProvider",function(){return R.urlMatcherFactory}]),$.module("ui.router.util").run(["$urlMatcherFactory",function(t){}]),$.module("ui.router.router").provider("$urlRouter",["$uiRouterProvider",a]),$.module("ui.router.router").run(["$urlRouter",function(t){}]),$.module("ui.router.state").provider("$state",["$uiRouterProvider",s]),$.module("ui.router.state").run(["$state",function(t){}]),$.module("ui.router.state").factory("$stateParams",["$uiRouter",function(t){return t.globals.params}]),$.module("ui.router.state").provider("$transitions",["$uiRouterProvider",u]),$.module("ui.router.util").factory("$templateFactory",["$uiRouter",function(){return new y.TemplateFactory}]),$.module("ui.router").factory("$view",function(){return R.viewService}),$.module("ui.router").factory("$resolve",d.resolveFactory),$.module("ui.router").service("$trace",function(){return m.trace}),c.$inject=["$rootScope"],e.watchDigests=c,$.module("ui.router").run(c),e.getLocals=function(t){var e=t.getTokens().filter(v.isString),r=e.map(function(e){return[e,t.getResolvable(e).data]});return r.reduce(p.applyPairs,{})}},function(t,e,r){"use strict";var n=r(42),i=r(21),o=r(17),a=r(3),s=r(40),u={resolve:function(t,e,r){void 0===e&&(e={});var u=new i.PathNode(new n.State({params:{},resolvables:[]})),c=new i.PathNode(new n.State({params:{},resolvables:[]})),f=new o.ResolveContext([u,c]);f.addResolvables(s.resolvablesBuilder({resolve:t}),c.state);var l=function(t){var r=function(t){return s.resolvablesBuilder({resolve:a.mapObj(t,function(t){return function(){return t}})})};f.addResolvables(r(t),u.state),f.addResolvables(r(e),c.state);var n=function(t,e){return t[e.token]=e.value,t};return f.resolvePath().then(function(t){return t.reduce(n,{})})};return r?r.then(l):l({})}};e.resolveFactory=function(){return u}},function(t,e,r){"use strict";function n(t){var e=["templateProvider","templateUrl","template","notify","async"],r=["controller","controllerProvider","controllerAs","resolveAs"],n=["component","bindings"],c=e.concat(r),f=n.concat(c),l={},p=t.views||{$default:o.pick(t,f)};return o.forEach(p,function(e,r){if(r=r||"$default",u.isString(e)&&(e={component:e}),Object.keys(e).length){if(e.component){if(c.map(function(t){return u.isDefined(e[t])}).reduce(o.anyTrueR,!1))throw new Error("Cannot combine: "+n.join("|")+" with: "+c.join("|")+" in stateview: 'name@"+t.name+"'");e.templateProvider=["$injector",function(t){var r=function(t){return e.bindings&&e.bindings[t]||t},n=v.version.minor>=3?"::":"",o=function(t){var e=a.kebobString(t.name),i=r(t.name);return"@"===t.type?e+"='{{"+n+"$resolve."+i+"}}'":e+"='"+n+"$resolve."+i+"'"},s=i(t,e.component).map(o).join(" "),u=a.kebobString(e.component);return"<"+u+" "+s+"></"+u+">"}]}e.resolveAs=e.resolveAs||"$resolve",e.$type="ng1",e.$context=t,e.$name=r;var f=s.ViewService.normalizeUIViewTarget(e.$context,e.$name);e.$uiViewName=f.uiViewName,e.$uiViewContextAnchor=f.uiViewContextAnchor,l[r]=e}}),l}function i(t,e){var r=t.get(e+"Directive");if(!r||!r.length)throw new Error("Unable to find component named '"+e+"'");return r.map(m).reduce(o.unnestR,[])}var o=r(3),a=r(9),s=r(37),u=r(4),c=r(6),f=r(12),l=r(56),p=r(17),h=r(19),v=r(57);e.ng1ViewConfigFactory=function(t,e){return[new y(t,e)]},e.ng1ViewsBuilder=n;var d=function(t){return Object.keys(t||{}).map(function(e){return[e,/^([=<@])[?]?(.*)/.exec(t[e])]}).filter(function(t){return u.isDefined(t)&&u.isDefined(t[1])}).map(function(t){return{name:t[1][2]||t[0],type:t[1][1]}})},m=function(t){return d(u.isObject(t.bindToController)?t.bindToController:t.scope)},g=0,y=function(){function t(t,e){this.path=t,this.viewDecl=e,this.$id=g++,this.loaded=!1}return t.prototype.load=function(){var t=this,e=c.services.$q;if(!this.hasTemplate())throw new Error("No template configuration specified for '"+this.viewDecl.$uiViewName+"@"+this.viewDecl.$uiViewContextAnchor+"'");var r=new p.ResolveContext(this.path),n=this.path.reduce(function(t,e){return o.extend(t,e.paramValues)},{}),i={template:e.when(this.getTemplate(n,new l.TemplateFactory,r)),controller:e.when(this.getController(r))};return e.all(i).then(function(e){return f.trace.traceViewServiceEvent("Loaded",t),t.controller=e.controller,t.template=e.template,t})},t.prototype.hasTemplate=function(){return!!(this.viewDecl.template||this.viewDecl.templateUrl||this.viewDecl.templateProvider)},t.prototype.getTemplate=function(t,e,r){return e.fromConfig(this.viewDecl,t,r)},t.prototype.getController=function(t){var e=this.viewDecl.controllerProvider;if(!u.isInjectable(e))return this.viewDecl.controller;var r=c.services.$injector.annotate(e),n=u.isArray(e)?o.tail(e):e,i=new h.Resolvable("",n,r);return i.get(t)},t}();e.Ng1ViewConfig=y},function(t,e,r){"use strict";var n=r(4),i=r(6),o=r(3),a=r(19),s=function(){function t(){}return t.prototype.fromConfig=function(t,e,r){return n.isDefined(t.template)?this.fromString(t.template,e):n.isDefined(t.templateUrl)?this.fromUrl(t.templateUrl,e):n.isDefined(t.templateProvider)?this.fromProvider(t.templateProvider,e,r):null},t.prototype.fromString=function(t,e){return n.isFunction(t)?t(e):t},t.prototype.fromUrl=function(t,e){return n.isFunction(t)&&(t=t(e)),null==t?null:i.services.template.get(t)},t.prototype.fromProvider=function(t,e,r){var s=i.services.$injector.annotate(t),u=n.isArray(t)?o.tail(t):t,c=new a.Resolvable("",u,s);return c.get(r)},t}();e.TemplateFactory=s},function(e,r){e.exports=t},function(t,e,r){"use strict";var n=r(4),i=r(3),o=function(){function t(e,r){this.stateRegistry=e,this.stateService=r,i.bindFunctions(t.prototype,this,this)}return t.prototype.decorator=function(t,e){return this.stateRegistry.decorator(t,e)||this},t.prototype.state=function(t,e){return n.isObject(t)?e=t:e.name=t,this.stateRegistry.register(e),this},t.prototype.onInvalid=function(t){return this.stateService.onInvalid(t)},t}();e.StateProvider=o},function(t,e,r){"use strict";var n=r(6),i=r(53),o=r(17),a=r(3);e.getStateHookBuilder=function(t){return function(e,r){function s(t,e){var r=new o.ResolveContext(t.treeChanges().to);return n.services.$injector.invoke(u,this,a.extend({$state$:e},i.getLocals(r)))}var u=e[t];return u?s:void 0}}},function(t,e,r){"use strict";function n(t,e){var r,n=t.match(/^\s*({[^}]*})\s*$/);if(n&&(t=e+"("+n[1]+")"),r=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!r||4!==r.length)throw new Error("Invalid state ref '"+t+"'");return{state:r[1],paramExpr:r[3]||null}}function i(t){var e=t.parent().inheritedData("$uiView"),r=l.parse("$cfg.path")(e);return r?c.tail(r).state.name:void 0}function o(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),r="FORM"===t[0].nodeName;return{attr:r?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!r}}function a(t,e,r,n,i){return function(o){var a=o.which||o.button,s=i();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||t.attr("target"))){var u=r(function(){e.go(s.state,s.params,s.options)});o.preventDefault();var c=n.isAnchor&&!s.href?1:0;o.preventDefault=function(){c--<=0&&r.cancel(u)}}}}function s(t,e){return{relative:i(t)||e.$current,inherit:!0,source:"sref"}}var u=r(57),c=r(3),f=r(4),l=r(5),p=["$state","$timeout",function(t,e){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,i,f,l){var p,h=n(f.uiSref,t.current.name),v={state:h.state,href:null,params:null,options:null},d=o(i),m=l[1]||l[0],g=null;v.options=c.extend(s(i,t),f.uiSrefOpts?r.$eval(f.uiSrefOpts):{});var y=function(e){e&&(v.params=u.copy(e)),v.href=t.href(h.state,v.params,v.options),g&&g(),m&&(g=m.$$addStateInfo(h.state,v.params)),null!==v.href&&f.$set(d.attr,v.href)};h.paramExpr&&(r.$watch(h.paramExpr,function(t){t!==v.params&&y(t)},!0),v.params=u.copy(r.$eval(h.paramExpr))),y(),d.clickable&&(p=a(i,t,e,d,function(){return v}),i.on("click",p),r.$on("$destroy",function(){i.off("click",p)}))}}}],h=["$state","$timeout",function(t,e){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(r,n,i,s){function u(e){v.state=e[0],v.params=e[1],v.options=e[2],v.href=t.href(v.state,v.params,v.options),d&&d(),l&&(d=l.$$addStateInfo(v.state,v.params)),v.href&&i.$set(f.attr,v.href)}var c,f=o(n),l=s[1]||s[0],p=[i.uiState,i.uiStateParams||null,i.uiStateOpts||null],h="["+p.map(function(t){return t||"null"}).join(", ")+"]",v={state:null,params:null,options:null,href:null},d=null;r.$watch(h,u,!0),u(r.$eval(h)),f.clickable&&(c=a(n,t,e,f,function(){return v}),n.on("click",c),r.$on("$destroy",function(){n.off("click",c)}))}}}],v=["$state","$stateParams","$interpolate","$transitions","$uiRouter",function(t,e,r,o,a){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout",function(e,s,u,l){function p(t){t.promise.then(d)}function h(e,r,n){var o=t.get(e,i(s)),a=v(e,r),u={state:o||{name:e},params:r,hash:a};return R.push(u),S[a]=n,function(){var t=R.indexOf(u);t!==-1&&R.splice(t,1)}}function v(t,r){if(!f.isString(t))throw new Error("state should be a string");return f.isObject(r)?t+c.toJson(r):(r=e.$eval(r),f.isObject(r)?t+c.toJson(r):t)}function d(){for(var t=0;t<R.length;t++)y(R[t].state,R[t].params)?m(s,S[R[t].hash]):g(s,S[R[t].hash]),w(R[t].state,R[t].params)?m(s,b):g(s,b)}function m(t,e){l(function(){t.addClass(e)})}function g(t,e){t.removeClass(e)}function y(e,r){return t.includes(e.name,r)}function w(e,r){return t.is(e.name,r)}var b,$,R=[],S={};b=r(u.uiSrefActiveEq||"",!1)(e);try{$=e.$eval(u.uiSrefActive)}catch(E){}$=$||r(u.uiSrefActive||"",!1)(e),f.isObject($)&&c.forEach($,function(r,i){if(f.isString(r)){var o=n(r,t.current.name);h(o.state,e.$eval(o.paramExpr),i)}}),this.$$addStateInfo=function(t,e){if(!(f.isObject($)&&R.length>0)){var r=h(t,e,$);return d(),r}},e.$on("$stateChangeSuccess",d),e.$on("$destroy",o.onStart({},p)),a.globals.transition&&p(a.globals.transition),d()}]}}];u.module("ui.router.state").directive("uiSref",p).directive("uiSrefActive",v).directive("uiSrefActiveEq",v).directive("uiState",h)},function(t,e,r){"use strict";function n(t){var e=function(e,r,n){return t.is(e,r,n)};return e.$stateful=!0,e}function i(t){var e=function(e,r,n){return t.includes(e,r,n)};return e.$stateful=!0,e}var o=r(57);n.$inject=["$state"],e.$IsStateFilter=n,i.$inject=["$state"],e.$IncludedByStateFilter=i,o.module("ui.router.state").filter("isState",n).filter("includedByState",i)},function(t,e,r){"use strict";function n(t,e,r,n,u){var v=c.parse("viewDecl.controllerAs"),d=c.parse("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(n){var u=n.html();return function(n,c){var m=c.data("$uiView");if(m){var g=m.$cfg||{viewDecl:{}};c.html(g.template||u),s.trace.traceUIViewFill(m.$uiView,c.html());var y=t(c.contents()),w=g.controller,b=v(g),$=d(g),R=g.path&&new f.ResolveContext(g.path),S=R&&p.getLocals(R);if(n[$]=S,w){var E=e(w,o.extend({},S,{$scope:n,$element:c}));b&&(n[b]=E,n[b][$]=S),c.data("$ngControllerController",E),c.children().data("$ngControllerController",E),i(r,E,n,g)}if(a.isString(g.viewDecl.component))var x=g.viewDecl.component,k=l.kebobString(x),P=function(){var t=[].slice.call(c[0].children).filter(function(t){return t&&t.tagName&&t.tagName.toLowerCase()===k});return t&&h.element(t).data("$"+x+"Controller")},_=n.$watch(P,function(t){t&&(i(r,t,n,g),_())});y(n)}}}}}function i(t,e,r,n){!a.isFunction(e.$onInit)||n.viewDecl.component&&d||e.$onInit();var i=o.tail(n.path).state.self,s={bind:e};if(a.isFunction(e.uiOnParamsChanged)){var u=new f.ResolveContext(n.path),c=u.getResolvable("$transition$").data,l=function(t){if(t!==c&&t.exiting().indexOf(i)===-1){var r=t.params("to"),n=t.params("from"),a=t.treeChanges().to.map(function(t){return t.paramSchema}).reduce(o.unnestR,[]),s=t.treeChanges().from.map(function(t){return t.paramSchema}).reduce(o.unnestR,[]),u=a.filter(function(t){var e=s.indexOf(t);return e===-1||!s[e].type.equals(r[t.id],n[t.id])});if(u.length){var f=u.map(function(t){return t.id});e.uiOnParamsChanged(o.filter(r,function(t,e){return f.indexOf(e)!==-1}),t)}}};r.$on("$destroy",t.onSuccess({},l,s))}if(a.isFunction(e.uiCanExit)){var p={exiting:i.name};r.$on("$destroy",t.onBefore(p,e.uiCanExit,s))}}var o=r(3),a=r(4),s=r(12),u=r(55),c=r(5),f=r(17),l=r(9),p=r(53),h=r(57),v=["$view","$animate","$uiViewScroll","$interpolate","$q",function(t,e,r,n,i){function o(t,r){return{enter:function(t,r,n){h.version.minor>2?e.enter(t,null,r).then(n):e.enter(t,null,r,n)},leave:function(t,r){h.version.minor>2?e.leave(t).then(r):e.leave(t,r)}}}function f(t,e){return t===e}var l={$cfg:{viewDecl:{$context:t.rootContext()}},$uiView:{}},p={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,h,v){return function(e,h,d){function m(t){(!t||t instanceof u.Ng1ViewConfig)&&(f(k,t)||(s.trace.traceUIViewConfigUpdated(C,t&&t.viewDecl&&t.viewDecl.$context),k=t,y(t)))}function g(){if(w&&(s.trace.traceUIViewEvent("Removing (previous) el",w.data("$uiView")),w.remove(),w=null),$&&(s.trace.traceUIViewEvent("Destroying scope",C),$.$destroy(),$=null),b){var t=b.data("$uiViewAnim");s.trace.traceUIViewEvent("Animate out",t),x.leave(b,function(){t.$$animLeave.resolve(),w=null}),w=b,b=null}}function y(t){var n=e.$new(),o=i.defer(),s=i.defer(),u={$cfg:t,$uiView:C},c={$animEnter:o.promise,$animLeave:s.promise,$$animLeave:s},f=v(n,function(t){t.data("$uiViewAnim",c),t.data("$uiView",u),
x.enter(t,h,function(){o.resolve(),$&&$.$emit("$viewContentAnimationEnded"),(a.isDefined(E)&&!E||e.$eval(E))&&r(t)}),g()});b=f,$=n,$.$emit("$viewContentLoaded",t||k),$.$eval(S)}var w,b,$,R,S=d.onload||"",E=d.autoscroll,x=o(d,e),k=void 0,P=h.inheritedData("$uiView")||l,_=n(d.uiView||d.name||"")(e)||"$default",C={$type:"ng1",id:p.count++,name:_,fqn:P.$uiView.fqn?P.$uiView.fqn+"."+_:_,config:null,configUpdated:m,get creationContext(){return c.parse("$cfg.viewDecl.$context")(P)}};s.trace.traceUIViewEvent("Linking",C),h.data("$uiView",{$uiView:C}),y(),R=t.registerUIView(C),e.$on("$destroy",function(){s.trace.traceUIViewEvent("Destroying/Unregistering",C),R()})}}};return p}];n.$inject=["$compile","$controller","$transitions","$view","$timeout"];var d="function"==typeof h.module("ui.router").component;h.module("ui.router.state").directive("uiView",v),h.module("ui.router.state").directive("uiView",n)},function(t,e,r){"use strict";function n(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,r){return t?e:function(t){return r(function(){t[0].scrollIntoView()},0,!1)}}]}var i=r(57);i.module("ui.router.state").provider("$uiViewScroll",n)}])});
//# sourceMappingURL=angular-ui-router.min.js.map
/*
ngprogress 1.1.2 - slim, site-wide progressbar for AngularJS 
(C) 2013 - Victor Bjelkholm 
License: MIT 
Source: https://github.com/VictorBjelkholm/ngProgress 
Date Compiled: 2015-07-27 
*/
angular.module("ngProgress.provider",["ngProgress.directive"]).service("ngProgress",function(){"use strict";return["$document","$window","$compile","$rootScope","$timeout",function(a,b,c,d,e){this.autoStyle=!0,this.count=0,this.height="2px",this.$scope=d.$new(),this.color="firebrick",this.parent=a.find("body")[0],this.count=0,this.progressbarEl=c("<ng-progress></ng-progress>")(this.$scope),this.parent.appendChild(this.progressbarEl[0]),this.$scope.count=this.count,void 0!==this.height&&this.progressbarEl.eq(0).children().css("height",this.height),void 0!==this.color&&(this.progressbarEl.eq(0).children().css("background-color",this.color),this.progressbarEl.eq(0).children().css("color",this.color)),this.intervalCounterId=0,this.start=function(){this.show();var a=this;clearInterval(this.intervalCounterId),this.intervalCounterId=setInterval(function(){isNaN(a.count)?(clearInterval(a.intervalCounterId),a.count=0,a.hide()):(a.remaining=100-a.count,a.count=a.count+.15*Math.pow(1-Math.sqrt(a.remaining),2),a.updateCount(a.count))},200)},this.updateCount=function(a){this.$scope.count=a,this.$scope.$$phase||this.$scope.$apply()},this.setHeight=function(a){return void 0!==a&&(this.height=a,this.$scope.height=this.height,this.$scope.$$phase||this.$scope.$apply()),this.height},this.setColor=function(a){return void 0!==a&&(this.color=a,this.$scope.color=this.color,this.$scope.$$phase||this.$scope.$apply()),this.color},this.hide=function(){this.progressbarEl.children().css("opacity","0");var a=this;a.animate(function(){a.progressbarEl.children().css("width","0%"),a.animate(function(){a.show()},500)},500)},this.show=function(){var a=this;a.animate(function(){a.progressbarEl.children().css("opacity","1")},100)},this.animate=function(a,b){void 0!==this.animation&&e.cancel(this.animation),this.animation=e(a,b)},this.status=function(){return this.count},this.stop=function(){clearInterval(this.intervalCounterId)},this.set=function(a){return this.show(),this.updateCount(a),this.count=a,clearInterval(this.intervalCounterId),this.count},this.css=function(a){return this.progressbarEl.children().css(a)},this.reset=function(){return clearInterval(this.intervalCounterId),this.count=0,this.updateCount(this.count),0},this.complete=function(){this.count=100,this.updateCount(this.count);var a=this;return clearInterval(this.intervalCounterId),e(function(){a.hide(),e(function(){a.count=0,a.updateCount(a.count)},500)},1e3),this.count},this.setParent=function(a){if(null===a||void 0===a)throw new Error("Provide a valid parent of type HTMLElement");null!==this.parent&&void 0!==this.parent&&this.parent.removeChild(this.progressbarEl[0]),this.parent=a,this.parent.appendChild(this.progressbarEl[0])},this.getDomElement=function(){return this.progressbarEl},this.setAbsolute=function(){this.progressbarEl.css("position","absolute")}}]}).factory("ngProgressFactory",["$injector","ngProgress",function(a,b){var c={createInstance:function(){return a.instantiate(b)}};return c}]),angular.module("ngProgress.directive",[]).directive("ngProgress",["$window","$rootScope",function(a,b){var c={replace:!0,restrict:"E",link:function(a,b,c,d){a.$watch("count",function(c){(void 0!==c||null!==c)&&(a.counter=c,b.eq(0).children().css("width",c+"%"))}),a.$watch("color",function(c){(void 0!==c||null!==c)&&(a.color=c,b.eq(0).children().css("background-color",c),b.eq(0).children().css("color",c))}),a.$watch("height",function(c){(void 0!==c||null!==c)&&(a.height=c,b.eq(0).children().css("height",c))})},template:'<div id="ngProgress-container"><div id="ngProgress"></div></div>'};return c}]),angular.module("ngProgress",["ngProgress.directive","ngProgress.provider"]);
(function() {
angular.module('taxiServiceApp', ['ngProgress', 'ui.router']);

    angular.module('taxiServiceApp').config(config);

    config.$inject = ['$stateProvider', '$locationProvider'];

    function config($stateProvider, $locationProvider) {
        $locationProvider.hashPrefix('!');

        var states = [
           { name: 'users', url: '/users', component: 'usersComponent' },
        ];

        states.forEach(function(state) {
            $stateProvider.state(state);
        });
    }
})();

(function() {
    angular
        .module('taxiServiceApp')
        .factory('baseHttpService', baseHttpService);
    
    baseHttpService.$inject = ['$http'];
    
    function baseHttpService($http) {
        return {
            makeRequest: function(methodArg, urlArg, dataArg, headersArg) {
                var requestConfigObject = {
                    method: methodArg,
                    url: urlArg,
                    data: dataArg,
                    headers: headersArg
                };

                return $http(requestConfigObject);
            }
        };
    } 
})();
(function() {
    angular
        .module('taxiServiceApp')
        .factory('constantsService', constantsService);

    function constantsService() {
        return {
            SERVER_URL: 'http://localhost:3000/api'
        };
    }
})();
(function() {
    angular
        .module('taxiServiceApp')
        .factory('progressBarService', progressBarService);

        progressBarService.$inject = ['ngProgressFactory'];

        function progressBarService(ngProgressFactory) {
            var progressBar = ngProgressFactory.createInstance();

            progressBar.setHeight('7px');
            progressBar.setColor('#ecf0f1');

            return {
                start: function() {
                    progressBar.start();
                },
                complete: function() {
                    progressBar.complete();
                }
            };
        }
})();
(function() {
    angular
        .module('taxiServiceApp')
        .factory('usersHttpService', usersHttpService);
    
    usersHttpService.$inject = ['baseHttpService', 'constantsService'];

    function usersHttpService(baseHttpService, constantsService) {
        var usersUrl = constantsService.SERVER_URL + '/users/';

        return {
            getAll: function() {
                return baseHttpService.makeRequest('GET', usersUrl)
                    .then(function(response) {
                        return response.data;
                    });
            },
            deleteByid: function(id) {
                return baseHttpService.makeRequest('DELETE', usersUrl + id);
            }
        };
    }
})();
(function() {
    angular
        .module('taxiServiceApp')
        .component('usersComponent', {
           templateUrl: '../templates/components/users/users.template.html',
           controller: UsersController,
        });
    
    UsersController.$inject = ['usersHttpService'];

    function UsersController(usersHttpService) {
        var self = this;

        self.getAll = function() {
            usersHttpService.getAll()
                .then(function(response) {
                    self.users = response;
                });
        };

        self.deleteById = function(id) {
            usersHttpService.deleteById(id)
                .then(function() {
                    
                });
        };

        self.getAll();
    }
})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuZ3VsYXIvYW5ndWxhci5taW4uanMiLCJhbmd1bGFyLXVpLXJvdXRlci9yZWxlYXNlL2FuZ3VsYXItdWktcm91dGVyLm1pbi5qcyIsInNjcmlwdHMvZXh0ZXJuYWwvbmdQcm9ncmVzcy5taW4uanMiLCJzY3JpcHRzL2FwcC9hcHAuanMiLCJ1dGlscy9iYXNlLWh0dHAuc2VydmljZS5qcyIsInV0aWxzL2NvbnN0YW50cy5zZXJ2aWNlLmpzIiwidXRpbHMvcHJvZ3Jlc3MtYmFyLnNlcnZpY2UuanMiLCJjb21wb25lbnRzL3VzZXJzL3VzZXJzLWh0dHAuc2VydmljZS5qcyIsImNvbXBvbmVudHMvdXNlcnMvdXNlcnMuY29tcG9uZW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDOVRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ25CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3JCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuIEFuZ3VsYXJKUyB2MS41LjhcbiAoYykgMjAxMC0yMDE2IEdvb2dsZSwgSW5jLiBodHRwOi8vYW5ndWxhcmpzLm9yZ1xuIExpY2Vuc2U6IE1JVFxuKi9cbihmdW5jdGlvbihDKXsndXNlIHN0cmljdCc7ZnVuY3Rpb24gTihhKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYj1hcmd1bWVudHNbMF0sZDtkPVwiW1wiKyhhP2ErXCI6XCI6XCJcIikrYitcIl0gaHR0cDovL2Vycm9ycy5hbmd1bGFyanMub3JnLzEuNS44L1wiKyhhP2ErXCIvXCI6XCJcIikrYjtmb3IoYj0xO2I8YXJndW1lbnRzLmxlbmd0aDtiKyspe2Q9ZCsoMT09Yj9cIj9cIjpcIiZcIikrXCJwXCIrKGItMSkrXCI9XCI7dmFyIGM9ZW5jb2RlVVJJQ29tcG9uZW50LGU7ZT1hcmd1bWVudHNbYl07ZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBlP2UudG9TdHJpbmcoKS5yZXBsYWNlKC8gXFx7W1xcc1xcU10qJC8sXCJcIik6XCJ1bmRlZmluZWRcIj09dHlwZW9mIGU/XCJ1bmRlZmluZWRcIjpcInN0cmluZ1wiIT10eXBlb2YgZT9KU09OLnN0cmluZ2lmeShlKTplO2QrPWMoZSl9cmV0dXJuIEVycm9yKGQpfX1mdW5jdGlvbiB0YShhKXtpZihudWxsPT1hfHxWYShhKSlyZXR1cm4hMTtpZihMKGEpfHxHKGEpfHxGJiZhIGluc3RhbmNlb2YgRilyZXR1cm4hMDtcbnZhciBiPVwibGVuZ3RoXCJpbiBPYmplY3QoYSkmJmEubGVuZ3RoO3JldHVybiBUKGIpJiYoMDw9YiYmKGItMSBpbiBhfHxhIGluc3RhbmNlb2YgQXJyYXkpfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLml0ZW0pfWZ1bmN0aW9uIHEoYSxiLGQpe3ZhciBjLGU7aWYoYSlpZih6KGEpKWZvcihjIGluIGEpXCJwcm90b3R5cGVcIj09Y3x8XCJsZW5ndGhcIj09Y3x8XCJuYW1lXCI9PWN8fGEuaGFzT3duUHJvcGVydHkmJiFhLmhhc093blByb3BlcnR5KGMpfHxiLmNhbGwoZCxhW2NdLGMsYSk7ZWxzZSBpZihMKGEpfHx0YShhKSl7dmFyIGY9XCJvYmplY3RcIiE9PXR5cGVvZiBhO2M9MDtmb3IoZT1hLmxlbmd0aDtjPGU7YysrKShmfHxjIGluIGEpJiZiLmNhbGwoZCxhW2NdLGMsYSl9ZWxzZSBpZihhLmZvckVhY2gmJmEuZm9yRWFjaCE9PXEpYS5mb3JFYWNoKGIsZCxhKTtlbHNlIGlmKHNjKGEpKWZvcihjIGluIGEpYi5jYWxsKGQsYVtjXSxjLGEpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGEuaGFzT3duUHJvcGVydHkpZm9yKGMgaW4gYSlhLmhhc093blByb3BlcnR5KGMpJiZcbmIuY2FsbChkLGFbY10sYyxhKTtlbHNlIGZvcihjIGluIGEpdWEuY2FsbChhLGMpJiZiLmNhbGwoZCxhW2NdLGMsYSk7cmV0dXJuIGF9ZnVuY3Rpb24gdGMoYSxiLGQpe2Zvcih2YXIgYz1PYmplY3Qua2V5cyhhKS5zb3J0KCksZT0wO2U8Yy5sZW5ndGg7ZSsrKWIuY2FsbChkLGFbY1tlXV0sY1tlXSk7cmV0dXJuIGN9ZnVuY3Rpb24gdWMoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsZCl7YShkLGIpfX1mdW5jdGlvbiBZZCgpe3JldHVybisrcGJ9ZnVuY3Rpb24gUGIoYSxiLGQpe2Zvcih2YXIgYz1hLiQkaGFzaEtleSxlPTAsZj1iLmxlbmd0aDtlPGY7KytlKXt2YXIgZz1iW2VdO2lmKEQoZyl8fHooZykpZm9yKHZhciBoPU9iamVjdC5rZXlzKGcpLGs9MCxsPWgubGVuZ3RoO2s8bDtrKyspe3ZhciBtPWhba10sbj1nW21dO2QmJkQobik/ZGEobik/YVttXT1uZXcgRGF0ZShuLnZhbHVlT2YoKSk6V2Eobik/YVttXT1uZXcgUmVnRXhwKG4pOm4ubm9kZU5hbWU/YVttXT1uLmNsb25lTm9kZSghMCk6XG5RYihuKT9hW21dPW4uY2xvbmUoKTooRChhW21dKXx8KGFbbV09TChuKT9bXTp7fSksUGIoYVttXSxbbl0sITApKTphW21dPW59fWM/YS4kJGhhc2hLZXk9YzpkZWxldGUgYS4kJGhhc2hLZXk7cmV0dXJuIGF9ZnVuY3Rpb24gUyhhKXtyZXR1cm4gUGIoYSx2YS5jYWxsKGFyZ3VtZW50cywxKSwhMSl9ZnVuY3Rpb24gWmQoYSl7cmV0dXJuIFBiKGEsdmEuY2FsbChhcmd1bWVudHMsMSksITApfWZ1bmN0aW9uIFooYSl7cmV0dXJuIHBhcnNlSW50KGEsMTApfWZ1bmN0aW9uIFJiKGEsYil7cmV0dXJuIFMoT2JqZWN0LmNyZWF0ZShhKSxiKX1mdW5jdGlvbiBBKCl7fWZ1bmN0aW9uIFhhKGEpe3JldHVybiBhfWZ1bmN0aW9uIGhhKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhfX1mdW5jdGlvbiB2YyhhKXtyZXR1cm4geihhLnRvU3RyaW5nKSYmYS50b1N0cmluZyE9PW1hfWZ1bmN0aW9uIHkoYSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhfWZ1bmN0aW9uIHcoYSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9PVxudHlwZW9mIGF9ZnVuY3Rpb24gRChhKXtyZXR1cm4gbnVsbCE9PWEmJlwib2JqZWN0XCI9PT10eXBlb2YgYX1mdW5jdGlvbiBzYyhhKXtyZXR1cm4gbnVsbCE9PWEmJlwib2JqZWN0XCI9PT10eXBlb2YgYSYmIXdjKGEpfWZ1bmN0aW9uIEcoYSl7cmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiBhfWZ1bmN0aW9uIFQoYSl7cmV0dXJuXCJudW1iZXJcIj09PXR5cGVvZiBhfWZ1bmN0aW9uIGRhKGEpe3JldHVyblwiW29iamVjdCBEYXRlXVwiPT09bWEuY2FsbChhKX1mdW5jdGlvbiB6KGEpe3JldHVyblwiZnVuY3Rpb25cIj09PXR5cGVvZiBhfWZ1bmN0aW9uIFdhKGEpe3JldHVyblwiW29iamVjdCBSZWdFeHBdXCI9PT1tYS5jYWxsKGEpfWZ1bmN0aW9uIFZhKGEpe3JldHVybiBhJiZhLndpbmRvdz09PWF9ZnVuY3Rpb24gWWEoYSl7cmV0dXJuIGEmJmEuJGV2YWxBc3luYyYmYS4kd2F0Y2h9ZnVuY3Rpb24gR2EoYSl7cmV0dXJuXCJib29sZWFuXCI9PT10eXBlb2YgYX1mdW5jdGlvbiAkZChhKXtyZXR1cm4gYSYmVChhLmxlbmd0aCkmJlxuYWUudGVzdChtYS5jYWxsKGEpKX1mdW5jdGlvbiBRYihhKXtyZXR1cm4hKCFhfHwhKGEubm9kZU5hbWV8fGEucHJvcCYmYS5hdHRyJiZhLmZpbmQpKX1mdW5jdGlvbiBiZShhKXt2YXIgYj17fTthPWEuc3BsaXQoXCIsXCIpO3ZhciBkO2ZvcihkPTA7ZDxhLmxlbmd0aDtkKyspYlthW2RdXT0hMDtyZXR1cm4gYn1mdW5jdGlvbiB3YShhKXtyZXR1cm4gUShhLm5vZGVOYW1lfHxhWzBdJiZhWzBdLm5vZGVOYW1lKX1mdW5jdGlvbiBaYShhLGIpe3ZhciBkPWEuaW5kZXhPZihiKTswPD1kJiZhLnNwbGljZShkLDEpO3JldHVybiBkfWZ1bmN0aW9uIHBhKGEsYil7ZnVuY3Rpb24gZChhLGIpe3ZhciBkPWIuJCRoYXNoS2V5LGU7aWYoTChhKSl7ZT0wO2Zvcih2YXIgZj1hLmxlbmd0aDtlPGY7ZSsrKWIucHVzaChjKGFbZV0pKX1lbHNlIGlmKHNjKGEpKWZvcihlIGluIGEpYltlXT1jKGFbZV0pO2Vsc2UgaWYoYSYmXCJmdW5jdGlvblwiPT09dHlwZW9mIGEuaGFzT3duUHJvcGVydHkpZm9yKGUgaW4gYSlhLmhhc093blByb3BlcnR5KGUpJiZcbihiW2VdPWMoYVtlXSkpO2Vsc2UgZm9yKGUgaW4gYSl1YS5jYWxsKGEsZSkmJihiW2VdPWMoYVtlXSkpO2Q/Yi4kJGhhc2hLZXk9ZDpkZWxldGUgYi4kJGhhc2hLZXk7cmV0dXJuIGJ9ZnVuY3Rpb24gYyhhKXtpZighRChhKSlyZXR1cm4gYTt2YXIgYj1mLmluZGV4T2YoYSk7aWYoLTEhPT1iKXJldHVybiBnW2JdO2lmKFZhKGEpfHxZYShhKSl0aHJvdyB4YShcImNwd3NcIik7dmFyIGI9ITEsYz1lKGEpO3ZvaWQgMD09PWMmJihjPUwoYSk/W106T2JqZWN0LmNyZWF0ZSh3YyhhKSksYj0hMCk7Zi5wdXNoKGEpO2cucHVzaChjKTtyZXR1cm4gYj9kKGEsYyk6Y31mdW5jdGlvbiBlKGEpe3N3aXRjaChtYS5jYWxsKGEpKXtjYXNlIFwiW29iamVjdCBJbnQ4QXJyYXldXCI6Y2FzZSBcIltvYmplY3QgSW50MTZBcnJheV1cIjpjYXNlIFwiW29iamVjdCBJbnQzMkFycmF5XVwiOmNhc2UgXCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIjpjYXNlIFwiW29iamVjdCBGbG9hdDY0QXJyYXldXCI6Y2FzZSBcIltvYmplY3QgVWludDhBcnJheV1cIjpjYXNlIFwiW29iamVjdCBVaW50OENsYW1wZWRBcnJheV1cIjpjYXNlIFwiW29iamVjdCBVaW50MTZBcnJheV1cIjpjYXNlIFwiW29iamVjdCBVaW50MzJBcnJheV1cIjpyZXR1cm4gbmV3IGEuY29uc3RydWN0b3IoYyhhLmJ1ZmZlciksXG5hLmJ5dGVPZmZzZXQsYS5sZW5ndGgpO2Nhc2UgXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiOmlmKCFhLnNsaWNlKXt2YXIgYj1uZXcgQXJyYXlCdWZmZXIoYS5ieXRlTGVuZ3RoKTsobmV3IFVpbnQ4QXJyYXkoYikpLnNldChuZXcgVWludDhBcnJheShhKSk7cmV0dXJuIGJ9cmV0dXJuIGEuc2xpY2UoMCk7Y2FzZSBcIltvYmplY3QgQm9vbGVhbl1cIjpjYXNlIFwiW29iamVjdCBOdW1iZXJdXCI6Y2FzZSBcIltvYmplY3QgU3RyaW5nXVwiOmNhc2UgXCJbb2JqZWN0IERhdGVdXCI6cmV0dXJuIG5ldyBhLmNvbnN0cnVjdG9yKGEudmFsdWVPZigpKTtjYXNlIFwiW29iamVjdCBSZWdFeHBdXCI6cmV0dXJuIGI9bmV3IFJlZ0V4cChhLnNvdXJjZSxhLnRvU3RyaW5nKCkubWF0Y2goL1teXFwvXSokLylbMF0pLGIubGFzdEluZGV4PWEubGFzdEluZGV4LGI7Y2FzZSBcIltvYmplY3QgQmxvYl1cIjpyZXR1cm4gbmV3IGEuY29uc3RydWN0b3IoW2FdLHt0eXBlOmEudHlwZX0pfWlmKHooYS5jbG9uZU5vZGUpKXJldHVybiBhLmNsb25lTm9kZSghMCl9XG52YXIgZj1bXSxnPVtdO2lmKGIpe2lmKCRkKGIpfHxcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI9PT1tYS5jYWxsKGIpKXRocm93IHhhKFwiY3B0YVwiKTtpZihhPT09Yil0aHJvdyB4YShcImNwaVwiKTtMKGIpP2IubGVuZ3RoPTA6cShiLGZ1bmN0aW9uKGEsZCl7XCIkJGhhc2hLZXlcIiE9PWQmJmRlbGV0ZSBiW2RdfSk7Zi5wdXNoKGEpO2cucHVzaChiKTtyZXR1cm4gZChhLGIpfXJldHVybiBjKGEpfWZ1bmN0aW9uIG5hKGEsYil7aWYoYT09PWIpcmV0dXJuITA7aWYobnVsbD09PWF8fG51bGw9PT1iKXJldHVybiExO2lmKGEhPT1hJiZiIT09YilyZXR1cm4hMDt2YXIgZD10eXBlb2YgYSxjO2lmKGQ9PXR5cGVvZiBiJiZcIm9iamVjdFwiPT1kKWlmKEwoYSkpe2lmKCFMKGIpKXJldHVybiExO2lmKChkPWEubGVuZ3RoKT09Yi5sZW5ndGgpe2ZvcihjPTA7YzxkO2MrKylpZighbmEoYVtjXSxiW2NdKSlyZXR1cm4hMTtyZXR1cm4hMH19ZWxzZXtpZihkYShhKSlyZXR1cm4gZGEoYik/bmEoYS5nZXRUaW1lKCksXG5iLmdldFRpbWUoKSk6ITE7aWYoV2EoYSkpcmV0dXJuIFdhKGIpP2EudG9TdHJpbmcoKT09Yi50b1N0cmluZygpOiExO2lmKFlhKGEpfHxZYShiKXx8VmEoYSl8fFZhKGIpfHxMKGIpfHxkYShiKXx8V2EoYikpcmV0dXJuITE7ZD1VKCk7Zm9yKGMgaW4gYSlpZihcIiRcIiE9PWMuY2hhckF0KDApJiYheihhW2NdKSl7aWYoIW5hKGFbY10sYltjXSkpcmV0dXJuITE7ZFtjXT0hMH1mb3IoYyBpbiBiKWlmKCEoYyBpbiBkKSYmXCIkXCIhPT1jLmNoYXJBdCgwKSYmdyhiW2NdKSYmIXooYltjXSkpcmV0dXJuITE7cmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gJGEoYSxiLGQpe3JldHVybiBhLmNvbmNhdCh2YS5jYWxsKGIsZCkpfWZ1bmN0aW9uIGFiKGEsYil7dmFyIGQ9Mjxhcmd1bWVudHMubGVuZ3RoP3ZhLmNhbGwoYXJndW1lbnRzLDIpOltdO3JldHVybiF6KGIpfHxiIGluc3RhbmNlb2YgUmVnRXhwP2I6ZC5sZW5ndGg/ZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD9iLmFwcGx5KGEsXG4kYShkLGFyZ3VtZW50cywwKSk6Yi5hcHBseShhLGQpfTpmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2IuYXBwbHkoYSxhcmd1bWVudHMpOmIuY2FsbChhKX19ZnVuY3Rpb24gY2UoYSxiKXt2YXIgZD1iO1wic3RyaW5nXCI9PT10eXBlb2YgYSYmXCIkXCI9PT1hLmNoYXJBdCgwKSYmXCIkXCI9PT1hLmNoYXJBdCgxKT9kPXZvaWQgMDpWYShiKT9kPVwiJFdJTkRPV1wiOmImJkMuZG9jdW1lbnQ9PT1iP2Q9XCIkRE9DVU1FTlRcIjpZYShiKSYmKGQ9XCIkU0NPUEVcIik7cmV0dXJuIGR9ZnVuY3Rpb24gYmIoYSxiKXtpZigheShhKSlyZXR1cm4gVChiKXx8KGI9Yj8yOm51bGwpLEpTT04uc3RyaW5naWZ5KGEsY2UsYil9ZnVuY3Rpb24geGMoYSl7cmV0dXJuIEcoYSk/SlNPTi5wYXJzZShhKTphfWZ1bmN0aW9uIHljKGEsYil7YT1hLnJlcGxhY2UoZGUsXCJcIik7dmFyIGQ9RGF0ZS5wYXJzZShcIkphbiAwMSwgMTk3MCAwMDowMDowMCBcIithKS82RTQ7cmV0dXJuIGlzTmFOKGQpP2I6ZH1mdW5jdGlvbiBTYihhLFxuYixkKXtkPWQ/LTE6MTt2YXIgYz1hLmdldFRpbWV6b25lT2Zmc2V0KCk7Yj15YyhiLGMpO2QqPWItYzthPW5ldyBEYXRlKGEuZ2V0VGltZSgpKTthLnNldE1pbnV0ZXMoYS5nZXRNaW51dGVzKCkrZCk7cmV0dXJuIGF9ZnVuY3Rpb24geWEoYSl7YT1GKGEpLmNsb25lKCk7dHJ5e2EuZW1wdHkoKX1jYXRjaChiKXt9dmFyIGQ9RihcIjxkaXY+XCIpLmFwcGVuZChhKS5odG1sKCk7dHJ5e3JldHVybiBhWzBdLm5vZGVUeXBlPT09TWE/UShkKTpkLm1hdGNoKC9eKDxbXj5dKz4pLylbMV0ucmVwbGFjZSgvXjwoW1xcd1xcLV0rKS8sZnVuY3Rpb24oYSxiKXtyZXR1cm5cIjxcIitRKGIpfSl9Y2F0Y2goYyl7cmV0dXJuIFEoZCl9fWZ1bmN0aW9uIHpjKGEpe3RyeXtyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGEpfWNhdGNoKGIpe319ZnVuY3Rpb24gQWMoYSl7dmFyIGI9e307cSgoYXx8XCJcIikuc3BsaXQoXCImXCIpLGZ1bmN0aW9uKGEpe3ZhciBjLGUsZjthJiYoZT1hPWEucmVwbGFjZSgvXFwrL2csXCIlMjBcIiksXG5jPWEuaW5kZXhPZihcIj1cIiksLTEhPT1jJiYoZT1hLnN1YnN0cmluZygwLGMpLGY9YS5zdWJzdHJpbmcoYysxKSksZT16YyhlKSx3KGUpJiYoZj13KGYpP3pjKGYpOiEwLHVhLmNhbGwoYixlKT9MKGJbZV0pP2JbZV0ucHVzaChmKTpiW2VdPVtiW2VdLGZdOmJbZV09ZikpfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gVGIoYSl7dmFyIGI9W107cShhLGZ1bmN0aW9uKGEsYyl7TChhKT9xKGEsZnVuY3Rpb24oYSl7Yi5wdXNoKGVhKGMsITApKyghMD09PWE/XCJcIjpcIj1cIitlYShhLCEwKSkpfSk6Yi5wdXNoKGVhKGMsITApKyghMD09PWE/XCJcIjpcIj1cIitlYShhLCEwKSkpfSk7cmV0dXJuIGIubGVuZ3RoP2Iuam9pbihcIiZcIik6XCJcIn1mdW5jdGlvbiBxYihhKXtyZXR1cm4gZWEoYSwhMCkucmVwbGFjZSgvJTI2L2dpLFwiJlwiKS5yZXBsYWNlKC8lM0QvZ2ksXCI9XCIpLnJlcGxhY2UoLyUyQi9naSxcIitcIil9ZnVuY3Rpb24gZWEoYSxiKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGEpLnJlcGxhY2UoLyU0MC9naSxcblwiQFwiKS5yZXBsYWNlKC8lM0EvZ2ksXCI6XCIpLnJlcGxhY2UoLyUyNC9nLFwiJFwiKS5yZXBsYWNlKC8lMkMvZ2ksXCIsXCIpLnJlcGxhY2UoLyUzQi9naSxcIjtcIikucmVwbGFjZSgvJTIwL2csYj9cIiUyMFwiOlwiK1wiKX1mdW5jdGlvbiBlZShhLGIpe3ZhciBkLGMsZT1OYS5sZW5ndGg7Zm9yKGM9MDtjPGU7KytjKWlmKGQ9TmFbY10rYixHKGQ9YS5nZXRBdHRyaWJ1dGUoZCkpKXJldHVybiBkO3JldHVybiBudWxsfWZ1bmN0aW9uIGZlKGEsYil7dmFyIGQsYyxlPXt9O3EoTmEsZnVuY3Rpb24oYil7Yis9XCJhcHBcIjshZCYmYS5oYXNBdHRyaWJ1dGUmJmEuaGFzQXR0cmlidXRlKGIpJiYoZD1hLGM9YS5nZXRBdHRyaWJ1dGUoYikpfSk7cShOYSxmdW5jdGlvbihiKXtiKz1cImFwcFwiO3ZhciBlOyFkJiYoZT1hLnF1ZXJ5U2VsZWN0b3IoXCJbXCIrYi5yZXBsYWNlKFwiOlwiLFwiXFxcXDpcIikrXCJdXCIpKSYmKGQ9ZSxjPWUuZ2V0QXR0cmlidXRlKGIpKX0pO2QmJihlLnN0cmljdERpPW51bGwhPT1lZShkLFwic3RyaWN0LWRpXCIpLFxuYihkLGM/W2NdOltdLGUpKX1mdW5jdGlvbiBCYyhhLGIsZCl7RChkKXx8KGQ9e30pO2Q9Uyh7c3RyaWN0RGk6ITF9LGQpO3ZhciBjPWZ1bmN0aW9uKCl7YT1GKGEpO2lmKGEuaW5qZWN0b3IoKSl7dmFyIGM9YVswXT09PUMuZG9jdW1lbnQ/XCJkb2N1bWVudFwiOnlhKGEpO3Rocm93IHhhKFwiYnRzdHJwZFwiLGMucmVwbGFjZSgvPC8sXCImbHQ7XCIpLnJlcGxhY2UoLz4vLFwiJmd0O1wiKSk7fWI9Ynx8W107Yi51bnNoaWZ0KFtcIiRwcm92aWRlXCIsZnVuY3Rpb24oYil7Yi52YWx1ZShcIiRyb290RWxlbWVudFwiLGEpfV0pO2QuZGVidWdJbmZvRW5hYmxlZCYmYi5wdXNoKFtcIiRjb21waWxlUHJvdmlkZXJcIixmdW5jdGlvbihhKXthLmRlYnVnSW5mb0VuYWJsZWQoITApfV0pO2IudW5zaGlmdChcIm5nXCIpO2M9Y2IoYixkLnN0cmljdERpKTtjLmludm9rZShbXCIkcm9vdFNjb3BlXCIsXCIkcm9vdEVsZW1lbnRcIixcIiRjb21waWxlXCIsXCIkaW5qZWN0b3JcIixmdW5jdGlvbihhLGIsYyxkKXthLiRhcHBseShmdW5jdGlvbigpe2IuZGF0YShcIiRpbmplY3RvclwiLFxuZCk7YyhiKShhKX0pfV0pO3JldHVybiBjfSxlPS9eTkdfRU5BQkxFX0RFQlVHX0lORk8hLyxmPS9eTkdfREVGRVJfQk9PVFNUUkFQIS87QyYmZS50ZXN0KEMubmFtZSkmJihkLmRlYnVnSW5mb0VuYWJsZWQ9ITAsQy5uYW1lPUMubmFtZS5yZXBsYWNlKGUsXCJcIikpO2lmKEMmJiFmLnRlc3QoQy5uYW1lKSlyZXR1cm4gYygpO0MubmFtZT1DLm5hbWUucmVwbGFjZShmLFwiXCIpO2NhLnJlc3VtZUJvb3RzdHJhcD1mdW5jdGlvbihhKXtxKGEsZnVuY3Rpb24oYSl7Yi5wdXNoKGEpfSk7cmV0dXJuIGMoKX07eihjYS5yZXN1bWVEZWZlcnJlZEJvb3RzdHJhcCkmJmNhLnJlc3VtZURlZmVycmVkQm9vdHN0cmFwKCl9ZnVuY3Rpb24gZ2UoKXtDLm5hbWU9XCJOR19FTkFCTEVfREVCVUdfSU5GTyFcIitDLm5hbWU7Qy5sb2NhdGlvbi5yZWxvYWQoKX1mdW5jdGlvbiBoZShhKXthPWNhLmVsZW1lbnQoYSkuaW5qZWN0b3IoKTtpZighYSl0aHJvdyB4YShcInRlc3RcIik7cmV0dXJuIGEuZ2V0KFwiJCR0ZXN0YWJpbGl0eVwiKX1cbmZ1bmN0aW9uIENjKGEsYil7Yj1ifHxcIl9cIjtyZXR1cm4gYS5yZXBsYWNlKGllLGZ1bmN0aW9uKGEsYyl7cmV0dXJuKGM/YjpcIlwiKSthLnRvTG93ZXJDYXNlKCl9KX1mdW5jdGlvbiBqZSgpe3ZhciBhO2lmKCFEYyl7dmFyIGI9cmIoKTsocWE9eShiKT9DLmpRdWVyeTpiP0NbYl06dm9pZCAwKSYmcWEuZm4ub24/KEY9cWEsUyhxYS5mbix7c2NvcGU6T2Euc2NvcGUsaXNvbGF0ZVNjb3BlOk9hLmlzb2xhdGVTY29wZSxjb250cm9sbGVyOk9hLmNvbnRyb2xsZXIsaW5qZWN0b3I6T2EuaW5qZWN0b3IsaW5oZXJpdGVkRGF0YTpPYS5pbmhlcml0ZWREYXRhfSksYT1xYS5jbGVhbkRhdGEscWEuY2xlYW5EYXRhPWZ1bmN0aW9uKGIpe2Zvcih2YXIgYyxlPTAsZjtudWxsIT0oZj1iW2VdKTtlKyspKGM9cWEuX2RhdGEoZixcImV2ZW50c1wiKSkmJmMuJGRlc3Ryb3kmJnFhKGYpLnRyaWdnZXJIYW5kbGVyKFwiJGRlc3Ryb3lcIik7YShiKX0pOkY9TztjYS5lbGVtZW50PUY7RGM9ITB9fWZ1bmN0aW9uIHNiKGEsXG5iLGQpe2lmKCFhKXRocm93IHhhKFwiYXJlcVwiLGJ8fFwiP1wiLGR8fFwicmVxdWlyZWRcIik7cmV0dXJuIGF9ZnVuY3Rpb24gUGEoYSxiLGQpe2QmJkwoYSkmJihhPWFbYS5sZW5ndGgtMV0pO3NiKHooYSksYixcIm5vdCBhIGZ1bmN0aW9uLCBnb3QgXCIrKGEmJlwib2JqZWN0XCI9PT10eXBlb2YgYT9hLmNvbnN0cnVjdG9yLm5hbWV8fFwiT2JqZWN0XCI6dHlwZW9mIGEpKTtyZXR1cm4gYX1mdW5jdGlvbiBRYShhLGIpe2lmKFwiaGFzT3duUHJvcGVydHlcIj09PWEpdGhyb3cgeGEoXCJiYWRuYW1lXCIsYik7fWZ1bmN0aW9uIEVjKGEsYixkKXtpZighYilyZXR1cm4gYTtiPWIuc3BsaXQoXCIuXCIpO2Zvcih2YXIgYyxlPWEsZj1iLmxlbmd0aCxnPTA7ZzxmO2crKyljPWJbZ10sYSYmKGE9KGU9YSlbY10pO3JldHVybiFkJiZ6KGEpP2FiKGUsYSk6YX1mdW5jdGlvbiB0YihhKXtmb3IodmFyIGI9YVswXSxkPWFbYS5sZW5ndGgtMV0sYyxlPTE7YiE9PWQmJihiPWIubmV4dFNpYmxpbmcpO2UrKylpZihjfHxhW2VdIT09XG5iKWN8fChjPUYodmEuY2FsbChhLDAsZSkpKSxjLnB1c2goYik7cmV0dXJuIGN8fGF9ZnVuY3Rpb24gVSgpe3JldHVybiBPYmplY3QuY3JlYXRlKG51bGwpfWZ1bmN0aW9uIGtlKGEpe2Z1bmN0aW9uIGIoYSxiLGMpe3JldHVybiBhW2JdfHwoYVtiXT1jKCkpfXZhciBkPU4oXCIkaW5qZWN0b3JcIiksYz1OKFwibmdcIik7YT1iKGEsXCJhbmd1bGFyXCIsT2JqZWN0KTthLiQkbWluRXJyPWEuJCRtaW5FcnJ8fE47cmV0dXJuIGIoYSxcIm1vZHVsZVwiLGZ1bmN0aW9uKCl7dmFyIGE9e307cmV0dXJuIGZ1bmN0aW9uKGYsZyxoKXtpZihcImhhc093blByb3BlcnR5XCI9PT1mKXRocm93IGMoXCJiYWRuYW1lXCIsXCJtb2R1bGVcIik7ZyYmYS5oYXNPd25Qcm9wZXJ0eShmKSYmKGFbZl09bnVsbCk7cmV0dXJuIGIoYSxmLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGQsZSxmKXtmfHwoZj1jKTtyZXR1cm4gZnVuY3Rpb24oKXtmW2V8fFwicHVzaFwiXShbYixkLGFyZ3VtZW50c10pO3JldHVybiBSfX1mdW5jdGlvbiBiKGEsXG5kKXtyZXR1cm4gZnVuY3Rpb24oYixlKXtlJiZ6KGUpJiYoZS4kJG1vZHVsZU5hbWU9Zik7Yy5wdXNoKFthLGQsYXJndW1lbnRzXSk7cmV0dXJuIFJ9fWlmKCFnKXRocm93IGQoXCJub21vZFwiLGYpO3ZhciBjPVtdLGU9W10scD1bXSx1PWEoXCIkaW5qZWN0b3JcIixcImludm9rZVwiLFwicHVzaFwiLGUpLFI9e19pbnZva2VRdWV1ZTpjLF9jb25maWdCbG9ja3M6ZSxfcnVuQmxvY2tzOnAscmVxdWlyZXM6ZyxuYW1lOmYscHJvdmlkZXI6YihcIiRwcm92aWRlXCIsXCJwcm92aWRlclwiKSxmYWN0b3J5OmIoXCIkcHJvdmlkZVwiLFwiZmFjdG9yeVwiKSxzZXJ2aWNlOmIoXCIkcHJvdmlkZVwiLFwic2VydmljZVwiKSx2YWx1ZTphKFwiJHByb3ZpZGVcIixcInZhbHVlXCIpLGNvbnN0YW50OmEoXCIkcHJvdmlkZVwiLFwiY29uc3RhbnRcIixcInVuc2hpZnRcIiksZGVjb3JhdG9yOmIoXCIkcHJvdmlkZVwiLFwiZGVjb3JhdG9yXCIpLGFuaW1hdGlvbjpiKFwiJGFuaW1hdGVQcm92aWRlclwiLFwicmVnaXN0ZXJcIiksZmlsdGVyOmIoXCIkZmlsdGVyUHJvdmlkZXJcIixcblwicmVnaXN0ZXJcIiksY29udHJvbGxlcjpiKFwiJGNvbnRyb2xsZXJQcm92aWRlclwiLFwicmVnaXN0ZXJcIiksZGlyZWN0aXZlOmIoXCIkY29tcGlsZVByb3ZpZGVyXCIsXCJkaXJlY3RpdmVcIiksY29tcG9uZW50OmIoXCIkY29tcGlsZVByb3ZpZGVyXCIsXCJjb21wb25lbnRcIiksY29uZmlnOnUscnVuOmZ1bmN0aW9uKGEpe3AucHVzaChhKTtyZXR1cm4gdGhpc319O2gmJnUoaCk7cmV0dXJuIFJ9KX19KX1mdW5jdGlvbiBpYShhLGIpe2lmKEwoYSkpe2I9Ynx8W107Zm9yKHZhciBkPTAsYz1hLmxlbmd0aDtkPGM7ZCsrKWJbZF09YVtkXX1lbHNlIGlmKEQoYSkpZm9yKGQgaW4gYj1ifHx7fSxhKWlmKFwiJFwiIT09ZC5jaGFyQXQoMCl8fFwiJFwiIT09ZC5jaGFyQXQoMSkpYltkXT1hW2RdO3JldHVybiBifHxhfWZ1bmN0aW9uIGxlKGEpe1MoYSx7Ym9vdHN0cmFwOkJjLGNvcHk6cGEsZXh0ZW5kOlMsbWVyZ2U6WmQsZXF1YWxzOm5hLGVsZW1lbnQ6Rixmb3JFYWNoOnEsaW5qZWN0b3I6Y2Isbm9vcDpBLGJpbmQ6YWIsXG50b0pzb246YmIsZnJvbUpzb246eGMsaWRlbnRpdHk6WGEsaXNVbmRlZmluZWQ6eSxpc0RlZmluZWQ6dyxpc1N0cmluZzpHLGlzRnVuY3Rpb246eixpc09iamVjdDpELGlzTnVtYmVyOlQsaXNFbGVtZW50OlFiLGlzQXJyYXk6TCx2ZXJzaW9uOm1lLGlzRGF0ZTpkYSxsb3dlcmNhc2U6USx1cHBlcmNhc2U6dWIsY2FsbGJhY2tzOnskJGNvdW50ZXI6MH0sZ2V0VGVzdGFiaWxpdHk6aGUsJCRtaW5FcnI6TiwkJGNzcDpCYSxyZWxvYWRXaXRoRGVidWdJbmZvOmdlfSk7VWI9a2UoQyk7VWIoXCJuZ1wiLFtcIm5nTG9jYWxlXCJdLFtcIiRwcm92aWRlXCIsZnVuY3Rpb24oYSl7YS5wcm92aWRlcih7JCRzYW5pdGl6ZVVyaTpuZX0pO2EucHJvdmlkZXIoXCIkY29tcGlsZVwiLEZjKS5kaXJlY3RpdmUoe2E6b2UsaW5wdXQ6R2MsdGV4dGFyZWE6R2MsZm9ybTpwZSxzY3JpcHQ6cWUsc2VsZWN0OnJlLHN0eWxlOnNlLG9wdGlvbjp0ZSxuZ0JpbmQ6dWUsbmdCaW5kSHRtbDp2ZSxuZ0JpbmRUZW1wbGF0ZTp3ZSxuZ0NsYXNzOnhlLFxubmdDbGFzc0V2ZW46eWUsbmdDbGFzc09kZDp6ZSxuZ0Nsb2FrOkFlLG5nQ29udHJvbGxlcjpCZSxuZ0Zvcm06Q2UsbmdIaWRlOkRlLG5nSWY6RWUsbmdJbmNsdWRlOkZlLG5nSW5pdDpHZSxuZ05vbkJpbmRhYmxlOkhlLG5nUGx1cmFsaXplOkllLG5nUmVwZWF0OkplLG5nU2hvdzpLZSxuZ1N0eWxlOkxlLG5nU3dpdGNoOk1lLG5nU3dpdGNoV2hlbjpOZSxuZ1N3aXRjaERlZmF1bHQ6T2UsbmdPcHRpb25zOlBlLG5nVHJhbnNjbHVkZTpRZSxuZ01vZGVsOlJlLG5nTGlzdDpTZSxuZ0NoYW5nZTpUZSxwYXR0ZXJuOkhjLG5nUGF0dGVybjpIYyxyZXF1aXJlZDpJYyxuZ1JlcXVpcmVkOkljLG1pbmxlbmd0aDpKYyxuZ01pbmxlbmd0aDpKYyxtYXhsZW5ndGg6S2MsbmdNYXhsZW5ndGg6S2MsbmdWYWx1ZTpVZSxuZ01vZGVsT3B0aW9uczpWZX0pLmRpcmVjdGl2ZSh7bmdJbmNsdWRlOldlfSkuZGlyZWN0aXZlKHZiKS5kaXJlY3RpdmUoTGMpO2EucHJvdmlkZXIoeyRhbmNob3JTY3JvbGw6WGUsXG4kYW5pbWF0ZTpZZSwkYW5pbWF0ZUNzczpaZSwkJGFuaW1hdGVKczokZSwkJGFuaW1hdGVRdWV1ZTphZiwkJEFuaW1hdGVSdW5uZXI6YmYsJCRhbmltYXRlQXN5bmNSdW46Y2YsJGJyb3dzZXI6ZGYsJGNhY2hlRmFjdG9yeTplZiwkY29udHJvbGxlcjpmZiwkZG9jdW1lbnQ6Z2YsJGV4Y2VwdGlvbkhhbmRsZXI6aGYsJGZpbHRlcjpNYywkJGZvcmNlUmVmbG93OmpmLCRpbnRlcnBvbGF0ZTprZiwkaW50ZXJ2YWw6bGYsJGh0dHA6bWYsJGh0dHBQYXJhbVNlcmlhbGl6ZXI6bmYsJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2U6b2YsJGh0dHBCYWNrZW5kOnBmLCR4aHJGYWN0b3J5OnFmLCRqc29ucENhbGxiYWNrczpyZiwkbG9jYXRpb246c2YsJGxvZzp0ZiwkcGFyc2U6dWYsJHJvb3RTY29wZTp2ZiwkcTp3ZiwkJHE6eGYsJHNjZTp5Ziwkc2NlRGVsZWdhdGU6emYsJHNuaWZmZXI6QWYsJHRlbXBsYXRlQ2FjaGU6QmYsJHRlbXBsYXRlUmVxdWVzdDpDZiwkJHRlc3RhYmlsaXR5OkRmLCR0aW1lb3V0OkVmLFxuJHdpbmRvdzpGZiwkJHJBRjpHZiwkJGpxTGl0ZTpIZiwkJEhhc2hNYXA6SWYsJCRjb29raWVSZWFkZXI6SmZ9KX1dKX1mdW5jdGlvbiBkYihhKXtyZXR1cm4gYS5yZXBsYWNlKEtmLGZ1bmN0aW9uKGEsZCxjLGUpe3JldHVybiBlP2MudG9VcHBlckNhc2UoKTpjfSkucmVwbGFjZShMZixcIk1veiQxXCIpfWZ1bmN0aW9uIE5jKGEpe2E9YS5ub2RlVHlwZTtyZXR1cm4gMT09PWF8fCFhfHw5PT09YX1mdW5jdGlvbiBPYyhhLGIpe3ZhciBkLGMsZT1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxmPVtdO2lmKFZiLnRlc3QoYSkpe2Q9ZS5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO2M9KE1mLmV4ZWMoYSl8fFtcIlwiLFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpO2M9amFbY118fGphLl9kZWZhdWx0O2QuaW5uZXJIVE1MPWNbMV0rYS5yZXBsYWNlKE5mLFwiPCQxPjwvJDI+XCIpK2NbMl07Zm9yKGM9Y1swXTtjLS07KWQ9ZC5sYXN0Q2hpbGQ7Zj0kYShmLGQuY2hpbGROb2Rlcyk7ZD1lLmZpcnN0Q2hpbGQ7XG5kLnRleHRDb250ZW50PVwiXCJ9ZWxzZSBmLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShhKSk7ZS50ZXh0Q29udGVudD1cIlwiO2UuaW5uZXJIVE1MPVwiXCI7cShmLGZ1bmN0aW9uKGEpe2UuYXBwZW5kQ2hpbGQoYSl9KTtyZXR1cm4gZX1mdW5jdGlvbiBQYyhhLGIpe3ZhciBkPWEucGFyZW50Tm9kZTtkJiZkLnJlcGxhY2VDaGlsZChiLGEpO2IuYXBwZW5kQ2hpbGQoYSl9ZnVuY3Rpb24gTyhhKXtpZihhIGluc3RhbmNlb2YgTylyZXR1cm4gYTt2YXIgYjtHKGEpJiYoYT1XKGEpLGI9ITApO2lmKCEodGhpcyBpbnN0YW5jZW9mIE8pKXtpZihiJiZcIjxcIiE9YS5jaGFyQXQoMCkpdGhyb3cgV2IoXCJub3NlbFwiKTtyZXR1cm4gbmV3IE8oYSl9aWYoYil7Yj1DLmRvY3VtZW50O3ZhciBkO2E9KGQ9T2YuZXhlYyhhKSk/W2IuY3JlYXRlRWxlbWVudChkWzFdKV06KGQ9T2MoYSxiKSk/ZC5jaGlsZE5vZGVzOltdfVFjKHRoaXMsYSl9ZnVuY3Rpb24gWGIoYSl7cmV0dXJuIGEuY2xvbmVOb2RlKCEwKX1mdW5jdGlvbiB3YihhLFxuYil7Ynx8ZWIoYSk7aWYoYS5xdWVyeVNlbGVjdG9yQWxsKWZvcih2YXIgZD1hLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqXCIpLGM9MCxlPWQubGVuZ3RoO2M8ZTtjKyspZWIoZFtjXSl9ZnVuY3Rpb24gUmMoYSxiLGQsYyl7aWYodyhjKSl0aHJvdyBXYihcIm9mZmFyZ3NcIik7dmFyIGU9KGM9eGIoYSkpJiZjLmV2ZW50cyxmPWMmJmMuaGFuZGxlO2lmKGYpaWYoYil7dmFyIGc9ZnVuY3Rpb24oYil7dmFyIGM9ZVtiXTt3KGQpJiZaYShjfHxbXSxkKTt3KGQpJiZjJiYwPGMubGVuZ3RofHwoYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsZiwhMSksZGVsZXRlIGVbYl0pfTtxKGIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEpe2coYSk7eWJbYV0mJmcoeWJbYV0pfSl9ZWxzZSBmb3IoYiBpbiBlKVwiJGRlc3Ryb3lcIiE9PWImJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGYsITEpLGRlbGV0ZSBlW2JdfWZ1bmN0aW9uIGViKGEsYil7dmFyIGQ9YS5uZzMzOSxjPWQmJmZiW2RdO2MmJihiP2RlbGV0ZSBjLmRhdGFbYl06XG4oYy5oYW5kbGUmJihjLmV2ZW50cy4kZGVzdHJveSYmYy5oYW5kbGUoe30sXCIkZGVzdHJveVwiKSxSYyhhKSksZGVsZXRlIGZiW2RdLGEubmczMzk9dm9pZCAwKSl9ZnVuY3Rpb24geGIoYSxiKXt2YXIgZD1hLm5nMzM5LGQ9ZCYmZmJbZF07YiYmIWQmJihhLm5nMzM5PWQ9KytQZixkPWZiW2RdPXtldmVudHM6e30sZGF0YTp7fSxoYW5kbGU6dm9pZCAwfSk7cmV0dXJuIGR9ZnVuY3Rpb24gWWIoYSxiLGQpe2lmKE5jKGEpKXt2YXIgYz13KGQpLGU9IWMmJmImJiFEKGIpLGY9IWI7YT0oYT14YihhLCFlKSkmJmEuZGF0YTtpZihjKWFbYl09ZDtlbHNle2lmKGYpcmV0dXJuIGE7aWYoZSlyZXR1cm4gYSYmYVtiXTtTKGEsYil9fX1mdW5jdGlvbiB6YihhLGIpe3JldHVybiBhLmdldEF0dHJpYnV0ZT8tMTwoXCIgXCIrKGEuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIpK1wiIFwiKS5yZXBsYWNlKC9bXFxuXFx0XS9nLFwiIFwiKS5pbmRleE9mKFwiIFwiK2IrXCIgXCIpOiExfWZ1bmN0aW9uIEFiKGEsYil7YiYmYS5zZXRBdHRyaWJ1dGUmJlxucShiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihiKXthLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsVygoXCIgXCIrKGEuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIpK1wiIFwiKS5yZXBsYWNlKC9bXFxuXFx0XS9nLFwiIFwiKS5yZXBsYWNlKFwiIFwiK1coYikrXCIgXCIsXCIgXCIpKSl9KX1mdW5jdGlvbiBCYihhLGIpe2lmKGImJmEuc2V0QXR0cmlidXRlKXt2YXIgZD0oXCIgXCIrKGEuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIil8fFwiXCIpK1wiIFwiKS5yZXBsYWNlKC9bXFxuXFx0XS9nLFwiIFwiKTtxKGIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEpe2E9VyhhKTstMT09PWQuaW5kZXhPZihcIiBcIithK1wiIFwiKSYmKGQrPWErXCIgXCIpfSk7YS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFcoZCkpfX1mdW5jdGlvbiBRYyhhLGIpe2lmKGIpaWYoYi5ub2RlVHlwZSlhW2EubGVuZ3RoKytdPWI7ZWxzZXt2YXIgZD1iLmxlbmd0aDtpZihcIm51bWJlclwiPT09dHlwZW9mIGQmJmIud2luZG93IT09Yil7aWYoZClmb3IodmFyIGM9MDtjPGQ7YysrKWFbYS5sZW5ndGgrK109XG5iW2NdfWVsc2UgYVthLmxlbmd0aCsrXT1ifX1mdW5jdGlvbiBTYyhhLGIpe3JldHVybiBDYihhLFwiJFwiKyhifHxcIm5nQ29udHJvbGxlclwiKStcIkNvbnRyb2xsZXJcIil9ZnVuY3Rpb24gQ2IoYSxiLGQpezk9PWEubm9kZVR5cGUmJihhPWEuZG9jdW1lbnRFbGVtZW50KTtmb3IoYj1MKGIpP2I6W2JdO2E7KXtmb3IodmFyIGM9MCxlPWIubGVuZ3RoO2M8ZTtjKyspaWYodyhkPUYuZGF0YShhLGJbY10pKSlyZXR1cm4gZDthPWEucGFyZW50Tm9kZXx8MTE9PT1hLm5vZGVUeXBlJiZhLmhvc3R9fWZ1bmN0aW9uIFRjKGEpe2Zvcih3YihhLCEwKTthLmZpcnN0Q2hpbGQ7KWEucmVtb3ZlQ2hpbGQoYS5maXJzdENoaWxkKX1mdW5jdGlvbiBEYihhLGIpe2J8fHdiKGEpO3ZhciBkPWEucGFyZW50Tm9kZTtkJiZkLnJlbW92ZUNoaWxkKGEpfWZ1bmN0aW9uIFFmKGEsYil7Yj1ifHxDO2lmKFwiY29tcGxldGVcIj09PWIuZG9jdW1lbnQucmVhZHlTdGF0ZSliLnNldFRpbWVvdXQoYSk7ZWxzZSBGKGIpLm9uKFwibG9hZFwiLFxuYSl9ZnVuY3Rpb24gVWMoYSxiKXt2YXIgZD1FYltiLnRvTG93ZXJDYXNlKCldO3JldHVybiBkJiZWY1t3YShhKV0mJmR9ZnVuY3Rpb24gUmYoYSxiKXt2YXIgZD1mdW5jdGlvbihjLGQpe2MuaXNEZWZhdWx0UHJldmVudGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGMuZGVmYXVsdFByZXZlbnRlZH07dmFyIGY9YltkfHxjLnR5cGVdLGc9Zj9mLmxlbmd0aDowO2lmKGcpe2lmKHkoYy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQpKXt2YXIgaD1jLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjtjLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbj1mdW5jdGlvbigpe2MuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPSEwO2Muc3RvcFByb3BhZ2F0aW9uJiZjLnN0b3BQcm9wYWdhdGlvbigpO2gmJmguY2FsbChjKX19Yy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1mdW5jdGlvbigpe3JldHVybiEwPT09Yy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWR9O3ZhciBrPWYuc3BlY2lhbEhhbmRsZXJXcmFwcGVyfHxcblNmOzE8ZyYmKGY9aWEoZikpO2Zvcih2YXIgbD0wO2w8ZztsKyspYy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpfHxrKGEsYyxmW2xdKX19O2QuZWxlbT1hO3JldHVybiBkfWZ1bmN0aW9uIFNmKGEsYixkKXtkLmNhbGwoYSxiKX1mdW5jdGlvbiBUZihhLGIsZCl7dmFyIGM9Yi5yZWxhdGVkVGFyZ2V0O2MmJihjPT09YXx8VWYuY2FsbChhLGMpKXx8ZC5jYWxsKGEsYil9ZnVuY3Rpb24gSGYoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gUyhPLHtoYXNDbGFzczpmdW5jdGlvbihhLGIpe2EuYXR0ciYmKGE9YVswXSk7cmV0dXJuIHpiKGEsYil9LGFkZENsYXNzOmZ1bmN0aW9uKGEsYil7YS5hdHRyJiYoYT1hWzBdKTtyZXR1cm4gQmIoYSxiKX0scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSxiKXthLmF0dHImJihhPWFbMF0pO3JldHVybiBBYihhLGIpfX0pfX1mdW5jdGlvbiBDYShhLGIpe3ZhciBkPWEmJmEuJCRoYXNoS2V5O2lmKGQpcmV0dXJuXCJmdW5jdGlvblwiPT09dHlwZW9mIGQmJlxuKGQ9YS4kJGhhc2hLZXkoKSksZDtkPXR5cGVvZiBhO3JldHVybiBkPVwiZnVuY3Rpb25cIj09ZHx8XCJvYmplY3RcIj09ZCYmbnVsbCE9PWE/YS4kJGhhc2hLZXk9ZCtcIjpcIisoYnx8WWQpKCk6ZCtcIjpcIithfWZ1bmN0aW9uIFJhKGEsYil7aWYoYil7dmFyIGQ9MDt0aGlzLm5leHRVaWQ9ZnVuY3Rpb24oKXtyZXR1cm4rK2R9fXEoYSx0aGlzLnB1dCx0aGlzKX1mdW5jdGlvbiBXYyhhKXthPShGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKStcIiBcIikucmVwbGFjZShWZixcIlwiKTtyZXR1cm4gYS5tYXRjaChXZil8fGEubWF0Y2goWGYpfWZ1bmN0aW9uIFlmKGEpe3JldHVybihhPVdjKGEpKT9cImZ1bmN0aW9uKFwiKyhhWzFdfHxcIlwiKS5yZXBsYWNlKC9bXFxzXFxyXFxuXSsvLFwiIFwiKStcIilcIjpcImZuXCJ9ZnVuY3Rpb24gY2IoYSxiKXtmdW5jdGlvbiBkKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe2lmKEQoYikpcShiLHVjKGEpKTtlbHNlIHJldHVybiBhKGIsYyl9fWZ1bmN0aW9uIGMoYSxiKXtRYShhLFxuXCJzZXJ2aWNlXCIpO2lmKHooYil8fEwoYikpYj1wLmluc3RhbnRpYXRlKGIpO2lmKCFiLiRnZXQpdGhyb3cgSGEoXCJwZ2V0XCIsYSk7cmV0dXJuIG5bYStcIlByb3ZpZGVyXCJdPWJ9ZnVuY3Rpb24gZShhLGIpe3JldHVybiBmdW5jdGlvbigpe3ZhciBjPUIuaW52b2tlKGIsdGhpcyk7aWYoeShjKSl0aHJvdyBIYShcInVuZGVmXCIsYSk7cmV0dXJuIGN9fWZ1bmN0aW9uIGYoYSxiLGQpe3JldHVybiBjKGEseyRnZXQ6ITEhPT1kP2UoYSxiKTpifSl9ZnVuY3Rpb24gZyhhKXtzYih5KGEpfHxMKGEpLFwibW9kdWxlc1RvTG9hZFwiLFwibm90IGFuIGFycmF5XCIpO3ZhciBiPVtdLGM7cShhLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGQoYSl7dmFyIGIsYztiPTA7Zm9yKGM9YS5sZW5ndGg7YjxjO2IrKyl7dmFyIGU9YVtiXSxmPXAuZ2V0KGVbMF0pO2ZbZVsxXV0uYXBwbHkoZixlWzJdKX19aWYoIW0uZ2V0KGEpKXttLnB1dChhLCEwKTt0cnl7RyhhKT8oYz1VYihhKSxiPWIuY29uY2F0KGcoYy5yZXF1aXJlcykpLmNvbmNhdChjLl9ydW5CbG9ja3MpLFxuZChjLl9pbnZva2VRdWV1ZSksZChjLl9jb25maWdCbG9ja3MpKTp6KGEpP2IucHVzaChwLmludm9rZShhKSk6TChhKT9iLnB1c2gocC5pbnZva2UoYSkpOlBhKGEsXCJtb2R1bGVcIil9Y2F0Y2goZSl7dGhyb3cgTChhKSYmKGE9YVthLmxlbmd0aC0xXSksZS5tZXNzYWdlJiZlLnN0YWNrJiYtMT09ZS5zdGFjay5pbmRleE9mKGUubWVzc2FnZSkmJihlPWUubWVzc2FnZStcIlxcblwiK2Uuc3RhY2spLEhhKFwibW9kdWxlcnJcIixhLGUuc3RhY2t8fGUubWVzc2FnZXx8ZSk7fX19KTtyZXR1cm4gYn1mdW5jdGlvbiBoKGEsYyl7ZnVuY3Rpb24gZChiLGUpe2lmKGEuaGFzT3duUHJvcGVydHkoYikpe2lmKGFbYl09PT1rKXRocm93IEhhKFwiY2RlcFwiLGIrXCIgPC0gXCIrbC5qb2luKFwiIDwtIFwiKSk7cmV0dXJuIGFbYl19dHJ5e3JldHVybiBsLnVuc2hpZnQoYiksYVtiXT1rLGFbYl09YyhiLGUpfWNhdGNoKGYpe3Rocm93IGFbYl09PT1rJiZkZWxldGUgYVtiXSxmO31maW5hbGx5e2wuc2hpZnQoKX19ZnVuY3Rpb24gZShhLFxuYyxmKXt2YXIgZz1bXTthPWNiLiQkYW5ub3RhdGUoYSxiLGYpO2Zvcih2YXIgaD0wLGs9YS5sZW5ndGg7aDxrO2grKyl7dmFyIGw9YVtoXTtpZihcInN0cmluZ1wiIT09dHlwZW9mIGwpdGhyb3cgSGEoXCJpdGtuXCIsbCk7Zy5wdXNoKGMmJmMuaGFzT3duUHJvcGVydHkobCk/Y1tsXTpkKGwsZikpfXJldHVybiBnfXJldHVybntpbnZva2U6ZnVuY3Rpb24oYSxiLGMsZCl7XCJzdHJpbmdcIj09PXR5cGVvZiBjJiYoZD1jLGM9bnVsbCk7Yz1lKGEsYyxkKTtMKGEpJiYoYT1hW2EubGVuZ3RoLTFdKTtkPTExPj1FYT8hMTpcImZ1bmN0aW9uXCI9PT10eXBlb2YgYSYmL14oPzpjbGFzc1xcYnxjb25zdHJ1Y3RvclxcKCkvLnRlc3QoRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSkrXCIgXCIpO3JldHVybiBkPyhjLnVuc2hpZnQobnVsbCksbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShhLGMpKSk6YS5hcHBseShiLGMpfSxpbnN0YW50aWF0ZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9XG5MKGEpP2FbYS5sZW5ndGgtMV06YTthPWUoYSxiLGMpO2EudW5zaGlmdChudWxsKTtyZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShkLGEpKX0sZ2V0OmQsYW5ub3RhdGU6Y2IuJCRhbm5vdGF0ZSxoYXM6ZnVuY3Rpb24oYil7cmV0dXJuIG4uaGFzT3duUHJvcGVydHkoYitcIlByb3ZpZGVyXCIpfHxhLmhhc093blByb3BlcnR5KGIpfX19Yj0hMD09PWI7dmFyIGs9e30sbD1bXSxtPW5ldyBSYShbXSwhMCksbj17JHByb3ZpZGU6e3Byb3ZpZGVyOmQoYyksZmFjdG9yeTpkKGYpLHNlcnZpY2U6ZChmdW5jdGlvbihhLGIpe3JldHVybiBmKGEsW1wiJGluamVjdG9yXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5zdGFudGlhdGUoYil9XSl9KSx2YWx1ZTpkKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGYoYSxoYShiKSwhMSl9KSxjb25zdGFudDpkKGZ1bmN0aW9uKGEsYil7UWEoYSxcImNvbnN0YW50XCIpO25bYV09Yjt1W2FdPWJ9KSxkZWNvcmF0b3I6ZnVuY3Rpb24oYSxiKXt2YXIgYz1cbnAuZ2V0KGErXCJQcm92aWRlclwiKSxkPWMuJGdldDtjLiRnZXQ9ZnVuY3Rpb24oKXt2YXIgYT1CLmludm9rZShkLGMpO3JldHVybiBCLmludm9rZShiLG51bGwseyRkZWxlZ2F0ZTphfSl9fX19LHA9bi4kaW5qZWN0b3I9aChuLGZ1bmN0aW9uKGEsYil7Y2EuaXNTdHJpbmcoYikmJmwucHVzaChiKTt0aHJvdyBIYShcInVucHJcIixsLmpvaW4oXCIgPC0gXCIpKTt9KSx1PXt9LFI9aCh1LGZ1bmN0aW9uKGEsYil7dmFyIGM9cC5nZXQoYStcIlByb3ZpZGVyXCIsYik7cmV0dXJuIEIuaW52b2tlKGMuJGdldCxjLHZvaWQgMCxhKX0pLEI9UjtuLiRpbmplY3RvclByb3ZpZGVyPXskZ2V0OmhhKFIpfTt2YXIgcj1nKGEpLEI9Ui5nZXQoXCIkaW5qZWN0b3JcIik7Qi5zdHJpY3REaT1iO3EocixmdW5jdGlvbihhKXthJiZCLmludm9rZShhKX0pO3JldHVybiBCfWZ1bmN0aW9uIFhlKCl7dmFyIGE9ITA7dGhpcy5kaXNhYmxlQXV0b1Njcm9sbGluZz1mdW5jdGlvbigpe2E9ITF9O3RoaXMuJGdldD1bXCIkd2luZG93XCIsXG5cIiRsb2NhdGlvblwiLFwiJHJvb3RTY29wZVwiLGZ1bmN0aW9uKGIsZCxjKXtmdW5jdGlvbiBlKGEpe3ZhciBiPW51bGw7QXJyYXkucHJvdG90eXBlLnNvbWUuY2FsbChhLGZ1bmN0aW9uKGEpe2lmKFwiYVwiPT09d2EoYSkpcmV0dXJuIGI9YSwhMH0pO3JldHVybiBifWZ1bmN0aW9uIGYoYSl7aWYoYSl7YS5zY3JvbGxJbnRvVmlldygpO3ZhciBjO2M9Zy55T2Zmc2V0O3ooYyk/Yz1jKCk6UWIoYyk/KGM9Y1swXSxjPVwiZml4ZWRcIiE9PWIuZ2V0Q29tcHV0ZWRTdHlsZShjKS5wb3NpdGlvbj8wOmMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tKTpUKGMpfHwoYz0wKTtjJiYoYT1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCxiLnNjcm9sbEJ5KDAsYS1jKSl9ZWxzZSBiLnNjcm9sbFRvKDAsMCl9ZnVuY3Rpb24gZyhhKXthPUcoYSk/YTpkLmhhc2goKTt2YXIgYjthPyhiPWguZ2V0RWxlbWVudEJ5SWQoYSkpP2YoYik6KGI9ZShoLmdldEVsZW1lbnRzQnlOYW1lKGEpKSk/ZihiKTpcInRvcFwiPT09XG5hJiZmKG51bGwpOmYobnVsbCl9dmFyIGg9Yi5kb2N1bWVudDthJiZjLiR3YXRjaChmdW5jdGlvbigpe3JldHVybiBkLmhhc2goKX0sZnVuY3Rpb24oYSxiKXthPT09YiYmXCJcIj09PWF8fFFmKGZ1bmN0aW9uKCl7Yy4kZXZhbEFzeW5jKGcpfSl9KTtyZXR1cm4gZ31dfWZ1bmN0aW9uIGdiKGEsYil7aWYoIWEmJiFiKXJldHVyblwiXCI7aWYoIWEpcmV0dXJuIGI7aWYoIWIpcmV0dXJuIGE7TChhKSYmKGE9YS5qb2luKFwiIFwiKSk7TChiKSYmKGI9Yi5qb2luKFwiIFwiKSk7cmV0dXJuIGErXCIgXCIrYn1mdW5jdGlvbiBaZihhKXtHKGEpJiYoYT1hLnNwbGl0KFwiIFwiKSk7dmFyIGI9VSgpO3EoYSxmdW5jdGlvbihhKXthLmxlbmd0aCYmKGJbYV09ITApfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gSWEoYSl7cmV0dXJuIEQoYSk/YTp7fX1mdW5jdGlvbiAkZihhLGIsZCxjKXtmdW5jdGlvbiBlKGEpe3RyeXthLmFwcGx5KG51bGwsdmEuY2FsbChhcmd1bWVudHMsMSkpfWZpbmFsbHl7aWYoUi0tLDA9PT1SKWZvcig7Qi5sZW5ndGg7KXRyeXtCLnBvcCgpKCl9Y2F0Y2goYil7ZC5lcnJvcihiKX19fVxuZnVuY3Rpb24gZigpe3Q9bnVsbDtnKCk7aCgpfWZ1bmN0aW9uIGcoKXtyPUsoKTtyPXkocik/bnVsbDpyO25hKHIsRSkmJihyPUUpO0U9cn1mdW5jdGlvbiBoKCl7aWYodiE9PWsudXJsKCl8fEohPT1yKXY9ay51cmwoKSxKPXIscShNLGZ1bmN0aW9uKGEpe2Eoay51cmwoKSxyKX0pfXZhciBrPXRoaXMsbD1hLmxvY2F0aW9uLG09YS5oaXN0b3J5LG49YS5zZXRUaW1lb3V0LHA9YS5jbGVhclRpbWVvdXQsdT17fTtrLmlzTW9jaz0hMTt2YXIgUj0wLEI9W107ay4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0PWU7ay4kJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50PWZ1bmN0aW9uKCl7UisrfTtrLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHM9ZnVuY3Rpb24oYSl7MD09PVI/YSgpOkIucHVzaChhKX07dmFyIHIsSix2PWwuaHJlZixmYT1iLmZpbmQoXCJiYXNlXCIpLHQ9bnVsbCxLPWMuaGlzdG9yeT9mdW5jdGlvbigpe3RyeXtyZXR1cm4gbS5zdGF0ZX1jYXRjaChhKXt9fTpcbkE7ZygpO0o9cjtrLnVybD1mdW5jdGlvbihiLGQsZSl7eShlKSYmKGU9bnVsbCk7bCE9PWEubG9jYXRpb24mJihsPWEubG9jYXRpb24pO20hPT1hLmhpc3RvcnkmJihtPWEuaGlzdG9yeSk7aWYoYil7dmFyIGY9Sj09PWU7aWYodj09PWImJighYy5oaXN0b3J5fHxmKSlyZXR1cm4gazt2YXIgaD12JiZKYSh2KT09PUphKGIpO3Y9YjtKPWU7IWMuaGlzdG9yeXx8aCYmZj8oaHx8KHQ9YiksZD9sLnJlcGxhY2UoYik6aD8oZD1sLGU9Yi5pbmRleE9mKFwiI1wiKSxlPS0xPT09ZT9cIlwiOmIuc3Vic3RyKGUpLGQuaGFzaD1lKTpsLmhyZWY9YixsLmhyZWYhPT1iJiYodD1iKSk6KG1bZD9cInJlcGxhY2VTdGF0ZVwiOlwicHVzaFN0YXRlXCJdKGUsXCJcIixiKSxnKCksSj1yKTt0JiYodD1iKTtyZXR1cm4ga31yZXR1cm4gdHx8bC5ocmVmLnJlcGxhY2UoLyUyNy9nLFwiJ1wiKX07ay5zdGF0ZT1mdW5jdGlvbigpe3JldHVybiByfTt2YXIgTT1bXSxIPSExLEU9bnVsbDtrLm9uVXJsQ2hhbmdlPWZ1bmN0aW9uKGIpe2lmKCFIKXtpZihjLmhpc3RvcnkpRihhKS5vbihcInBvcHN0YXRlXCIsXG5mKTtGKGEpLm9uKFwiaGFzaGNoYW5nZVwiLGYpO0g9ITB9TS5wdXNoKGIpO3JldHVybiBifTtrLiQkYXBwbGljYXRpb25EZXN0cm95ZWQ9ZnVuY3Rpb24oKXtGKGEpLm9mZihcImhhc2hjaGFuZ2UgcG9wc3RhdGVcIixmKX07ay4kJGNoZWNrVXJsQ2hhbmdlPWg7ay5iYXNlSHJlZj1mdW5jdGlvbigpe3ZhciBhPWZhLmF0dHIoXCJocmVmXCIpO3JldHVybiBhP2EucmVwbGFjZSgvXihodHRwcz9cXDopP1xcL1xcL1teXFwvXSovLFwiXCIpOlwiXCJ9O2suZGVmZXI9ZnVuY3Rpb24oYSxiKXt2YXIgYztSKys7Yz1uKGZ1bmN0aW9uKCl7ZGVsZXRlIHVbY107ZShhKX0sYnx8MCk7dVtjXT0hMDtyZXR1cm4gY307ay5kZWZlci5jYW5jZWw9ZnVuY3Rpb24oYSl7cmV0dXJuIHVbYV0/KGRlbGV0ZSB1W2FdLHAoYSksZShBKSwhMCk6ITF9fWZ1bmN0aW9uIGRmKCl7dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixcIiRsb2dcIixcIiRzbmlmZmVyXCIsXCIkZG9jdW1lbnRcIixmdW5jdGlvbihhLGIsZCxjKXtyZXR1cm4gbmV3ICRmKGEsYyxiLFxuZCl9XX1mdW5jdGlvbiBlZigpe3RoaXMuJGdldD1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxjKXtmdW5jdGlvbiBlKGEpe2EhPW4mJihwP3A9PWEmJihwPWEubik6cD1hLGYoYS5uLGEucCksZihhLG4pLG49YSxuLm49bnVsbCl9ZnVuY3Rpb24gZihhLGIpe2EhPWImJihhJiYoYS5wPWIpLGImJihiLm49YSkpfWlmKGEgaW4gYil0aHJvdyBOKFwiJGNhY2hlRmFjdG9yeVwiKShcImlpZFwiLGEpO3ZhciBnPTAsaD1TKHt9LGMse2lkOmF9KSxrPVUoKSxsPWMmJmMuY2FwYWNpdHl8fE51bWJlci5NQVhfVkFMVUUsbT1VKCksbj1udWxsLHA9bnVsbDtyZXR1cm4gYlthXT17cHV0OmZ1bmN0aW9uKGEsYil7aWYoIXkoYikpe2lmKGw8TnVtYmVyLk1BWF9WQUxVRSl7dmFyIGM9bVthXXx8KG1bYV09e2tleTphfSk7ZShjKX1hIGluIGt8fGcrKztrW2FdPWI7Zz5sJiZ0aGlzLnJlbW92ZShwLmtleSk7cmV0dXJuIGJ9fSxnZXQ6ZnVuY3Rpb24oYSl7aWYobDxOdW1iZXIuTUFYX1ZBTFVFKXt2YXIgYj1tW2FdO1xuaWYoIWIpcmV0dXJuO2UoYil9cmV0dXJuIGtbYV19LHJlbW92ZTpmdW5jdGlvbihhKXtpZihsPE51bWJlci5NQVhfVkFMVUUpe3ZhciBiPW1bYV07aWYoIWIpcmV0dXJuO2I9PW4mJihuPWIucCk7Yj09cCYmKHA9Yi5uKTtmKGIubixiLnApO2RlbGV0ZSBtW2FdfWEgaW4gayYmKGRlbGV0ZSBrW2FdLGctLSl9LHJlbW92ZUFsbDpmdW5jdGlvbigpe2s9VSgpO2c9MDttPVUoKTtuPXA9bnVsbH0sZGVzdHJveTpmdW5jdGlvbigpe209aD1rPW51bGw7ZGVsZXRlIGJbYV19LGluZm86ZnVuY3Rpb24oKXtyZXR1cm4gUyh7fSxoLHtzaXplOmd9KX19fXZhciBiPXt9O2EuaW5mbz1mdW5jdGlvbigpe3ZhciBhPXt9O3EoYixmdW5jdGlvbihiLGUpe2FbZV09Yi5pbmZvKCl9KTtyZXR1cm4gYX07YS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGJbYV19O3JldHVybiBhfX1mdW5jdGlvbiBCZigpe3RoaXMuJGdldD1bXCIkY2FjaGVGYWN0b3J5XCIsZnVuY3Rpb24oYSl7cmV0dXJuIGEoXCJ0ZW1wbGF0ZXNcIil9XX1cbmZ1bmN0aW9uIEZjKGEsYil7ZnVuY3Rpb24gZChhLGIsYyl7dmFyIGQ9L15cXHMqKFtAJjxdfD0oXFwqPykpKFxcPz8pXFxzKihcXHcqKVxccyokLyxlPVUoKTtxKGEsZnVuY3Rpb24oYSxmKXtpZihhIGluIG4pZVtmXT1uW2FdO2Vsc2V7dmFyIGc9YS5tYXRjaChkKTtpZighZyl0aHJvdyBnYShcImlzY3BcIixiLGYsYSxjP1wiY29udHJvbGxlciBiaW5kaW5ncyBkZWZpbml0aW9uXCI6XCJpc29sYXRlIHNjb3BlIGRlZmluaXRpb25cIik7ZVtmXT17bW9kZTpnWzFdWzBdLGNvbGxlY3Rpb246XCIqXCI9PT1nWzJdLG9wdGlvbmFsOlwiP1wiPT09Z1szXSxhdHRyTmFtZTpnWzRdfHxmfTtnWzRdJiYoblthXT1lW2ZdKX19KTtyZXR1cm4gZX1mdW5jdGlvbiBjKGEpe3ZhciBiPWEuY2hhckF0KDApO2lmKCFifHxiIT09UShiKSl0aHJvdyBnYShcImJhZGRpclwiLGEpO2lmKGEhPT1hLnRyaW0oKSl0aHJvdyBnYShcImJhZGRpclwiLGEpO31mdW5jdGlvbiBlKGEpe3ZhciBiPWEucmVxdWlyZXx8YS5jb250cm9sbGVyJiZhLm5hbWU7XG4hTChiKSYmRChiKSYmcShiLGZ1bmN0aW9uKGEsYyl7dmFyIGQ9YS5tYXRjaChsKTthLnN1YnN0cmluZyhkWzBdLmxlbmd0aCl8fChiW2NdPWRbMF0rYyl9KTtyZXR1cm4gYn12YXIgZj17fSxnPS9eXFxzKmRpcmVjdGl2ZVxcOlxccyooW1xcd1xcLV0rKVxccysoLiopJC8saD0vKChbXFx3XFwtXSspKD86XFw6KFteO10rKSk/Oz8pLyxrPWJlKFwibmdTcmMsbmdTcmNzZXQsc3JjLHNyY3NldFwiKSxsPS9eKD86KFxcXlxcXj8pPyhcXD8pPyhcXF5cXF4/KT8pPy8sbT0vXihvblthLXpdK3xmb3JtYWN0aW9uKSQvLG49VSgpO3RoaXMuZGlyZWN0aXZlPWZ1bmN0aW9uIEIoYixkKXtRYShiLFwiZGlyZWN0aXZlXCIpO0coYik/KGMoYiksc2IoZCxcImRpcmVjdGl2ZUZhY3RvcnlcIiksZi5oYXNPd25Qcm9wZXJ0eShiKXx8KGZbYl09W10sYS5mYWN0b3J5KGIrXCJEaXJlY3RpdmVcIixbXCIkaW5qZWN0b3JcIixcIiRleGNlcHRpb25IYW5kbGVyXCIsZnVuY3Rpb24oYSxjKXt2YXIgZD1bXTtxKGZbYl0sZnVuY3Rpb24oZixnKXt0cnl7dmFyIGg9XG5hLmludm9rZShmKTt6KGgpP2g9e2NvbXBpbGU6aGEoaCl9OiFoLmNvbXBpbGUmJmgubGluayYmKGguY29tcGlsZT1oYShoLmxpbmspKTtoLnByaW9yaXR5PWgucHJpb3JpdHl8fDA7aC5pbmRleD1nO2gubmFtZT1oLm5hbWV8fGI7aC5yZXF1aXJlPWUoaCk7aC5yZXN0cmljdD1oLnJlc3RyaWN0fHxcIkVBXCI7aC4kJG1vZHVsZU5hbWU9Zi4kJG1vZHVsZU5hbWU7ZC5wdXNoKGgpfWNhdGNoKGspe2Moayl9fSk7cmV0dXJuIGR9XSkpLGZbYl0ucHVzaChkKSk6cShiLHVjKEIpKTtyZXR1cm4gdGhpc307dGhpcy5jb21wb25lbnQ9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe2Z1bmN0aW9uIGUoYil7cmV0dXJuIHooYil8fEwoYik/ZnVuY3Rpb24oYyxkKXtyZXR1cm4gYS5pbnZva2UoYix0aGlzLHskZWxlbWVudDpjLCRhdHRyczpkfSl9OmJ9dmFyIGY9Yi50ZW1wbGF0ZXx8Yi50ZW1wbGF0ZVVybD9iLnRlbXBsYXRlOlwiXCIsZz17Y29udHJvbGxlcjpkLGNvbnRyb2xsZXJBczpYYyhiLmNvbnRyb2xsZXIpfHxcbmIuY29udHJvbGxlckFzfHxcIiRjdHJsXCIsdGVtcGxhdGU6ZShmKSx0ZW1wbGF0ZVVybDplKGIudGVtcGxhdGVVcmwpLHRyYW5zY2x1ZGU6Yi50cmFuc2NsdWRlLHNjb3BlOnt9LGJpbmRUb0NvbnRyb2xsZXI6Yi5iaW5kaW5nc3x8e30scmVzdHJpY3Q6XCJFXCIscmVxdWlyZTpiLnJlcXVpcmV9O3EoYixmdW5jdGlvbihhLGIpe1wiJFwiPT09Yi5jaGFyQXQoMCkmJihnW2JdPWEpfSk7cmV0dXJuIGd9dmFyIGQ9Yi5jb250cm9sbGVyfHxmdW5jdGlvbigpe307cShiLGZ1bmN0aW9uKGEsYil7XCIkXCI9PT1iLmNoYXJBdCgwKSYmKGNbYl09YSx6KGQpJiYoZFtiXT1hKSl9KTtjLiRpbmplY3Q9W1wiJGluamVjdG9yXCJdO3JldHVybiB0aGlzLmRpcmVjdGl2ZShhLGMpfTt0aGlzLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0PWZ1bmN0aW9uKGEpe3JldHVybiB3KGEpPyhiLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0KGEpLHRoaXMpOmIuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QoKX07dGhpcy5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3Q9XG5mdW5jdGlvbihhKXtyZXR1cm4gdyhhKT8oYi5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QoYSksdGhpcyk6Yi5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QoKX07dmFyIHA9ITA7dGhpcy5kZWJ1Z0luZm9FbmFibGVkPWZ1bmN0aW9uKGEpe3JldHVybiB3KGEpPyhwPWEsdGhpcyk6cH07dmFyIHU9MTA7dGhpcy5vbkNoYW5nZXNUdGw9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHU9YSx0aGlzKTp1fTt0aGlzLiRnZXQ9W1wiJGluamVjdG9yXCIsXCIkaW50ZXJwb2xhdGVcIixcIiRleGNlcHRpb25IYW5kbGVyXCIsXCIkdGVtcGxhdGVSZXF1ZXN0XCIsXCIkcGFyc2VcIixcIiRjb250cm9sbGVyXCIsXCIkcm9vdFNjb3BlXCIsXCIkc2NlXCIsXCIkYW5pbWF0ZVwiLFwiJCRzYW5pdGl6ZVVyaVwiLGZ1bmN0aW9uKGEsYixjLGUsbix0LEssTSxILEUpe2Z1bmN0aW9uIEkoKXt0cnl7aWYoIS0tcWEpdGhyb3cgWT12b2lkIDAsZ2EoXCJpbmZjaG5nXCIsdSk7Sy4kYXBwbHkoZnVuY3Rpb24oKXtmb3IodmFyIGE9XG5bXSxiPTAsYz1ZLmxlbmd0aDtiPGM7KytiKXRyeXtZW2JdKCl9Y2F0Y2goZCl7YS5wdXNoKGQpfVk9dm9pZCAwO2lmKGEubGVuZ3RoKXRocm93IGE7fSl9ZmluYWxseXtxYSsrfX1mdW5jdGlvbiBEYShhLGIpe2lmKGIpe3ZhciBjPU9iamVjdC5rZXlzKGIpLGQsZSxmO2Q9MDtmb3IoZT1jLmxlbmd0aDtkPGU7ZCsrKWY9Y1tkXSx0aGlzW2ZdPWJbZl19ZWxzZSB0aGlzLiRhdHRyPXt9O3RoaXMuJCRlbGVtZW50PWF9ZnVuY3Rpb24gUChhLGIsYyl7cGEuaW5uZXJIVE1MPVwiPHNwYW4gXCIrYitcIj5cIjtiPXBhLmZpcnN0Q2hpbGQuYXR0cmlidXRlczt2YXIgZD1iWzBdO2IucmVtb3ZlTmFtZWRJdGVtKGQubmFtZSk7ZC52YWx1ZT1jO2EuYXR0cmlidXRlcy5zZXROYW1lZEl0ZW0oZCl9ZnVuY3Rpb24geChhLGIpe3RyeXthLmFkZENsYXNzKGIpfWNhdGNoKGMpe319ZnVuY3Rpb24gYWEoYSxiLGMsZCxlKXthIGluc3RhbmNlb2YgRnx8KGE9RihhKSk7Zm9yKHZhciBmPS9cXFMrLyxnPTAsaD1hLmxlbmd0aDtnPFxuaDtnKyspe3ZhciBrPWFbZ107ay5ub2RlVHlwZT09PU1hJiZrLm5vZGVWYWx1ZS5tYXRjaChmKSYmUGMoayxhW2ddPUMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIikpfXZhciBsPXMoYSxiLGEsYyxkLGUpO2FhLiQkYWRkU2NvcGVDbGFzcyhhKTt2YXIgbT1udWxsO3JldHVybiBmdW5jdGlvbihiLGMsZCl7c2IoYixcInNjb3BlXCIpO2UmJmUubmVlZHNOZXdTY29wZSYmKGI9Yi4kcGFyZW50LiRuZXcoKSk7ZD1kfHx7fTt2YXIgZj1kLnBhcmVudEJvdW5kVHJhbnNjbHVkZUZuLGc9ZC50cmFuc2NsdWRlQ29udHJvbGxlcnM7ZD1kLmZ1dHVyZVBhcmVudEVsZW1lbnQ7ZiYmZi4kJGJvdW5kVHJhbnNjbHVkZSYmKGY9Zi4kJGJvdW5kVHJhbnNjbHVkZSk7bXx8KG09KGQ9ZCYmZFswXSk/XCJmb3JlaWdub2JqZWN0XCIhPT13YShkKSYmbWEuY2FsbChkKS5tYXRjaCgvU1ZHLyk/XCJzdmdcIjpcImh0bWxcIjpcImh0bWxcIik7ZD1cImh0bWxcIiE9PW0/RihkYShtLEYoXCI8ZGl2PlwiKS5hcHBlbmQoYSkuaHRtbCgpKSk6XG5jP09hLmNsb25lLmNhbGwoYSk6YTtpZihnKWZvcih2YXIgaCBpbiBnKWQuZGF0YShcIiRcIitoK1wiQ29udHJvbGxlclwiLGdbaF0uaW5zdGFuY2UpO2FhLiQkYWRkU2NvcGVJbmZvKGQsYik7YyYmYyhkLGIpO2wmJmwoYixkLGQsZik7cmV0dXJuIGR9fWZ1bmN0aW9uIHMoYSxiLGMsZCxlLGYpe2Z1bmN0aW9uIGcoYSxjLGQsZSl7dmFyIGYsayxsLG0scCxyLHY7aWYobilmb3Iodj1BcnJheShjLmxlbmd0aCksbT0wO208aC5sZW5ndGg7bSs9MylmPWhbbV0sdltmXT1jW2ZdO2Vsc2Ugdj1jO209MDtmb3IocD1oLmxlbmd0aDttPHA7KWs9dltoW20rK11dLGM9aFttKytdLGY9aFttKytdLGM/KGMuc2NvcGU/KGw9YS4kbmV3KCksYWEuJCRhZGRTY29wZUluZm8oRihrKSxsKSk6bD1hLHI9Yy50cmFuc2NsdWRlT25UaGlzRWxlbWVudD96YShhLGMudHJhbnNjbHVkZSxlKTohYy50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQmJmU/ZTohZSYmYj96YShhLGIpOm51bGwsYyhmLGwsayxkLHIpKTpmJiZmKGEsXG5rLmNoaWxkTm9kZXMsdm9pZCAwLGUpfWZvcih2YXIgaD1bXSxrLGwsbSxwLG4scj0wO3I8YS5sZW5ndGg7cisrKXtrPW5ldyBEYTtsPSRiKGFbcl0sW10saywwPT09cj9kOnZvaWQgMCxlKTsoZj1sLmxlbmd0aD9vYShsLGFbcl0sayxiLGMsbnVsbCxbXSxbXSxmKTpudWxsKSYmZi5zY29wZSYmYWEuJCRhZGRTY29wZUNsYXNzKGsuJCRlbGVtZW50KTtrPWYmJmYudGVybWluYWx8fCEobT1hW3JdLmNoaWxkTm9kZXMpfHwhbS5sZW5ndGg/bnVsbDpzKG0sZj8oZi50cmFuc2NsdWRlT25UaGlzRWxlbWVudHx8IWYudGVtcGxhdGVPblRoaXNFbGVtZW50KSYmZi50cmFuc2NsdWRlOmIpO2lmKGZ8fGspaC5wdXNoKHIsZixrKSxwPSEwLG49bnx8ZjtmPW51bGx9cmV0dXJuIHA/ZzpudWxsfWZ1bmN0aW9uIHphKGEsYixjKXtmdW5jdGlvbiBkKGUsZixnLGgsayl7ZXx8KGU9YS4kbmV3KCExLGspLGUuJCR0cmFuc2NsdWRlZD0hMCk7cmV0dXJuIGIoZSxmLHtwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbjpjLFxudHJhbnNjbHVkZUNvbnRyb2xsZXJzOmcsZnV0dXJlUGFyZW50RWxlbWVudDpofSl9dmFyIGU9ZC4kJHNsb3RzPVUoKSxmO2ZvcihmIGluIGIuJCRzbG90cyllW2ZdPWIuJCRzbG90c1tmXT96YShhLGIuJCRzbG90c1tmXSxjKTpudWxsO3JldHVybiBkfWZ1bmN0aW9uICRiKGEsYixjLGQsZSl7dmFyIGY9Yy4kYXR0cjtzd2l0Y2goYS5ub2RlVHlwZSl7Y2FzZSAxOk8oYixBYSh3YShhKSksXCJFXCIsZCxlKTtmb3IodmFyIGcsayxsLG0scD1hLmF0dHJpYnV0ZXMsbj0wLHI9cCYmcC5sZW5ndGg7bjxyO24rKyl7dmFyIHY9ITEsdT0hMTtnPXBbbl07az1nLm5hbWU7bD1XKGcudmFsdWUpO2c9QWEoayk7aWYobT1CYS50ZXN0KGcpKWs9ay5yZXBsYWNlKFljLFwiXCIpLnN1YnN0cig4KS5yZXBsYWNlKC9fKC4pL2csZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfSk7KGc9Zy5tYXRjaChDYSkpJiZWKGdbMV0pJiYodj1rLHU9ay5zdWJzdHIoMCxrLmxlbmd0aC01KStcImVuZFwiLGs9XG5rLnN1YnN0cigwLGsubGVuZ3RoLTYpKTtnPUFhKGsudG9Mb3dlckNhc2UoKSk7ZltnXT1rO2lmKG18fCFjLmhhc093blByb3BlcnR5KGcpKWNbZ109bCxVYyhhLGcpJiYoY1tnXT0hMCk7aWEoYSxiLGwsZyxtKTtPKGIsZyxcIkFcIixkLGUsdix1KX1mPWEuY2xhc3NOYW1lO0QoZikmJihmPWYuYW5pbVZhbCk7aWYoRyhmKSYmXCJcIiE9PWYpZm9yKDthPWguZXhlYyhmKTspZz1BYShhWzJdKSxPKGIsZyxcIkNcIixkLGUpJiYoY1tnXT1XKGFbM10pKSxmPWYuc3Vic3RyKGEuaW5kZXgrYVswXS5sZW5ndGgpO2JyZWFrO2Nhc2UgTWE6aWYoMTE9PT1FYSlmb3IoO2EucGFyZW50Tm9kZSYmYS5uZXh0U2libGluZyYmYS5uZXh0U2libGluZy5ub2RlVHlwZT09PU1hOylhLm5vZGVWYWx1ZSs9YS5uZXh0U2libGluZy5ub2RlVmFsdWUsYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEubmV4dFNpYmxpbmcpO2NhKGIsYS5ub2RlVmFsdWUpO2JyZWFrO2Nhc2UgODpoYihhLGIsYyxkLGUpfWIuc29ydChaKTtcbnJldHVybiBifWZ1bmN0aW9uIGhiKGEsYixjLGQsZSl7dHJ5e3ZhciBmPWcuZXhlYyhhLm5vZGVWYWx1ZSk7aWYoZil7dmFyIGg9QWEoZlsxXSk7TyhiLGgsXCJNXCIsZCxlKSYmKGNbaF09VyhmWzJdKSl9fWNhdGNoKGspe319ZnVuY3Rpb24gTihhLGIsYyl7dmFyIGQ9W10sZT0wO2lmKGImJmEuaGFzQXR0cmlidXRlJiZhLmhhc0F0dHJpYnV0ZShiKSl7ZG97aWYoIWEpdGhyb3cgZ2EoXCJ1dGVyZGlyXCIsYixjKTsxPT1hLm5vZGVUeXBlJiYoYS5oYXNBdHRyaWJ1dGUoYikmJmUrKyxhLmhhc0F0dHJpYnV0ZShjKSYmZS0tKTtkLnB1c2goYSk7YT1hLm5leHRTaWJsaW5nfXdoaWxlKDA8ZSl9ZWxzZSBkLnB1c2goYSk7cmV0dXJuIEYoZCl9ZnVuY3Rpb24gWmMoYSxiLGMpe3JldHVybiBmdW5jdGlvbihkLGUsZixnLGgpe2U9TihlWzBdLGIsYyk7cmV0dXJuIGEoZCxlLGYsZyxoKX19ZnVuY3Rpb24gYWMoYSxiLGMsZCxlLGYpe3ZhciBnO3JldHVybiBhP2FhKGIsYyxkLGUsZik6ZnVuY3Rpb24oKXtnfHxcbihnPWFhKGIsYyxkLGUsZiksYj1jPWY9bnVsbCk7cmV0dXJuIGcuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiBvYShhLGIsZCxlLGYsZyxoLGssbCl7ZnVuY3Rpb24gbShhLGIsYyxkKXtpZihhKXtjJiYoYT1aYyhhLGMsZCkpO2EucmVxdWlyZT14LnJlcXVpcmU7YS5kaXJlY3RpdmVOYW1lPUk7aWYodT09PXh8fHguJCRpc29sYXRlU2NvcGUpYT1qYShhLHtpc29sYXRlU2NvcGU6ITB9KTtoLnB1c2goYSl9aWYoYil7YyYmKGI9WmMoYixjLGQpKTtiLnJlcXVpcmU9eC5yZXF1aXJlO2IuZGlyZWN0aXZlTmFtZT1JO2lmKHU9PT14fHx4LiQkaXNvbGF0ZVNjb3BlKWI9amEoYix7aXNvbGF0ZVNjb3BlOiEwfSk7ay5wdXNoKGIpfX1mdW5jdGlvbiBwKGEsZSxmLGcsbCl7ZnVuY3Rpb24gbShhLGIsYyxkKXt2YXIgZTtZYShhKXx8KGQ9YyxjPWIsYj1hLGE9dm9pZCAwKTtmYSYmKGU9dCk7Y3x8KGM9ZmE/SS5wYXJlbnQoKTpJKTtpZihkKXt2YXIgZj1sLiQkc2xvdHNbZF07aWYoZilyZXR1cm4gZihhLFxuYixlLGMscyk7aWYoeShmKSl0aHJvdyBnYShcIm5vc2xvdFwiLGQseWEoSSkpO31lbHNlIHJldHVybiBsKGEsYixlLGMscyl9dmFyIG4sRSx4LE0sQix0LFAsSTtiPT09Zj8oZz1kLEk9ZC4kJGVsZW1lbnQpOihJPUYoZiksZz1uZXcgRGEoSSxkKSk7Qj1lO3U/TT1lLiRuZXcoITApOnImJihCPWUuJHBhcmVudCk7bCYmKFA9bSxQLiQkYm91bmRUcmFuc2NsdWRlPWwsUC5pc1Nsb3RGaWxsZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuISFsLiQkc2xvdHNbYV19KTt2JiYodD1hZyhJLGcsUCx2LE0sZSx1KSk7dSYmKGFhLiQkYWRkU2NvcGVJbmZvKEksTSwhMCwhKEgmJihIPT09dXx8SD09PXUuJCRvcmlnaW5hbERpcmVjdGl2ZSkpKSxhYS4kJGFkZFNjb3BlQ2xhc3MoSSwhMCksTS4kJGlzb2xhdGVCaW5kaW5ncz11LiQkaXNvbGF0ZUJpbmRpbmdzLEU9a2EoZSxnLE0sTS4kJGlzb2xhdGVCaW5kaW5ncyx1KSxFLnJlbW92ZVdhdGNoZXMmJk0uJG9uKFwiJGRlc3Ryb3lcIixFLnJlbW92ZVdhdGNoZXMpKTtcbmZvcihuIGluIHQpe0U9dltuXTt4PXRbbl07dmFyIFpiPUUuJCRiaW5kaW5ncy5iaW5kVG9Db250cm9sbGVyO3guYmluZGluZ0luZm89eC5pZGVudGlmaWVyJiZaYj9rYShCLGcseC5pbnN0YW5jZSxaYixFKTp7fTt2YXIgSz14KCk7SyE9PXguaW5zdGFuY2UmJih4Lmluc3RhbmNlPUssSS5kYXRhKFwiJFwiK0UubmFtZStcIkNvbnRyb2xsZXJcIixLKSx4LmJpbmRpbmdJbmZvLnJlbW92ZVdhdGNoZXMmJnguYmluZGluZ0luZm8ucmVtb3ZlV2F0Y2hlcygpLHguYmluZGluZ0luZm89a2EoQixnLHguaW5zdGFuY2UsWmIsRSkpfXEodixmdW5jdGlvbihhLGIpe3ZhciBjPWEucmVxdWlyZTthLmJpbmRUb0NvbnRyb2xsZXImJiFMKGMpJiZEKGMpJiZTKHRbYl0uaW5zdGFuY2UsaWIoYixjLEksdCkpfSk7cSh0LGZ1bmN0aW9uKGEpe3ZhciBiPWEuaW5zdGFuY2U7aWYoeihiLiRvbkNoYW5nZXMpKXRyeXtiLiRvbkNoYW5nZXMoYS5iaW5kaW5nSW5mby5pbml0aWFsQ2hhbmdlcyl9Y2F0Y2goZCl7YyhkKX1pZih6KGIuJG9uSW5pdCkpdHJ5e2IuJG9uSW5pdCgpfWNhdGNoKGUpe2MoZSl9eihiLiRkb0NoZWNrKSYmXG4oQi4kd2F0Y2goZnVuY3Rpb24oKXtiLiRkb0NoZWNrKCl9KSxiLiRkb0NoZWNrKCkpO3ooYi4kb25EZXN0cm95KSYmQi4kb24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7Yi4kb25EZXN0cm95KCl9KX0pO249MDtmb3IoRT1oLmxlbmd0aDtuPEU7bisrKXg9aFtuXSxsYSh4LHguaXNvbGF0ZVNjb3BlP006ZSxJLGcseC5yZXF1aXJlJiZpYih4LmRpcmVjdGl2ZU5hbWUseC5yZXF1aXJlLEksdCksUCk7dmFyIHM9ZTt1JiYodS50ZW1wbGF0ZXx8bnVsbD09PXUudGVtcGxhdGVVcmwpJiYocz1NKTthJiZhKHMsZi5jaGlsZE5vZGVzLHZvaWQgMCxsKTtmb3Iobj1rLmxlbmd0aC0xOzA8PW47bi0tKXg9a1tuXSxsYSh4LHguaXNvbGF0ZVNjb3BlP006ZSxJLGcseC5yZXF1aXJlJiZpYih4LmRpcmVjdGl2ZU5hbWUseC5yZXF1aXJlLEksdCksUCk7cSh0LGZ1bmN0aW9uKGEpe2E9YS5pbnN0YW5jZTt6KGEuJHBvc3RMaW5rKSYmYS4kcG9zdExpbmsoKX0pfWw9bHx8e307Zm9yKHZhciBuPS1OdW1iZXIuTUFYX1ZBTFVFLFxucj1sLm5ld1Njb3BlRGlyZWN0aXZlLHY9bC5jb250cm9sbGVyRGlyZWN0aXZlcyx1PWwubmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLEg9bC50ZW1wbGF0ZURpcmVjdGl2ZSxFPWwubm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSxNPSExLEI9ITEsZmE9bC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSx0PWQuJCRlbGVtZW50PUYoYikseCxJLFAsSz1lLHMsRmE9ITEsemE9ITEsdyxBPTAsQz1hLmxlbmd0aDtBPEM7QSsrKXt4PWFbQV07dmFyIEc9eC4kJHN0YXJ0LGhiPXguJCRlbmQ7RyYmKHQ9TihiLEcsaGIpKTtQPXZvaWQgMDtpZihuPngucHJpb3JpdHkpYnJlYWs7aWYodz14LnNjb3BlKXgudGVtcGxhdGVVcmx8fChEKHcpPyhYKFwibmV3L2lzb2xhdGVkIHNjb3BlXCIsdXx8cix4LHQpLHU9eCk6WChcIm5ldy9pc29sYXRlZCBzY29wZVwiLHUseCx0KSkscj1yfHx4O0k9eC5uYW1lO2lmKCFGYSYmKHgucmVwbGFjZSYmKHgudGVtcGxhdGVVcmx8fHgudGVtcGxhdGUpfHx4LnRyYW5zY2x1ZGUmJlxuIXguJCR0bGIpKXtmb3Iodz1BKzE7RmE9YVt3KytdOylpZihGYS50cmFuc2NsdWRlJiYhRmEuJCR0bGJ8fEZhLnJlcGxhY2UmJihGYS50ZW1wbGF0ZVVybHx8RmEudGVtcGxhdGUpKXt6YT0hMDticmVha31GYT0hMH0heC50ZW1wbGF0ZVVybCYmeC5jb250cm9sbGVyJiYodz14LmNvbnRyb2xsZXIsdj12fHxVKCksWChcIidcIitJK1wiJyBjb250cm9sbGVyXCIsdltJXSx4LHQpLHZbSV09eCk7aWYodz14LnRyYW5zY2x1ZGUpaWYoTT0hMCx4LiQkdGxifHwoWChcInRyYW5zY2x1c2lvblwiLEUseCx0KSxFPXgpLFwiZWxlbWVudFwiPT13KWZhPSEwLG49eC5wcmlvcml0eSxQPXQsdD1kLiQkZWxlbWVudD1GKGFhLiQkY3JlYXRlQ29tbWVudChJLGRbSV0pKSxiPXRbMF0sZWEoZix2YS5jYWxsKFAsMCksYiksUFswXS4kJHBhcmVudE5vZGU9UFswXS5wYXJlbnROb2RlLEs9YWMoemEsUCxlLG4sZyYmZy5uYW1lLHtub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlOkV9KTtlbHNle3ZhciBvYT1VKCk7UD1GKFhiKGIpKS5jb250ZW50cygpO1xuaWYoRCh3KSl7UD1bXTt2YXIgUT1VKCksTz1VKCk7cSh3LGZ1bmN0aW9uKGEsYil7dmFyIGM9XCI/XCI9PT1hLmNoYXJBdCgwKTthPWM/YS5zdWJzdHJpbmcoMSk6YTtRW2FdPWI7b2FbYl09bnVsbDtPW2JdPWN9KTtxKHQuY29udGVudHMoKSxmdW5jdGlvbihhKXt2YXIgYj1RW0FhKHdhKGEpKV07Yj8oT1tiXT0hMCxvYVtiXT1vYVtiXXx8W10sb2FbYl0ucHVzaChhKSk6UC5wdXNoKGEpfSk7cShPLGZ1bmN0aW9uKGEsYil7aWYoIWEpdGhyb3cgZ2EoXCJyZXFzbG90XCIsYik7fSk7Zm9yKHZhciBWIGluIG9hKW9hW1ZdJiYob2FbVl09YWMoemEsb2FbVl0sZSkpfXQuZW1wdHkoKTtLPWFjKHphLFAsZSx2b2lkIDAsdm9pZCAwLHtuZWVkc05ld1Njb3BlOnguJCRpc29sYXRlU2NvcGV8fHguJCRuZXdTY29wZX0pO0suJCRzbG90cz1vYX1pZih4LnRlbXBsYXRlKWlmKEI9ITAsWChcInRlbXBsYXRlXCIsSCx4LHQpLEg9eCx3PXooeC50ZW1wbGF0ZSk/eC50ZW1wbGF0ZSh0LGQpOngudGVtcGxhdGUsXG53PXhhKHcpLHgucmVwbGFjZSl7Zz14O1A9VmIudGVzdCh3KT8kYyhkYSh4LnRlbXBsYXRlTmFtZXNwYWNlLFcodykpKTpbXTtiPVBbMF07aWYoMSE9UC5sZW5ndGh8fDEhPT1iLm5vZGVUeXBlKXRocm93IGdhKFwidHBscnRcIixJLFwiXCIpO2VhKGYsdCxiKTtDPXskYXR0cjp7fX07dz0kYihiLFtdLEMpO3ZhciBaPWEuc3BsaWNlKEErMSxhLmxlbmd0aC0oQSsxKSk7KHV8fHIpJiZUKHcsdSxyKTthPWEuY29uY2F0KHcpLmNvbmNhdChaKTskKGQsQyk7Qz1hLmxlbmd0aH1lbHNlIHQuaHRtbCh3KTtpZih4LnRlbXBsYXRlVXJsKUI9ITAsWChcInRlbXBsYXRlXCIsSCx4LHQpLEg9eCx4LnJlcGxhY2UmJihnPXgpLHA9YmEoYS5zcGxpY2UoQSxhLmxlbmd0aC1BKSx0LGQsZixNJiZLLGgsayx7Y29udHJvbGxlckRpcmVjdGl2ZXM6dixuZXdTY29wZURpcmVjdGl2ZTpyIT09eCYmcixuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmU6dSx0ZW1wbGF0ZURpcmVjdGl2ZTpILG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU6RX0pLFxuQz1hLmxlbmd0aDtlbHNlIGlmKHguY29tcGlsZSl0cnl7cz14LmNvbXBpbGUodCxkLEspO3ZhciBZPXguJCRvcmlnaW5hbERpcmVjdGl2ZXx8eDt6KHMpP20obnVsbCxhYihZLHMpLEcsaGIpOnMmJm0oYWIoWSxzLnByZSksYWIoWSxzLnBvc3QpLEcsaGIpfWNhdGNoKGNhKXtjKGNhLHlhKHQpKX14LnRlcm1pbmFsJiYocC50ZXJtaW5hbD0hMCxuPU1hdGgubWF4KG4seC5wcmlvcml0eSkpfXAuc2NvcGU9ciYmITA9PT1yLnNjb3BlO3AudHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQ9TTtwLnRlbXBsYXRlT25UaGlzRWxlbWVudD1CO3AudHJhbnNjbHVkZT1LO2wuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmU9ZmE7cmV0dXJuIHB9ZnVuY3Rpb24gaWIoYSxiLGMsZCl7dmFyIGU7aWYoRyhiKSl7dmFyIGY9Yi5tYXRjaChsKTtiPWIuc3Vic3RyaW5nKGZbMF0ubGVuZ3RoKTt2YXIgZz1mWzFdfHxmWzNdLGY9XCI/XCI9PT1mWzJdO1wiXl5cIj09PWc/Yz1jLnBhcmVudCgpOmU9KGU9ZCYmZFtiXSkmJlxuZS5pbnN0YW5jZTtpZighZSl7dmFyIGg9XCIkXCIrYitcIkNvbnRyb2xsZXJcIjtlPWc/Yy5pbmhlcml0ZWREYXRhKGgpOmMuZGF0YShoKX1pZighZSYmIWYpdGhyb3cgZ2EoXCJjdHJlcVwiLGIsYSk7fWVsc2UgaWYoTChiKSlmb3IoZT1bXSxnPTAsZj1iLmxlbmd0aDtnPGY7ZysrKWVbZ109aWIoYSxiW2ddLGMsZCk7ZWxzZSBEKGIpJiYoZT17fSxxKGIsZnVuY3Rpb24oYixmKXtlW2ZdPWliKGEsYixjLGQpfSkpO3JldHVybiBlfHxudWxsfWZ1bmN0aW9uIGFnKGEsYixjLGQsZSxmLGcpe3ZhciBoPVUoKSxrO2ZvcihrIGluIGQpe3ZhciBsPWRba10sbT17JHNjb3BlOmw9PT1nfHxsLiQkaXNvbGF0ZVNjb3BlP2U6ZiwkZWxlbWVudDphLCRhdHRyczpiLCR0cmFuc2NsdWRlOmN9LHA9bC5jb250cm9sbGVyO1wiQFwiPT1wJiYocD1iW2wubmFtZV0pO209dChwLG0sITAsbC5jb250cm9sbGVyQXMpO2hbbC5uYW1lXT1tO2EuZGF0YShcIiRcIitsLm5hbWUrXCJDb250cm9sbGVyXCIsbS5pbnN0YW5jZSl9cmV0dXJuIGh9XG5mdW5jdGlvbiBUKGEsYixjKXtmb3IodmFyIGQ9MCxlPWEubGVuZ3RoO2Q8ZTtkKyspYVtkXT1SYihhW2RdLHskJGlzb2xhdGVTY29wZTpiLCQkbmV3U2NvcGU6Y30pfWZ1bmN0aW9uIE8oYixlLGcsaCxrLGwsbSl7aWYoZT09PWspcmV0dXJuIG51bGw7az1udWxsO2lmKGYuaGFzT3duUHJvcGVydHkoZSkpe3ZhciBwO2U9YS5nZXQoZStcIkRpcmVjdGl2ZVwiKTtmb3IodmFyIG49MCxyPWUubGVuZ3RoO248cjtuKyspdHJ5e2lmKHA9ZVtuXSwoeShoKXx8aD5wLnByaW9yaXR5KSYmLTEhPXAucmVzdHJpY3QuaW5kZXhPZihnKSl7bCYmKHA9UmIocCx7JCRzdGFydDpsLCQkZW5kOm19KSk7aWYoIXAuJCRiaW5kaW5ncyl7dmFyIHU9cCx2PXAseD1wLm5hbWUsSD17aXNvbGF0ZVNjb3BlOm51bGwsYmluZFRvQ29udHJvbGxlcjpudWxsfTtEKHYuc2NvcGUpJiYoITA9PT12LmJpbmRUb0NvbnRyb2xsZXI/KEguYmluZFRvQ29udHJvbGxlcj1kKHYuc2NvcGUseCwhMCksSC5pc29sYXRlU2NvcGU9e30pOlxuSC5pc29sYXRlU2NvcGU9ZCh2LnNjb3BlLHgsITEpKTtEKHYuYmluZFRvQ29udHJvbGxlcikmJihILmJpbmRUb0NvbnRyb2xsZXI9ZCh2LmJpbmRUb0NvbnRyb2xsZXIseCwhMCkpO2lmKEQoSC5iaW5kVG9Db250cm9sbGVyKSl7dmFyIEU9di5jb250cm9sbGVyLE09di5jb250cm9sbGVyQXM7aWYoIUUpdGhyb3cgZ2EoXCJub2N0cmxcIix4KTtpZighWGMoRSxNKSl0aHJvdyBnYShcIm5vaWRlbnRcIix4KTt9dmFyIHQ9dS4kJGJpbmRpbmdzPUg7RCh0Lmlzb2xhdGVTY29wZSkmJihwLiQkaXNvbGF0ZUJpbmRpbmdzPXQuaXNvbGF0ZVNjb3BlKX1iLnB1c2gocCk7az1wfX1jYXRjaChJKXtjKEkpfX1yZXR1cm4ga31mdW5jdGlvbiBWKGIpe2lmKGYuaGFzT3duUHJvcGVydHkoYikpZm9yKHZhciBjPWEuZ2V0KGIrXCJEaXJlY3RpdmVcIiksZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKylpZihiPWNbZF0sYi5tdWx0aUVsZW1lbnQpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gJChhLGIpe3ZhciBjPWIuJGF0dHIsXG5kPWEuJGF0dHI7cShhLGZ1bmN0aW9uKGQsZSl7XCIkXCIhPWUuY2hhckF0KDApJiYoYltlXSYmYltlXSE9PWQmJihkKz0oXCJzdHlsZVwiPT09ZT9cIjtcIjpcIiBcIikrYltlXSksYS4kc2V0KGUsZCwhMCxjW2VdKSl9KTtxKGIsZnVuY3Rpb24oYixlKXthLmhhc093blByb3BlcnR5KGUpfHxcIiRcIj09PWUuY2hhckF0KDApfHwoYVtlXT1iLFwiY2xhc3NcIiE9PWUmJlwic3R5bGVcIiE9PWUmJihkW2VdPWNbZV0pKX0pfWZ1bmN0aW9uIGJhKGEsYixjLGQsZixnLGgsayl7dmFyIGw9W10sbSxwLG49YlswXSxyPWEuc2hpZnQoKSx1PVJiKHIse3RlbXBsYXRlVXJsOm51bGwsdHJhbnNjbHVkZTpudWxsLHJlcGxhY2U6bnVsbCwkJG9yaWdpbmFsRGlyZWN0aXZlOnJ9KSxIPXooci50ZW1wbGF0ZVVybCk/ci50ZW1wbGF0ZVVybChiLGMpOnIudGVtcGxhdGVVcmwsRT1yLnRlbXBsYXRlTmFtZXNwYWNlO2IuZW1wdHkoKTtlKEgpLnRoZW4oZnVuY3Rpb24oZSl7dmFyIHYsTTtlPXhhKGUpO2lmKHIucmVwbGFjZSl7ZT1cblZiLnRlc3QoZSk/JGMoZGEoRSxXKGUpKSk6W107dj1lWzBdO2lmKDEhPWUubGVuZ3RofHwxIT09di5ub2RlVHlwZSl0aHJvdyBnYShcInRwbHJ0XCIsci5uYW1lLEgpO2U9eyRhdHRyOnt9fTtlYShkLGIsdik7dmFyIEI9JGIodixbXSxlKTtEKHIuc2NvcGUpJiZUKEIsITApO2E9Qi5jb25jYXQoYSk7JChjLGUpfWVsc2Ugdj1uLGIuaHRtbChlKTthLnVuc2hpZnQodSk7bT1vYShhLHYsYyxmLGIscixnLGgsayk7cShkLGZ1bmN0aW9uKGEsYyl7YT09diYmKGRbY109YlswXSl9KTtmb3IocD1zKGJbMF0uY2hpbGROb2RlcyxmKTtsLmxlbmd0aDspe2U9bC5zaGlmdCgpO009bC5zaGlmdCgpO3ZhciB0PWwuc2hpZnQoKSxJPWwuc2hpZnQoKSxCPWJbMF07aWYoIWUuJCRkZXN0cm95ZWQpe2lmKE0hPT1uKXt2YXIgUD1NLmNsYXNzTmFtZTtrLmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlJiZyLnJlcGxhY2V8fChCPVhiKHYpKTtlYSh0LEYoTSksQik7eChGKEIpLFApfU09bS50cmFuc2NsdWRlT25UaGlzRWxlbWVudD9cbnphKGUsbS50cmFuc2NsdWRlLEkpOkk7bShwLGUsQixkLE0pfX1sPW51bGx9KTtyZXR1cm4gZnVuY3Rpb24oYSxiLGMsZCxlKXthPWU7Yi4kJGRlc3Ryb3llZHx8KGw/bC5wdXNoKGIsYyxkLGEpOihtLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50JiYoYT16YShiLG0udHJhbnNjbHVkZSxlKSksbShwLGIsYyxkLGEpKSl9fWZ1bmN0aW9uIFooYSxiKXt2YXIgYz1iLnByaW9yaXR5LWEucHJpb3JpdHk7cmV0dXJuIDAhPT1jP2M6YS5uYW1lIT09Yi5uYW1lP2EubmFtZTxiLm5hbWU/LTE6MTphLmluZGV4LWIuaW5kZXh9ZnVuY3Rpb24gWChhLGIsYyxkKXtmdW5jdGlvbiBlKGEpe3JldHVybiBhP1wiIChtb2R1bGU6IFwiK2ErXCIpXCI6XCJcIn1pZihiKXRocm93IGdhKFwibXVsdGlkaXJcIixiLm5hbWUsZShiLiQkbW9kdWxlTmFtZSksYy5uYW1lLGUoYy4kJG1vZHVsZU5hbWUpLGEseWEoZCkpO31mdW5jdGlvbiBjYShhLGMpe3ZhciBkPWIoYywhMCk7ZCYmYS5wdXNoKHtwcmlvcml0eTowLGNvbXBpbGU6ZnVuY3Rpb24oYSl7YT1cbmEucGFyZW50KCk7dmFyIGI9ISFhLmxlbmd0aDtiJiZhYS4kJGFkZEJpbmRpbmdDbGFzcyhhKTtyZXR1cm4gZnVuY3Rpb24oYSxjKXt2YXIgZT1jLnBhcmVudCgpO2J8fGFhLiQkYWRkQmluZGluZ0NsYXNzKGUpO2FhLiQkYWRkQmluZGluZ0luZm8oZSxkLmV4cHJlc3Npb25zKTthLiR3YXRjaChkLGZ1bmN0aW9uKGEpe2NbMF0ubm9kZVZhbHVlPWF9KX19fSl9ZnVuY3Rpb24gZGEoYSxiKXthPVEoYXx8XCJodG1sXCIpO3N3aXRjaChhKXtjYXNlIFwic3ZnXCI6Y2FzZSBcIm1hdGhcIjp2YXIgYz1DLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7Yy5pbm5lckhUTUw9XCI8XCIrYStcIj5cIitiK1wiPC9cIithK1wiPlwiO3JldHVybiBjLmNoaWxkTm9kZXNbMF0uY2hpbGROb2RlcztkZWZhdWx0OnJldHVybiBifX1mdW5jdGlvbiBoYShhLGIpe2lmKFwic3JjZG9jXCI9PWIpcmV0dXJuIE0uSFRNTDt2YXIgYz13YShhKTtpZihcInhsaW5rSHJlZlwiPT1ifHxcImZvcm1cIj09YyYmXCJhY3Rpb25cIj09Ynx8XCJpbWdcIiE9XG5jJiYoXCJzcmNcIj09Ynx8XCJuZ1NyY1wiPT1iKSlyZXR1cm4gTS5SRVNPVVJDRV9VUkx9ZnVuY3Rpb24gaWEoYSxjLGQsZSxmKXt2YXIgZz1oYShhLGUpO2Y9a1tlXXx8Zjt2YXIgaD1iKGQsITAsZyxmKTtpZihoKXtpZihcIm11bHRpcGxlXCI9PT1lJiZcInNlbGVjdFwiPT09d2EoYSkpdGhyb3cgZ2EoXCJzZWxtdWx0aVwiLHlhKGEpKTtjLnB1c2goe3ByaW9yaXR5OjEwMCxjb21waWxlOmZ1bmN0aW9uKCl7cmV0dXJue3ByZTpmdW5jdGlvbihhLGMsayl7Yz1rLiQkb2JzZXJ2ZXJzfHwoay4kJG9ic2VydmVycz1VKCkpO2lmKG0udGVzdChlKSl0aHJvdyBnYShcIm5vZG9tZXZlbnRzXCIpO3ZhciBsPWtbZV07bCE9PWQmJihoPWwmJmIobCwhMCxnLGYpLGQ9bCk7aCYmKGtbZV09aChhKSwoY1tlXXx8KGNbZV09W10pKS4kJGludGVyPSEwLChrLiQkb2JzZXJ2ZXJzJiZrLiQkb2JzZXJ2ZXJzW2VdLiQkc2NvcGV8fGEpLiR3YXRjaChoLGZ1bmN0aW9uKGEsYil7XCJjbGFzc1wiPT09ZSYmYSE9Yj9rLiR1cGRhdGVDbGFzcyhhLFxuYik6ay4kc2V0KGUsYSl9KSl9fX19KX19ZnVuY3Rpb24gZWEoYSxiLGMpe3ZhciBkPWJbMF0sZT1iLmxlbmd0aCxmPWQucGFyZW50Tm9kZSxnLGg7aWYoYSlmb3IoZz0wLGg9YS5sZW5ndGg7ZzxoO2crKylpZihhW2ddPT1kKXthW2crK109YztoPWcrZS0xO2Zvcih2YXIgaz1hLmxlbmd0aDtnPGs7ZysrLGgrKyloPGs/YVtnXT1hW2hdOmRlbGV0ZSBhW2ddO2EubGVuZ3RoLT1lLTE7YS5jb250ZXh0PT09ZCYmKGEuY29udGV4dD1jKTticmVha31mJiZmLnJlcGxhY2VDaGlsZChjLGQpO2E9Qy5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7Zm9yKGc9MDtnPGU7ZysrKWEuYXBwZW5kQ2hpbGQoYltnXSk7Ri5oYXNEYXRhKGQpJiYoRi5kYXRhKGMsRi5kYXRhKGQpKSxGKGQpLm9mZihcIiRkZXN0cm95XCIpKTtGLmNsZWFuRGF0YShhLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqXCIpKTtmb3IoZz0xO2c8ZTtnKyspZGVsZXRlIGJbZ107YlswXT1jO2IubGVuZ3RoPTF9ZnVuY3Rpb24gamEoYSxcbmIpe3JldHVybiBTKGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxhLGIpfWZ1bmN0aW9uIGxhKGEsYixkLGUsZixnKXt0cnl7YShiLGQsZSxmLGcpfWNhdGNoKGgpe2MoaCx5YShkKSl9fWZ1bmN0aW9uIGthKGEsYyxkLGUsZil7ZnVuY3Rpb24gZyhiLGMsZSl7eihkLiRvbkNoYW5nZXMpJiZjIT09ZSYmKFl8fChhLiQkcG9zdERpZ2VzdChJKSxZPVtdKSxtfHwobT17fSxZLnB1c2goaCkpLG1bYl0mJihlPW1bYl0ucHJldmlvdXNWYWx1ZSksbVtiXT1uZXcgRmIoZSxjKSl9ZnVuY3Rpb24gaCgpe2QuJG9uQ2hhbmdlcyhtKTttPXZvaWQgMH12YXIgaz1bXSxsPXt9LG07cShlLGZ1bmN0aW9uKGUsaCl7dmFyIG09ZS5hdHRyTmFtZSxwPWUub3B0aW9uYWwsdix1LHgsSDtzd2l0Y2goZS5tb2RlKXtjYXNlIFwiQFwiOnB8fHVhLmNhbGwoYyxtKXx8KGRbaF09Y1ttXT12b2lkIDApO2MuJG9ic2VydmUobSxmdW5jdGlvbihhKXtpZihHKGEpfHxHYShhKSlnKGgsYSxkW2hdKSxcbmRbaF09YX0pO2MuJCRvYnNlcnZlcnNbbV0uJCRzY29wZT1hO3Y9Y1ttXTtHKHYpP2RbaF09Yih2KShhKTpHYSh2KSYmKGRbaF09dik7bFtoXT1uZXcgRmIoYmMsZFtoXSk7YnJlYWs7Y2FzZSBcIj1cIjppZighdWEuY2FsbChjLG0pKXtpZihwKWJyZWFrO2NbbV09dm9pZCAwfWlmKHAmJiFjW21dKWJyZWFrO3U9bihjW21dKTtIPXUubGl0ZXJhbD9uYTpmdW5jdGlvbihhLGIpe3JldHVybiBhPT09Ynx8YSE9PWEmJmIhPT1ifTt4PXUuYXNzaWdufHxmdW5jdGlvbigpe3Y9ZFtoXT11KGEpO3Rocm93IGdhKFwibm9uYXNzaWduXCIsY1ttXSxtLGYubmFtZSk7fTt2PWRbaF09dShhKTtwPWZ1bmN0aW9uKGIpe0goYixkW2hdKXx8KEgoYix2KT94KGEsYj1kW2hdKTpkW2hdPWIpO3JldHVybiB2PWJ9O3AuJHN0YXRlZnVsPSEwO3A9ZS5jb2xsZWN0aW9uP2EuJHdhdGNoQ29sbGVjdGlvbihjW21dLHApOmEuJHdhdGNoKG4oY1ttXSxwKSxudWxsLHUubGl0ZXJhbCk7ay5wdXNoKHApO2JyZWFrO2Nhc2UgXCI8XCI6aWYoIXVhLmNhbGwoYyxcbm0pKXtpZihwKWJyZWFrO2NbbV09dm9pZCAwfWlmKHAmJiFjW21dKWJyZWFrO3U9bihjW21dKTt2YXIgRT1kW2hdPXUoYSk7bFtoXT1uZXcgRmIoYmMsZFtoXSk7cD1hLiR3YXRjaCh1LGZ1bmN0aW9uKGEsYil7aWYoYj09PWEpe2lmKGI9PT1FKXJldHVybjtiPUV9ZyhoLGEsYik7ZFtoXT1hfSx1LmxpdGVyYWwpO2sucHVzaChwKTticmVhaztjYXNlIFwiJlwiOnU9Yy5oYXNPd25Qcm9wZXJ0eShtKT9uKGNbbV0pOkE7aWYodT09PUEmJnApYnJlYWs7ZFtoXT1mdW5jdGlvbihiKXtyZXR1cm4gdShhLGIpfX19KTtyZXR1cm57aW5pdGlhbENoYW5nZXM6bCxyZW1vdmVXYXRjaGVzOmsubGVuZ3RoJiZmdW5jdGlvbigpe2Zvcih2YXIgYT0wLGI9ay5sZW5ndGg7YTxiOysrYSlrW2FdKCl9fX12YXIgdGE9L15cXHcvLHBhPUMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxxYT11LFk7RGEucHJvdG90eXBlPXskbm9ybWFsaXplOkFhLCRhZGRDbGFzczpmdW5jdGlvbihhKXthJiYwPGEubGVuZ3RoJiZcbkguYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsYSl9LCRyZW1vdmVDbGFzczpmdW5jdGlvbihhKXthJiYwPGEubGVuZ3RoJiZILnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LGEpfSwkdXBkYXRlQ2xhc3M6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hZChhLGIpO2MmJmMubGVuZ3RoJiZILmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LGMpOyhjPWFkKGIsYSkpJiZjLmxlbmd0aCYmSC5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCxjKX0sJHNldDpmdW5jdGlvbihhLGIsZCxlKXt2YXIgZj1VYyh0aGlzLiQkZWxlbWVudFswXSxhKSxnPWJkW2FdLGg9YTtmPyh0aGlzLiQkZWxlbWVudC5wcm9wKGEsYiksZT1mKTpnJiYodGhpc1tnXT1iLGg9Zyk7dGhpc1thXT1iO2U/dGhpcy4kYXR0clthXT1lOihlPXRoaXMuJGF0dHJbYV0pfHwodGhpcy4kYXR0clthXT1lPUNjKGEsXCItXCIpKTtmPXdhKHRoaXMuJCRlbGVtZW50KTtpZihcImFcIj09PWYmJihcImhyZWZcIj09PWF8fFwieGxpbmtIcmVmXCI9PT1hKXx8XCJpbWdcIj09PVxuZiYmXCJzcmNcIj09PWEpdGhpc1thXT1iPUUoYixcInNyY1wiPT09YSk7ZWxzZSBpZihcImltZ1wiPT09ZiYmXCJzcmNzZXRcIj09PWEmJncoYikpe2Zvcih2YXIgZj1cIlwiLGc9VyhiKSxrPS8oXFxzK1xcZCt4XFxzKix8XFxzK1xcZCt3XFxzKix8XFxzKyx8LFxccyspLyxrPS9cXHMvLnRlc3QoZyk/azovKCwpLyxnPWcuc3BsaXQoayksaz1NYXRoLmZsb29yKGcubGVuZ3RoLzIpLGw9MDtsPGs7bCsrKXZhciBtPTIqbCxmPWYrRShXKGdbbV0pLCEwKSxmPWYrKFwiIFwiK1coZ1ttKzFdKSk7Zz1XKGdbMipsXSkuc3BsaXQoL1xccy8pO2YrPUUoVyhnWzBdKSwhMCk7Mj09PWcubGVuZ3RoJiYoZis9XCIgXCIrVyhnWzFdKSk7dGhpc1thXT1iPWZ9ITEhPT1kJiYobnVsbD09PWJ8fHkoYik/dGhpcy4kJGVsZW1lbnQucmVtb3ZlQXR0cihlKTp0YS50ZXN0KGUpP3RoaXMuJCRlbGVtZW50LmF0dHIoZSxiKTpQKHRoaXMuJCRlbGVtZW50WzBdLGUsYikpOyhhPXRoaXMuJCRvYnNlcnZlcnMpJiZxKGFbaF0sZnVuY3Rpb24oYSl7dHJ5e2EoYil9Y2F0Y2goZCl7YyhkKX19KX0sXG4kb2JzZXJ2ZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD1jLiQkb2JzZXJ2ZXJzfHwoYy4kJG9ic2VydmVycz1VKCkpLGU9ZFthXXx8KGRbYV09W10pO2UucHVzaChiKTtLLiRldmFsQXN5bmMoZnVuY3Rpb24oKXtlLiQkaW50ZXJ8fCFjLmhhc093blByb3BlcnR5KGEpfHx5KGNbYV0pfHxiKGNbYV0pfSk7cmV0dXJuIGZ1bmN0aW9uKCl7WmEoZSxiKX19fTt2YXIgcmE9Yi5zdGFydFN5bWJvbCgpLHNhPWIuZW5kU3ltYm9sKCkseGE9XCJ7e1wiPT1yYSYmXCJ9fVwiPT1zYT9YYTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXHtcXHsvZyxyYSkucmVwbGFjZSgvfX0vZyxzYSl9LEJhPS9ebmdBdHRyW0EtWl0vLENhPS9eKC4rKVN0YXJ0JC87YWEuJCRhZGRCaW5kaW5nSW5mbz1wP2Z1bmN0aW9uKGEsYil7dmFyIGM9YS5kYXRhKFwiJGJpbmRpbmdcIil8fFtdO0woYik/Yz1jLmNvbmNhdChiKTpjLnB1c2goYik7YS5kYXRhKFwiJGJpbmRpbmdcIixjKX06QTthYS4kJGFkZEJpbmRpbmdDbGFzcz1cbnA/ZnVuY3Rpb24oYSl7eChhLFwibmctYmluZGluZ1wiKX06QTthYS4kJGFkZFNjb3BlSW5mbz1wP2Z1bmN0aW9uKGEsYixjLGQpe2EuZGF0YShjP2Q/XCIkaXNvbGF0ZVNjb3BlTm9UZW1wbGF0ZVwiOlwiJGlzb2xhdGVTY29wZVwiOlwiJHNjb3BlXCIsYil9OkE7YWEuJCRhZGRTY29wZUNsYXNzPXA/ZnVuY3Rpb24oYSxiKXt4KGEsYj9cIm5nLWlzb2xhdGUtc2NvcGVcIjpcIm5nLXNjb3BlXCIpfTpBO2FhLiQkY3JlYXRlQ29tbWVudD1mdW5jdGlvbihhLGIpe3ZhciBjPVwiXCI7cCYmKGM9XCIgXCIrKGF8fFwiXCIpK1wiOiBcIixiJiYoYys9YitcIiBcIikpO3JldHVybiBDLmRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoYyl9O3JldHVybiBhYX1dfWZ1bmN0aW9uIEZiKGEsYil7dGhpcy5wcmV2aW91c1ZhbHVlPWE7dGhpcy5jdXJyZW50VmFsdWU9Yn1mdW5jdGlvbiBBYShhKXtyZXR1cm4gZGIoYS5yZXBsYWNlKFljLFwiXCIpKX1mdW5jdGlvbiBhZChhLGIpe3ZhciBkPVwiXCIsYz1hLnNwbGl0KC9cXHMrLyksZT1iLnNwbGl0KC9cXHMrLyksXG5mPTA7YTpmb3IoO2Y8Yy5sZW5ndGg7ZisrKXtmb3IodmFyIGc9Y1tmXSxoPTA7aDxlLmxlbmd0aDtoKyspaWYoZz09ZVtoXSljb250aW51ZSBhO2QrPSgwPGQubGVuZ3RoP1wiIFwiOlwiXCIpK2d9cmV0dXJuIGR9ZnVuY3Rpb24gJGMoYSl7YT1GKGEpO3ZhciBiPWEubGVuZ3RoO2lmKDE+PWIpcmV0dXJuIGE7Zm9yKDtiLS07KTg9PT1hW2JdLm5vZGVUeXBlJiZiZy5jYWxsKGEsYiwxKTtyZXR1cm4gYX1mdW5jdGlvbiBYYyhhLGIpe2lmKGImJkcoYikpcmV0dXJuIGI7aWYoRyhhKSl7dmFyIGQ9Y2QuZXhlYyhhKTtpZihkKXJldHVybiBkWzNdfX1mdW5jdGlvbiBmZigpe3ZhciBhPXt9LGI9ITE7dGhpcy5oYXM9ZnVuY3Rpb24oYil7cmV0dXJuIGEuaGFzT3duUHJvcGVydHkoYil9O3RoaXMucmVnaXN0ZXI9ZnVuY3Rpb24oYixjKXtRYShiLFwiY29udHJvbGxlclwiKTtEKGIpP1MoYSxiKTphW2JdPWN9O3RoaXMuYWxsb3dHbG9iYWxzPWZ1bmN0aW9uKCl7Yj0hMH07dGhpcy4kZ2V0PVtcIiRpbmplY3RvclwiLFxuXCIkd2luZG93XCIsZnVuY3Rpb24oZCxjKXtmdW5jdGlvbiBlKGEsYixjLGQpe2lmKCFhfHwhRChhLiRzY29wZSkpdGhyb3cgTihcIiRjb250cm9sbGVyXCIpKFwibm9zY3BcIixkLGIpO2EuJHNjb3BlW2JdPWN9cmV0dXJuIGZ1bmN0aW9uKGYsZyxoLGspe3ZhciBsLG0sbjtoPSEwPT09aDtrJiZHKGspJiYobj1rKTtpZihHKGYpKXtrPWYubWF0Y2goY2QpO2lmKCFrKXRocm93IGNnKFwiY3RybGZtdFwiLGYpO209a1sxXTtuPW58fGtbM107Zj1hLmhhc093blByb3BlcnR5KG0pP2FbbV06RWMoZy4kc2NvcGUsbSwhMCl8fChiP0VjKGMsbSwhMCk6dm9pZCAwKTtQYShmLG0sITApfWlmKGgpcmV0dXJuIGg9KEwoZik/ZltmLmxlbmd0aC0xXTpmKS5wcm90b3R5cGUsbD1PYmplY3QuY3JlYXRlKGh8fG51bGwpLG4mJmUoZyxuLGwsbXx8Zi5uYW1lKSxTKGZ1bmN0aW9uKCl7dmFyIGE9ZC5pbnZva2UoZixsLGcsbSk7YSE9PWwmJihEKGEpfHx6KGEpKSYmKGw9YSxuJiZlKGcsbixsLG18fGYubmFtZSkpO3JldHVybiBsfSxcbntpbnN0YW5jZTpsLGlkZW50aWZpZXI6bn0pO2w9ZC5pbnN0YW50aWF0ZShmLGcsbSk7biYmZShnLG4sbCxtfHxmLm5hbWUpO3JldHVybiBsfX1dfWZ1bmN0aW9uIGdmKCl7dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixmdW5jdGlvbihhKXtyZXR1cm4gRihhLmRvY3VtZW50KX1dfWZ1bmN0aW9uIGhmKCl7dGhpcy4kZ2V0PVtcIiRsb2dcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixkKXthLmVycm9yLmFwcGx5KGEsYXJndW1lbnRzKX19XX1mdW5jdGlvbiBjYyhhKXtyZXR1cm4gRChhKT9kYShhKT9hLnRvSVNPU3RyaW5nKCk6YmIoYSk6YX1mdW5jdGlvbiBuZigpe3RoaXMuJGdldD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhKXtpZighYSlyZXR1cm5cIlwiO3ZhciBiPVtdO3RjKGEsZnVuY3Rpb24oYSxjKXtudWxsPT09YXx8eShhKXx8KEwoYSk/cShhLGZ1bmN0aW9uKGEpe2IucHVzaChlYShjKStcIj1cIitlYShjYyhhKSkpfSk6Yi5wdXNoKGVhKGMpK1wiPVwiK2VhKGNjKGEpKSkpfSk7XG5yZXR1cm4gYi5qb2luKFwiJlwiKX19fWZ1bmN0aW9uIG9mKCl7dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxlLGYpe251bGw9PT1hfHx5KGEpfHwoTChhKT9xKGEsZnVuY3Rpb24oYSxjKXtiKGEsZStcIltcIisoRChhKT9jOlwiXCIpK1wiXVwiKX0pOkQoYSkmJiFkYShhKT90YyhhLGZ1bmN0aW9uKGEsYyl7YihhLGUrKGY/XCJcIjpcIltcIikrYysoZj9cIlwiOlwiXVwiKSl9KTpkLnB1c2goZWEoZSkrXCI9XCIrZWEoY2MoYSkpKSl9aWYoIWEpcmV0dXJuXCJcIjt2YXIgZD1bXTtiKGEsXCJcIiwhMCk7cmV0dXJuIGQuam9pbihcIiZcIil9fX1mdW5jdGlvbiBkYyhhLGIpe2lmKEcoYSkpe3ZhciBkPWEucmVwbGFjZShkZyxcIlwiKS50cmltKCk7aWYoZCl7dmFyIGM9YihcIkNvbnRlbnQtVHlwZVwiKTsoYz1jJiYwPT09Yy5pbmRleE9mKGRkKSl8fChjPShjPWQubWF0Y2goZWcpKSYmZmdbY1swXV0udGVzdChkKSk7YyYmKGE9eGMoZCkpfX1yZXR1cm4gYX1mdW5jdGlvbiBlZChhKXt2YXIgYj1cblUoKSxkO0coYSk/cShhLnNwbGl0KFwiXFxuXCIpLGZ1bmN0aW9uKGEpe2Q9YS5pbmRleE9mKFwiOlwiKTt2YXIgZT1RKFcoYS5zdWJzdHIoMCxkKSkpO2E9VyhhLnN1YnN0cihkKzEpKTtlJiYoYltlXT1iW2VdP2JbZV0rXCIsIFwiK2E6YSl9KTpEKGEpJiZxKGEsZnVuY3Rpb24oYSxkKXt2YXIgZj1RKGQpLGc9VyhhKTtmJiYoYltmXT1iW2ZdP2JbZl0rXCIsIFwiK2c6Zyl9KTtyZXR1cm4gYn1mdW5jdGlvbiBmZChhKXt2YXIgYjtyZXR1cm4gZnVuY3Rpb24oZCl7Ynx8KGI9ZWQoYSkpO3JldHVybiBkPyhkPWJbUShkKV0sdm9pZCAwPT09ZCYmKGQ9bnVsbCksZCk6Yn19ZnVuY3Rpb24gZ2QoYSxiLGQsYyl7aWYoeihjKSlyZXR1cm4gYyhhLGIsZCk7cShjLGZ1bmN0aW9uKGMpe2E9YyhhLGIsZCl9KTtyZXR1cm4gYX1mdW5jdGlvbiBtZigpe3ZhciBhPXRoaXMuZGVmYXVsdHM9e3RyYW5zZm9ybVJlc3BvbnNlOltkY10sdHJhbnNmb3JtUmVxdWVzdDpbZnVuY3Rpb24oYSl7cmV0dXJuIEQoYSkmJlwiW29iamVjdCBGaWxlXVwiIT09XG5tYS5jYWxsKGEpJiZcIltvYmplY3QgQmxvYl1cIiE9PW1hLmNhbGwoYSkmJlwiW29iamVjdCBGb3JtRGF0YV1cIiE9PW1hLmNhbGwoYSk/YmIoYSk6YX1dLGhlYWRlcnM6e2NvbW1vbjp7QWNjZXB0OlwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qXCJ9LHBvc3Q6aWEoZWMpLHB1dDppYShlYykscGF0Y2g6aWEoZWMpfSx4c3JmQ29va2llTmFtZTpcIlhTUkYtVE9LRU5cIix4c3JmSGVhZGVyTmFtZTpcIlgtWFNSRi1UT0tFTlwiLHBhcmFtU2VyaWFsaXplcjpcIiRodHRwUGFyYW1TZXJpYWxpemVyXCJ9LGI9ITE7dGhpcy51c2VBcHBseUFzeW5jPWZ1bmN0aW9uKGEpe3JldHVybiB3KGEpPyhiPSEhYSx0aGlzKTpifTt2YXIgZD0hMDt0aGlzLnVzZUxlZ2FjeVByb21pc2VFeHRlbnNpb25zPWZ1bmN0aW9uKGEpe3JldHVybiB3KGEpPyhkPSEhYSx0aGlzKTpkfTt2YXIgYz10aGlzLmludGVyY2VwdG9ycz1bXTt0aGlzLiRnZXQ9W1wiJGh0dHBCYWNrZW5kXCIsXCIkJGNvb2tpZVJlYWRlclwiLFwiJGNhY2hlRmFjdG9yeVwiLFxuXCIkcm9vdFNjb3BlXCIsXCIkcVwiLFwiJGluamVjdG9yXCIsZnVuY3Rpb24oZSxmLGcsaCxrLGwpe2Z1bmN0aW9uIG0oYil7ZnVuY3Rpb24gYyhhLGIpe2Zvcih2YXIgZD0wLGU9Yi5sZW5ndGg7ZDxlOyl7dmFyIGY9YltkKytdLGc9YltkKytdO2E9YS50aGVuKGYsZyl9Yi5sZW5ndGg9MDtyZXR1cm4gYX1mdW5jdGlvbiBlKGEsYil7dmFyIGMsZD17fTtxKGEsZnVuY3Rpb24oYSxlKXt6KGEpPyhjPWEoYiksbnVsbCE9YyYmKGRbZV09YykpOmRbZV09YX0pO3JldHVybiBkfWZ1bmN0aW9uIGYoYSl7dmFyIGI9Uyh7fSxhKTtiLmRhdGE9Z2QoYS5kYXRhLGEuaGVhZGVycyxhLnN0YXR1cyxnLnRyYW5zZm9ybVJlc3BvbnNlKTthPWEuc3RhdHVzO3JldHVybiAyMDA8PWEmJjMwMD5hP2I6ay5yZWplY3QoYil9aWYoIUQoYikpdGhyb3cgTihcIiRodHRwXCIpKFwiYmFkcmVxXCIsYik7aWYoIUcoYi51cmwpKXRocm93IE4oXCIkaHR0cFwiKShcImJhZHJlcVwiLGIudXJsKTt2YXIgZz1TKHttZXRob2Q6XCJnZXRcIix0cmFuc2Zvcm1SZXF1ZXN0OmEudHJhbnNmb3JtUmVxdWVzdCxcbnRyYW5zZm9ybVJlc3BvbnNlOmEudHJhbnNmb3JtUmVzcG9uc2UscGFyYW1TZXJpYWxpemVyOmEucGFyYW1TZXJpYWxpemVyfSxiKTtnLmhlYWRlcnM9ZnVuY3Rpb24oYil7dmFyIGM9YS5oZWFkZXJzLGQ9Uyh7fSxiLmhlYWRlcnMpLGYsZyxoLGM9Uyh7fSxjLmNvbW1vbixjW1EoYi5tZXRob2QpXSk7YTpmb3IoZiBpbiBjKXtnPVEoZik7Zm9yKGggaW4gZClpZihRKGgpPT09Zyljb250aW51ZSBhO2RbZl09Y1tmXX1yZXR1cm4gZShkLGlhKGIpKX0oYik7Zy5tZXRob2Q9dWIoZy5tZXRob2QpO2cucGFyYW1TZXJpYWxpemVyPUcoZy5wYXJhbVNlcmlhbGl6ZXIpP2wuZ2V0KGcucGFyYW1TZXJpYWxpemVyKTpnLnBhcmFtU2VyaWFsaXplcjt2YXIgaD1bXSxtPVtdLHA9ay53aGVuKGcpO3EoUixmdW5jdGlvbihhKXsoYS5yZXF1ZXN0fHxhLnJlcXVlc3RFcnJvcikmJmgudW5zaGlmdChhLnJlcXVlc3QsYS5yZXF1ZXN0RXJyb3IpOyhhLnJlc3BvbnNlfHxhLnJlc3BvbnNlRXJyb3IpJiZtLnB1c2goYS5yZXNwb25zZSxcbmEucmVzcG9uc2VFcnJvcil9KTtwPWMocCxoKTtwPXAudGhlbihmdW5jdGlvbihiKXt2YXIgYz1iLmhlYWRlcnMsZD1nZChiLmRhdGEsZmQoYyksdm9pZCAwLGIudHJhbnNmb3JtUmVxdWVzdCk7eShkKSYmcShjLGZ1bmN0aW9uKGEsYil7XCJjb250ZW50LXR5cGVcIj09PVEoYikmJmRlbGV0ZSBjW2JdfSk7eShiLndpdGhDcmVkZW50aWFscykmJiF5KGEud2l0aENyZWRlbnRpYWxzKSYmKGIud2l0aENyZWRlbnRpYWxzPWEud2l0aENyZWRlbnRpYWxzKTtyZXR1cm4gbihiLGQpLnRoZW4oZixmKX0pO3A9YyhwLG0pO2Q/KHAuc3VjY2Vzcz1mdW5jdGlvbihhKXtQYShhLFwiZm5cIik7cC50aGVuKGZ1bmN0aW9uKGIpe2EoYi5kYXRhLGIuc3RhdHVzLGIuaGVhZGVycyxnKX0pO3JldHVybiBwfSxwLmVycm9yPWZ1bmN0aW9uKGEpe1BhKGEsXCJmblwiKTtwLnRoZW4obnVsbCxmdW5jdGlvbihiKXthKGIuZGF0YSxiLnN0YXR1cyxiLmhlYWRlcnMsZyl9KTtyZXR1cm4gcH0pOihwLnN1Y2Nlc3M9aGQoXCJzdWNjZXNzXCIpLFxucC5lcnJvcj1oZChcImVycm9yXCIpKTtyZXR1cm4gcH1mdW5jdGlvbiBuKGMsZCl7ZnVuY3Rpb24gZyhhKXtpZihhKXt2YXIgYz17fTtxKGEsZnVuY3Rpb24oYSxkKXtjW2RdPWZ1bmN0aW9uKGMpe2Z1bmN0aW9uIGQoKXthKGMpfWI/aC4kYXBwbHlBc3luYyhkKTpoLiQkcGhhc2U/ZCgpOmguJGFwcGx5KGQpfX0pO3JldHVybiBjfX1mdW5jdGlvbiBsKGEsYyxkLGUpe2Z1bmN0aW9uIGYoKXtuKGMsYSxkLGUpfUUmJigyMDA8PWEmJjMwMD5hP0UucHV0KFAsW2EsYyxlZChkKSxlXSk6RS5yZW1vdmUoUCkpO2I/aC4kYXBwbHlBc3luYyhmKTooZigpLGguJCRwaGFzZXx8aC4kYXBwbHkoKSl9ZnVuY3Rpb24gbihhLGIsZCxlKXtiPS0xPD1iP2I6MDsoMjAwPD1iJiYzMDA+Yj9NLnJlc29sdmU6TS5yZWplY3QpKHtkYXRhOmEsc3RhdHVzOmIsaGVhZGVyczpmZChkKSxjb25maWc6YyxzdGF0dXNUZXh0OmV9KX1mdW5jdGlvbiB0KGEpe24oYS5kYXRhLGEuc3RhdHVzLGlhKGEuaGVhZGVycygpKSxcbmEuc3RhdHVzVGV4dCl9ZnVuY3Rpb24gUigpe3ZhciBhPW0ucGVuZGluZ1JlcXVlc3RzLmluZGV4T2YoYyk7LTEhPT1hJiZtLnBlbmRpbmdSZXF1ZXN0cy5zcGxpY2UoYSwxKX12YXIgTT1rLmRlZmVyKCksSD1NLnByb21pc2UsRSxJLERhPWMuaGVhZGVycyxQPXAoYy51cmwsYy5wYXJhbVNlcmlhbGl6ZXIoYy5wYXJhbXMpKTttLnBlbmRpbmdSZXF1ZXN0cy5wdXNoKGMpO0gudGhlbihSLFIpOyFjLmNhY2hlJiYhYS5jYWNoZXx8ITE9PT1jLmNhY2hlfHxcIkdFVFwiIT09Yy5tZXRob2QmJlwiSlNPTlBcIiE9PWMubWV0aG9kfHwoRT1EKGMuY2FjaGUpP2MuY2FjaGU6RChhLmNhY2hlKT9hLmNhY2hlOnUpO0UmJihJPUUuZ2V0KFApLHcoSSk/SSYmeihJLnRoZW4pP0kudGhlbih0LHQpOkwoSSk/bihJWzFdLElbMF0saWEoSVsyXSksSVszXSk6bihJLDIwMCx7fSxcIk9LXCIpOkUucHV0KFAsSCkpO3koSSkmJigoST1pZChjLnVybCk/ZigpW2MueHNyZkNvb2tpZU5hbWV8fGEueHNyZkNvb2tpZU5hbWVdOlxudm9pZCAwKSYmKERhW2MueHNyZkhlYWRlck5hbWV8fGEueHNyZkhlYWRlck5hbWVdPUkpLGUoYy5tZXRob2QsUCxkLGwsRGEsYy50aW1lb3V0LGMud2l0aENyZWRlbnRpYWxzLGMucmVzcG9uc2VUeXBlLGcoYy5ldmVudEhhbmRsZXJzKSxnKGMudXBsb2FkRXZlbnRIYW5kbGVycykpKTtyZXR1cm4gSH1mdW5jdGlvbiBwKGEsYil7MDxiLmxlbmd0aCYmKGErPSgtMT09YS5pbmRleE9mKFwiP1wiKT9cIj9cIjpcIiZcIikrYik7cmV0dXJuIGF9dmFyIHU9ZyhcIiRodHRwXCIpO2EucGFyYW1TZXJpYWxpemVyPUcoYS5wYXJhbVNlcmlhbGl6ZXIpP2wuZ2V0KGEucGFyYW1TZXJpYWxpemVyKTphLnBhcmFtU2VyaWFsaXplcjt2YXIgUj1bXTtxKGMsZnVuY3Rpb24oYSl7Ui51bnNoaWZ0KEcoYSk/bC5nZXQoYSk6bC5pbnZva2UoYSkpfSk7bS5wZW5kaW5nUmVxdWVzdHM9W107KGZ1bmN0aW9uKGEpe3EoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe21bYV09ZnVuY3Rpb24oYixjKXtyZXR1cm4gbShTKHt9LGN8fHt9LFxue21ldGhvZDphLHVybDpifSkpfX0pfSkoXCJnZXRcIixcImRlbGV0ZVwiLFwiaGVhZFwiLFwianNvbnBcIik7KGZ1bmN0aW9uKGEpe3EoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe21bYV09ZnVuY3Rpb24oYixjLGQpe3JldHVybiBtKFMoe30sZHx8e30se21ldGhvZDphLHVybDpiLGRhdGE6Y30pKX19KX0pKFwicG9zdFwiLFwicHV0XCIsXCJwYXRjaFwiKTttLmRlZmF1bHRzPWE7cmV0dXJuIG19XX1mdW5jdGlvbiBxZigpe3RoaXMuJGdldD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgQy5YTUxIdHRwUmVxdWVzdH19fWZ1bmN0aW9uIHBmKCl7dGhpcy4kZ2V0PVtcIiRicm93c2VyXCIsXCIkanNvbnBDYWxsYmFja3NcIixcIiRkb2N1bWVudFwiLFwiJHhockZhY3RvcnlcIixmdW5jdGlvbihhLGIsZCxjKXtyZXR1cm4gZ2coYSxjLGEuZGVmZXIsYixkWzBdKX1dfWZ1bmN0aW9uIGdnKGEsYixkLGMsZSl7ZnVuY3Rpb24gZihhLGIsZCl7YT1hLnJlcGxhY2UoXCJKU09OX0NBTExCQUNLXCIsYik7dmFyIGY9XG5lLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksbT1udWxsO2YudHlwZT1cInRleHQvamF2YXNjcmlwdFwiO2Yuc3JjPWE7Zi5hc3luYz0hMDttPWZ1bmN0aW9uKGEpe2YucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIixtLCExKTtmLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLG0sITEpO2UuYm9keS5yZW1vdmVDaGlsZChmKTtmPW51bGw7dmFyIGc9LTEsdT1cInVua25vd25cIjthJiYoXCJsb2FkXCIhPT1hLnR5cGV8fGMud2FzQ2FsbGVkKGIpfHwoYT17dHlwZTpcImVycm9yXCJ9KSx1PWEudHlwZSxnPVwiZXJyb3JcIj09PWEudHlwZT80MDQ6MjAwKTtkJiZkKGcsdSl9O2YuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixtLCExKTtmLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLG0sITEpO2UuYm9keS5hcHBlbmRDaGlsZChmKTtyZXR1cm4gbX1yZXR1cm4gZnVuY3Rpb24oZSxoLGssbCxtLG4scCx1LFIsQil7ZnVuY3Rpb24gcigpe2ZhJiZmYSgpO3QmJnQuYWJvcnQoKX1mdW5jdGlvbiBKKGIsYyxlLFxuZixnKXt3KE0pJiZkLmNhbmNlbChNKTtmYT10PW51bGw7YihjLGUsZixnKTthLiQkY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QoQSl9YS4kJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50KCk7aD1ofHxhLnVybCgpO2lmKFwianNvbnBcIj09PVEoZSkpdmFyIHY9Yy5jcmVhdGVDYWxsYmFjayhoKSxmYT1mKGgsdixmdW5jdGlvbihhLGIpe3ZhciBkPTIwMD09PWEmJmMuZ2V0UmVzcG9uc2Uodik7SihsLGEsZCxcIlwiLGIpO2MucmVtb3ZlQ2FsbGJhY2sodil9KTtlbHNle3ZhciB0PWIoZSxoKTt0Lm9wZW4oZSxoLCEwKTtxKG0sZnVuY3Rpb24oYSxiKXt3KGEpJiZ0LnNldFJlcXVlc3RIZWFkZXIoYixhKX0pO3Qub25sb2FkPWZ1bmN0aW9uKCl7dmFyIGE9dC5zdGF0dXNUZXh0fHxcIlwiLGI9XCJyZXNwb25zZVwiaW4gdD90LnJlc3BvbnNlOnQucmVzcG9uc2VUZXh0LGM9MTIyMz09PXQuc3RhdHVzPzIwNDp0LnN0YXR1czswPT09YyYmKGM9Yj8yMDA6XCJmaWxlXCI9PVkoaCkucHJvdG9jb2w/NDA0OlxuMCk7SihsLGMsYix0LmdldEFsbFJlc3BvbnNlSGVhZGVycygpLGEpfTtlPWZ1bmN0aW9uKCl7SihsLC0xLG51bGwsbnVsbCxcIlwiKX07dC5vbmVycm9yPWU7dC5vbmFib3J0PWU7cShSLGZ1bmN0aW9uKGEsYil7dC5hZGRFdmVudExpc3RlbmVyKGIsYSl9KTtxKEIsZnVuY3Rpb24oYSxiKXt0LnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKGIsYSl9KTtwJiYodC53aXRoQ3JlZGVudGlhbHM9ITApO2lmKHUpdHJ5e3QucmVzcG9uc2VUeXBlPXV9Y2F0Y2goSyl7aWYoXCJqc29uXCIhPT11KXRocm93IEs7fXQuc2VuZCh5KGspP251bGw6ayl9aWYoMDxuKXZhciBNPWQocixuKTtlbHNlIG4mJnoobi50aGVuKSYmbi50aGVuKHIpfX1mdW5jdGlvbiBrZigpe3ZhciBhPVwie3tcIixiPVwifX1cIjt0aGlzLnN0YXJ0U3ltYm9sPWZ1bmN0aW9uKGIpe3JldHVybiBiPyhhPWIsdGhpcyk6YX07dGhpcy5lbmRTeW1ib2w9ZnVuY3Rpb24oYSl7cmV0dXJuIGE/KGI9YSx0aGlzKTpifTt0aGlzLiRnZXQ9W1wiJHBhcnNlXCIsXG5cIiRleGNlcHRpb25IYW5kbGVyXCIsXCIkc2NlXCIsZnVuY3Rpb24oZCxjLGUpe2Z1bmN0aW9uIGYoYSl7cmV0dXJuXCJcXFxcXFxcXFxcXFxcIithfWZ1bmN0aW9uIGcoYyl7cmV0dXJuIGMucmVwbGFjZShuLGEpLnJlcGxhY2UocCxiKX1mdW5jdGlvbiBoKGEsYixjLGQpe3ZhciBlO3JldHVybiBlPWEuJHdhdGNoKGZ1bmN0aW9uKGEpe2UoKTtyZXR1cm4gZChhKX0sYixjKX1mdW5jdGlvbiBrKGYsayxwLG4pe2Z1bmN0aW9uIEooYSl7dHJ5e3ZhciBiPWE7YT1wP2UuZ2V0VHJ1c3RlZChwLGIpOmUudmFsdWVPZihiKTt2YXIgZDtpZihuJiYhdyhhKSlkPWE7ZWxzZSBpZihudWxsPT1hKWQ9XCJcIjtlbHNle3N3aXRjaCh0eXBlb2YgYSl7Y2FzZSBcInN0cmluZ1wiOmJyZWFrO2Nhc2UgXCJudW1iZXJcIjphPVwiXCIrYTticmVhaztkZWZhdWx0OmE9YmIoYSl9ZD1hfXJldHVybiBkfWNhdGNoKGcpe2MoS2EuaW50ZXJyKGYsZykpfX1pZighZi5sZW5ndGh8fC0xPT09Zi5pbmRleE9mKGEpKXt2YXIgdjtrfHwoaz1nKGYpLFxudj1oYShrKSx2LmV4cD1mLHYuZXhwcmVzc2lvbnM9W10sdi4kJHdhdGNoRGVsZWdhdGU9aCk7cmV0dXJuIHZ9bj0hIW47dmFyIHEsdCxLPTAsTT1bXSxIPVtdO3Y9Zi5sZW5ndGg7Zm9yKHZhciBFPVtdLEk9W107Szx2OylpZigtMSE9KHE9Zi5pbmRleE9mKGEsSykpJiYtMSE9KHQ9Zi5pbmRleE9mKGIscStsKSkpSyE9PXEmJkUucHVzaChnKGYuc3Vic3RyaW5nKEsscSkpKSxLPWYuc3Vic3RyaW5nKHErbCx0KSxNLnB1c2goSyksSC5wdXNoKGQoSyxKKSksSz10K20sSS5wdXNoKEUubGVuZ3RoKSxFLnB1c2goXCJcIik7ZWxzZXtLIT09diYmRS5wdXNoKGcoZi5zdWJzdHJpbmcoSykpKTticmVha31wJiYxPEUubGVuZ3RoJiZLYS50aHJvd05vY29uY2F0KGYpO2lmKCFrfHxNLmxlbmd0aCl7dmFyIERhPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9TS5sZW5ndGg7YjxjO2IrKyl7aWYobiYmeShhW2JdKSlyZXR1cm47RVtJW2JdXT1hW2JdfXJldHVybiBFLmpvaW4oXCJcIil9O3JldHVybiBTKGZ1bmN0aW9uKGEpe3ZhciBiPVxuMCxkPU0ubGVuZ3RoLGU9QXJyYXkoZCk7dHJ5e2Zvcig7YjxkO2IrKyllW2JdPUhbYl0oYSk7cmV0dXJuIERhKGUpfWNhdGNoKGcpe2MoS2EuaW50ZXJyKGYsZykpfX0se2V4cDpmLGV4cHJlc3Npb25zOk0sJCR3YXRjaERlbGVnYXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM7cmV0dXJuIGEuJHdhdGNoR3JvdXAoSCxmdW5jdGlvbihkLGUpe3ZhciBmPURhKGQpO3ooYikmJmIuY2FsbCh0aGlzLGYsZCE9PWU/YzpmLGEpO2M9Zn0pfX0pfX12YXIgbD1hLmxlbmd0aCxtPWIubGVuZ3RoLG49bmV3IFJlZ0V4cChhLnJlcGxhY2UoLy4vZyxmKSxcImdcIikscD1uZXcgUmVnRXhwKGIucmVwbGFjZSgvLi9nLGYpLFwiZ1wiKTtrLnN0YXJ0U3ltYm9sPWZ1bmN0aW9uKCl7cmV0dXJuIGF9O2suZW5kU3ltYm9sPWZ1bmN0aW9uKCl7cmV0dXJuIGJ9O3JldHVybiBrfV19ZnVuY3Rpb24gbGYoKXt0aGlzLiRnZXQ9W1wiJHJvb3RTY29wZVwiLFwiJHdpbmRvd1wiLFwiJHFcIixcIiQkcVwiLFwiJGJyb3dzZXJcIixmdW5jdGlvbihhLFxuYixkLGMsZSl7ZnVuY3Rpb24gZihmLGssbCxtKXtmdW5jdGlvbiBuKCl7cD9mLmFwcGx5KG51bGwsdSk6ZihyKX12YXIgcD00PGFyZ3VtZW50cy5sZW5ndGgsdT1wP3ZhLmNhbGwoYXJndW1lbnRzLDQpOltdLFI9Yi5zZXRJbnRlcnZhbCxxPWIuY2xlYXJJbnRlcnZhbCxyPTAsSj13KG0pJiYhbSx2PShKP2M6ZCkuZGVmZXIoKSxmYT12LnByb21pc2U7bD13KGwpP2w6MDtmYS4kJGludGVydmFsSWQ9UihmdW5jdGlvbigpe0o/ZS5kZWZlcihuKTphLiRldmFsQXN5bmMobik7di5ub3RpZnkocisrKTswPGwmJnI+PWwmJih2LnJlc29sdmUocikscShmYS4kJGludGVydmFsSWQpLGRlbGV0ZSBnW2ZhLiQkaW50ZXJ2YWxJZF0pO0p8fGEuJGFwcGx5KCl9LGspO2dbZmEuJCRpbnRlcnZhbElkXT12O3JldHVybiBmYX12YXIgZz17fTtmLmNhbmNlbD1mdW5jdGlvbihhKXtyZXR1cm4gYSYmYS4kJGludGVydmFsSWQgaW4gZz8oZ1thLiQkaW50ZXJ2YWxJZF0ucmVqZWN0KFwiY2FuY2VsZWRcIiksYi5jbGVhckludGVydmFsKGEuJCRpbnRlcnZhbElkKSxcbmRlbGV0ZSBnW2EuJCRpbnRlcnZhbElkXSwhMCk6ITF9O3JldHVybiBmfV19ZnVuY3Rpb24gZmMoYSl7YT1hLnNwbGl0KFwiL1wiKTtmb3IodmFyIGI9YS5sZW5ndGg7Yi0tOylhW2JdPXFiKGFbYl0pO3JldHVybiBhLmpvaW4oXCIvXCIpfWZ1bmN0aW9uIGpkKGEsYil7dmFyIGQ9WShhKTtiLiQkcHJvdG9jb2w9ZC5wcm90b2NvbDtiLiQkaG9zdD1kLmhvc3RuYW1lO2IuJCRwb3J0PVooZC5wb3J0KXx8aGdbZC5wcm90b2NvbF18fG51bGx9ZnVuY3Rpb24ga2QoYSxiKXt2YXIgZD1cIi9cIiE9PWEuY2hhckF0KDApO2QmJihhPVwiL1wiK2EpO3ZhciBjPVkoYSk7Yi4kJHBhdGg9ZGVjb2RlVVJJQ29tcG9uZW50KGQmJlwiL1wiPT09Yy5wYXRobmFtZS5jaGFyQXQoMCk/Yy5wYXRobmFtZS5zdWJzdHJpbmcoMSk6Yy5wYXRobmFtZSk7Yi4kJHNlYXJjaD1BYyhjLnNlYXJjaCk7Yi4kJGhhc2g9ZGVjb2RlVVJJQ29tcG9uZW50KGMuaGFzaCk7Yi4kJHBhdGgmJlwiL1wiIT1iLiQkcGF0aC5jaGFyQXQoMCkmJihiLiQkcGF0aD1cblwiL1wiK2IuJCRwYXRoKX1mdW5jdGlvbiBrYShhLGIpe2lmKDA9PT1iLmxhc3RJbmRleE9mKGEsMCkpcmV0dXJuIGIuc3Vic3RyKGEubGVuZ3RoKX1mdW5jdGlvbiBKYShhKXt2YXIgYj1hLmluZGV4T2YoXCIjXCIpO3JldHVybi0xPT1iP2E6YS5zdWJzdHIoMCxiKX1mdW5jdGlvbiBqYihhKXtyZXR1cm4gYS5yZXBsYWNlKC8oIy4rKXwjJC8sXCIkMVwiKX1mdW5jdGlvbiBnYyhhLGIsZCl7dGhpcy4kJGh0bWw1PSEwO2Q9ZHx8XCJcIjtqZChhLHRoaXMpO3RoaXMuJCRwYXJzZT1mdW5jdGlvbihhKXt2YXIgZD1rYShiLGEpO2lmKCFHKGQpKXRocm93IEdiKFwiaXB0aHByZnhcIixhLGIpO2tkKGQsdGhpcyk7dGhpcy4kJHBhdGh8fCh0aGlzLiQkcGF0aD1cIi9cIik7dGhpcy4kJGNvbXBvc2UoKX07dGhpcy4kJGNvbXBvc2U9ZnVuY3Rpb24oKXt2YXIgYT1UYih0aGlzLiQkc2VhcmNoKSxkPXRoaXMuJCRoYXNoP1wiI1wiK3FiKHRoaXMuJCRoYXNoKTpcIlwiO3RoaXMuJCR1cmw9ZmModGhpcy4kJHBhdGgpKyhhP1wiP1wiK1xuYTpcIlwiKStkO3RoaXMuJCRhYnNVcmw9Yit0aGlzLiQkdXJsLnN1YnN0cigxKX07dGhpcy4kJHBhcnNlTGlua1VybD1mdW5jdGlvbihjLGUpe2lmKGUmJlwiI1wiPT09ZVswXSlyZXR1cm4gdGhpcy5oYXNoKGUuc2xpY2UoMSkpLCEwO3ZhciBmLGc7dyhmPWthKGEsYykpPyhnPWYsZz13KGY9a2EoZCxmKSk/Yisoa2EoXCIvXCIsZil8fGYpOmErZyk6dyhmPWthKGIsYykpP2c9YitmOmI9PWMrXCIvXCImJihnPWIpO2cmJnRoaXMuJCRwYXJzZShnKTtyZXR1cm4hIWd9fWZ1bmN0aW9uIGhjKGEsYixkKXtqZChhLHRoaXMpO3RoaXMuJCRwYXJzZT1mdW5jdGlvbihjKXt2YXIgZT1rYShhLGMpfHxrYShiLGMpLGY7eShlKXx8XCIjXCIhPT1lLmNoYXJBdCgwKT90aGlzLiQkaHRtbDU/Zj1lOihmPVwiXCIseShlKSYmKGE9Yyx0aGlzLnJlcGxhY2UoKSkpOihmPWthKGQsZSkseShmKSYmKGY9ZSkpO2tkKGYsdGhpcyk7Yz10aGlzLiQkcGF0aDt2YXIgZT1hLGc9L15cXC9bQS1aXTooXFwvLiopLzswPT09Zi5sYXN0SW5kZXhPZihlLFxuMCkmJihmPWYucmVwbGFjZShlLFwiXCIpKTtnLmV4ZWMoZil8fChjPShmPWcuZXhlYyhjKSk/ZlsxXTpjKTt0aGlzLiQkcGF0aD1jO3RoaXMuJCRjb21wb3NlKCl9O3RoaXMuJCRjb21wb3NlPWZ1bmN0aW9uKCl7dmFyIGI9VGIodGhpcy4kJHNlYXJjaCksZT10aGlzLiQkaGFzaD9cIiNcIitxYih0aGlzLiQkaGFzaCk6XCJcIjt0aGlzLiQkdXJsPWZjKHRoaXMuJCRwYXRoKSsoYj9cIj9cIitiOlwiXCIpK2U7dGhpcy4kJGFic1VybD1hKyh0aGlzLiQkdXJsP2QrdGhpcy4kJHVybDpcIlwiKX07dGhpcy4kJHBhcnNlTGlua1VybD1mdW5jdGlvbihiLGQpe3JldHVybiBKYShhKT09SmEoYik/KHRoaXMuJCRwYXJzZShiKSwhMCk6ITF9fWZ1bmN0aW9uIGxkKGEsYixkKXt0aGlzLiQkaHRtbDU9ITA7aGMuYXBwbHkodGhpcyxhcmd1bWVudHMpO3RoaXMuJCRwYXJzZUxpbmtVcmw9ZnVuY3Rpb24oYyxlKXtpZihlJiZcIiNcIj09PWVbMF0pcmV0dXJuIHRoaXMuaGFzaChlLnNsaWNlKDEpKSwhMDt2YXIgZixnO2E9PUphKGMpP1xuZj1jOihnPWthKGIsYykpP2Y9YStkK2c6Yj09PWMrXCIvXCImJihmPWIpO2YmJnRoaXMuJCRwYXJzZShmKTtyZXR1cm4hIWZ9O3RoaXMuJCRjb21wb3NlPWZ1bmN0aW9uKCl7dmFyIGI9VGIodGhpcy4kJHNlYXJjaCksZT10aGlzLiQkaGFzaD9cIiNcIitxYih0aGlzLiQkaGFzaCk6XCJcIjt0aGlzLiQkdXJsPWZjKHRoaXMuJCRwYXRoKSsoYj9cIj9cIitiOlwiXCIpK2U7dGhpcy4kJGFic1VybD1hK2QrdGhpcy4kJHVybH19ZnVuY3Rpb24gSGIoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbYV19fWZ1bmN0aW9uIG1kKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGQpe2lmKHkoZCkpcmV0dXJuIHRoaXNbYV07dGhpc1thXT1iKGQpO3RoaXMuJCRjb21wb3NlKCk7cmV0dXJuIHRoaXN9fWZ1bmN0aW9uIHNmKCl7dmFyIGE9XCJcIixiPXtlbmFibGVkOiExLHJlcXVpcmVCYXNlOiEwLHJld3JpdGVMaW5rczohMH07dGhpcy5oYXNoUHJlZml4PWZ1bmN0aW9uKGIpe3JldHVybiB3KGIpPyhhPWIsdGhpcyk6XG5hfTt0aGlzLmh0bWw1TW9kZT1mdW5jdGlvbihhKXtyZXR1cm4gR2EoYSk/KGIuZW5hYmxlZD1hLHRoaXMpOkQoYSk/KEdhKGEuZW5hYmxlZCkmJihiLmVuYWJsZWQ9YS5lbmFibGVkKSxHYShhLnJlcXVpcmVCYXNlKSYmKGIucmVxdWlyZUJhc2U9YS5yZXF1aXJlQmFzZSksR2EoYS5yZXdyaXRlTGlua3MpJiYoYi5yZXdyaXRlTGlua3M9YS5yZXdyaXRlTGlua3MpLHRoaXMpOmJ9O3RoaXMuJGdldD1bXCIkcm9vdFNjb3BlXCIsXCIkYnJvd3NlclwiLFwiJHNuaWZmZXJcIixcIiRyb290RWxlbWVudFwiLFwiJHdpbmRvd1wiLGZ1bmN0aW9uKGQsYyxlLGYsZyl7ZnVuY3Rpb24gaChhLGIsZCl7dmFyIGU9bC51cmwoKSxmPWwuJCRzdGF0ZTt0cnl7Yy51cmwoYSxiLGQpLGwuJCRzdGF0ZT1jLnN0YXRlKCl9Y2F0Y2goZyl7dGhyb3cgbC51cmwoZSksbC4kJHN0YXRlPWYsZzt9fWZ1bmN0aW9uIGsoYSxiKXtkLiRicm9hZGNhc3QoXCIkbG9jYXRpb25DaGFuZ2VTdWNjZXNzXCIsbC5hYnNVcmwoKSxhLGwuJCRzdGF0ZSxcbmIpfXZhciBsLG07bT1jLmJhc2VIcmVmKCk7dmFyIG49Yy51cmwoKSxwO2lmKGIuZW5hYmxlZCl7aWYoIW0mJmIucmVxdWlyZUJhc2UpdGhyb3cgR2IoXCJub2Jhc2VcIik7cD1uLnN1YnN0cmluZygwLG4uaW5kZXhPZihcIi9cIixuLmluZGV4T2YoXCIvL1wiKSsyKSkrKG18fFwiL1wiKTttPWUuaGlzdG9yeT9nYzpsZH1lbHNlIHA9SmEobiksbT1oYzt2YXIgdT1wLnN1YnN0cigwLEphKHApLmxhc3RJbmRleE9mKFwiL1wiKSsxKTtsPW5ldyBtKHAsdSxcIiNcIithKTtsLiQkcGFyc2VMaW5rVXJsKG4sbik7bC4kJHN0YXRlPWMuc3RhdGUoKTt2YXIgUj0vXlxccyooamF2YXNjcmlwdHxtYWlsdG8pOi9pO2Yub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2lmKGIucmV3cml0ZUxpbmtzJiYhYS5jdHJsS2V5JiYhYS5tZXRhS2V5JiYhYS5zaGlmdEtleSYmMiE9YS53aGljaCYmMiE9YS5idXR0b24pe2Zvcih2YXIgZT1GKGEudGFyZ2V0KTtcImFcIiE9PXdhKGVbMF0pOylpZihlWzBdPT09ZlswXXx8IShlPWUucGFyZW50KCkpWzBdKXJldHVybjtcbnZhciBoPWUucHJvcChcImhyZWZcIiksaz1lLmF0dHIoXCJocmVmXCIpfHxlLmF0dHIoXCJ4bGluazpocmVmXCIpO0QoaCkmJlwiW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ11cIj09PWgudG9TdHJpbmcoKSYmKGg9WShoLmFuaW1WYWwpLmhyZWYpO1IudGVzdChoKXx8IWh8fGUuYXR0cihcInRhcmdldFwiKXx8YS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8IWwuJCRwYXJzZUxpbmtVcmwoaCxrKXx8KGEucHJldmVudERlZmF1bHQoKSxsLmFic1VybCgpIT1jLnVybCgpJiYoZC4kYXBwbHkoKSxnLmFuZ3VsYXJbXCJmZi02ODQyMDgtcHJldmVudERlZmF1bHRcIl09ITApKX19KTtqYihsLmFic1VybCgpKSE9amIobikmJmMudXJsKGwuYWJzVXJsKCksITApO3ZhciBxPSEwO2Mub25VcmxDaGFuZ2UoZnVuY3Rpb24oYSxiKXt5KGthKHUsYSkpP2cubG9jYXRpb24uaHJlZj1hOihkLiRldmFsQXN5bmMoZnVuY3Rpb24oKXt2YXIgYz1sLmFic1VybCgpLGU9bC4kJHN0YXRlLGY7YT1qYihhKTtsLiQkcGFyc2UoYSk7bC4kJHN0YXRlPVxuYjtmPWQuJGJyb2FkY2FzdChcIiRsb2NhdGlvbkNoYW5nZVN0YXJ0XCIsYSxjLGIsZSkuZGVmYXVsdFByZXZlbnRlZDtsLmFic1VybCgpPT09YSYmKGY/KGwuJCRwYXJzZShjKSxsLiQkc3RhdGU9ZSxoKGMsITEsZSkpOihxPSExLGsoYyxlKSkpfSksZC4kJHBoYXNlfHxkLiRkaWdlc3QoKSl9KTtkLiR3YXRjaChmdW5jdGlvbigpe3ZhciBhPWpiKGMudXJsKCkpLGI9amIobC5hYnNVcmwoKSksZj1jLnN0YXRlKCksZz1sLiQkcmVwbGFjZSxtPWEhPT1ifHxsLiQkaHRtbDUmJmUuaGlzdG9yeSYmZiE9PWwuJCRzdGF0ZTtpZihxfHxtKXE9ITEsZC4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7dmFyIGI9bC5hYnNVcmwoKSxjPWQuJGJyb2FkY2FzdChcIiRsb2NhdGlvbkNoYW5nZVN0YXJ0XCIsYixhLGwuJCRzdGF0ZSxmKS5kZWZhdWx0UHJldmVudGVkO2wuYWJzVXJsKCk9PT1iJiYoYz8obC4kJHBhcnNlKGEpLGwuJCRzdGF0ZT1mKToobSYmaChiLGcsZj09PWwuJCRzdGF0ZT9udWxsOmwuJCRzdGF0ZSksXG5rKGEsZikpKX0pO2wuJCRyZXBsYWNlPSExfSk7cmV0dXJuIGx9XX1mdW5jdGlvbiB0Zigpe3ZhciBhPSEwLGI9dGhpczt0aGlzLmRlYnVnRW5hYmxlZD1mdW5jdGlvbihiKXtyZXR1cm4gdyhiKT8oYT1iLHRoaXMpOmF9O3RoaXMuJGdldD1bXCIkd2luZG93XCIsZnVuY3Rpb24oZCl7ZnVuY3Rpb24gYyhhKXthIGluc3RhbmNlb2YgRXJyb3ImJihhLnN0YWNrP2E9YS5tZXNzYWdlJiYtMT09PWEuc3RhY2suaW5kZXhPZihhLm1lc3NhZ2UpP1wiRXJyb3I6IFwiK2EubWVzc2FnZStcIlxcblwiK2Euc3RhY2s6YS5zdGFjazphLnNvdXJjZVVSTCYmKGE9YS5tZXNzYWdlK1wiXFxuXCIrYS5zb3VyY2VVUkwrXCI6XCIrYS5saW5lKSk7cmV0dXJuIGF9ZnVuY3Rpb24gZShhKXt2YXIgYj1kLmNvbnNvbGV8fHt9LGU9YlthXXx8Yi5sb2d8fEE7YT0hMTt0cnl7YT0hIWUuYXBwbHl9Y2F0Y2goayl7fXJldHVybiBhP2Z1bmN0aW9uKCl7dmFyIGE9W107cShhcmd1bWVudHMsZnVuY3Rpb24oYil7YS5wdXNoKGMoYikpfSk7XG5yZXR1cm4gZS5hcHBseShiLGEpfTpmdW5jdGlvbihhLGIpe2UoYSxudWxsPT1iP1wiXCI6Yil9fXJldHVybntsb2c6ZShcImxvZ1wiKSxpbmZvOmUoXCJpbmZvXCIpLHdhcm46ZShcIndhcm5cIiksZXJyb3I6ZShcImVycm9yXCIpLGRlYnVnOmZ1bmN0aW9uKCl7dmFyIGM9ZShcImRlYnVnXCIpO3JldHVybiBmdW5jdGlvbigpe2EmJmMuYXBwbHkoYixhcmd1bWVudHMpfX0oKX19XX1mdW5jdGlvbiBTYShhLGIpe2lmKFwiX19kZWZpbmVHZXR0ZXJfX1wiPT09YXx8XCJfX2RlZmluZVNldHRlcl9fXCI9PT1hfHxcIl9fbG9va3VwR2V0dGVyX19cIj09PWF8fFwiX19sb29rdXBTZXR0ZXJfX1wiPT09YXx8XCJfX3Byb3RvX19cIj09PWEpdGhyb3cgWChcImlzZWNmbGRcIixiKTtyZXR1cm4gYX1mdW5jdGlvbiBpZyhhKXtyZXR1cm4gYStcIlwifWZ1bmN0aW9uIHJhKGEsYil7aWYoYSl7aWYoYS5jb25zdHJ1Y3Rvcj09PWEpdGhyb3cgWChcImlzZWNmblwiLGIpO2lmKGEud2luZG93PT09YSl0aHJvdyBYKFwiaXNlY3dpbmRvd1wiLGIpO2lmKGEuY2hpbGRyZW4mJlxuKGEubm9kZU5hbWV8fGEucHJvcCYmYS5hdHRyJiZhLmZpbmQpKXRocm93IFgoXCJpc2VjZG9tXCIsYik7aWYoYT09PU9iamVjdCl0aHJvdyBYKFwiaXNlY29ialwiLGIpO31yZXR1cm4gYX1mdW5jdGlvbiBuZChhLGIpe2lmKGEpe2lmKGEuY29uc3RydWN0b3I9PT1hKXRocm93IFgoXCJpc2VjZm5cIixiKTtpZihhPT09amd8fGE9PT1rZ3x8YT09PWxnKXRocm93IFgoXCJpc2VjZmZcIixiKTt9fWZ1bmN0aW9uIEliKGEsYil7aWYoYSYmKGE9PT0oMCkuY29uc3RydWN0b3J8fGE9PT0oITEpLmNvbnN0cnVjdG9yfHxhPT09XCJcIi5jb25zdHJ1Y3Rvcnx8YT09PXt9LmNvbnN0cnVjdG9yfHxhPT09W10uY29uc3RydWN0b3J8fGE9PT1GdW5jdGlvbi5jb25zdHJ1Y3RvcikpdGhyb3cgWChcImlzZWNhZlwiLGIpO31mdW5jdGlvbiBtZyhhLGIpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgYT9hOmJ9ZnVuY3Rpb24gb2QoYSxiKXtyZXR1cm5cInVuZGVmaW5lZFwiPT09dHlwZW9mIGE/YjpcInVuZGVmaW5lZFwiPT09XG50eXBlb2YgYj9hOmErYn1mdW5jdGlvbiBWKGEsYil7dmFyIGQsYztzd2l0Y2goYS50eXBlKXtjYXNlIHMuUHJvZ3JhbTpkPSEwO3EoYS5ib2R5LGZ1bmN0aW9uKGEpe1YoYS5leHByZXNzaW9uLGIpO2Q9ZCYmYS5leHByZXNzaW9uLmNvbnN0YW50fSk7YS5jb25zdGFudD1kO2JyZWFrO2Nhc2Ugcy5MaXRlcmFsOmEuY29uc3RhbnQ9ITA7YS50b1dhdGNoPVtdO2JyZWFrO2Nhc2Ugcy5VbmFyeUV4cHJlc3Npb246VihhLmFyZ3VtZW50LGIpO2EuY29uc3RhbnQ9YS5hcmd1bWVudC5jb25zdGFudDthLnRvV2F0Y2g9YS5hcmd1bWVudC50b1dhdGNoO2JyZWFrO2Nhc2Ugcy5CaW5hcnlFeHByZXNzaW9uOlYoYS5sZWZ0LGIpO1YoYS5yaWdodCxiKTthLmNvbnN0YW50PWEubGVmdC5jb25zdGFudCYmYS5yaWdodC5jb25zdGFudDthLnRvV2F0Y2g9YS5sZWZ0LnRvV2F0Y2guY29uY2F0KGEucmlnaHQudG9XYXRjaCk7YnJlYWs7Y2FzZSBzLkxvZ2ljYWxFeHByZXNzaW9uOlYoYS5sZWZ0LGIpO1YoYS5yaWdodCxcbmIpO2EuY29uc3RhbnQ9YS5sZWZ0LmNvbnN0YW50JiZhLnJpZ2h0LmNvbnN0YW50O2EudG9XYXRjaD1hLmNvbnN0YW50P1tdOlthXTticmVhaztjYXNlIHMuQ29uZGl0aW9uYWxFeHByZXNzaW9uOlYoYS50ZXN0LGIpO1YoYS5hbHRlcm5hdGUsYik7VihhLmNvbnNlcXVlbnQsYik7YS5jb25zdGFudD1hLnRlc3QuY29uc3RhbnQmJmEuYWx0ZXJuYXRlLmNvbnN0YW50JiZhLmNvbnNlcXVlbnQuY29uc3RhbnQ7YS50b1dhdGNoPWEuY29uc3RhbnQ/W106W2FdO2JyZWFrO2Nhc2Ugcy5JZGVudGlmaWVyOmEuY29uc3RhbnQ9ITE7YS50b1dhdGNoPVthXTticmVhaztjYXNlIHMuTWVtYmVyRXhwcmVzc2lvbjpWKGEub2JqZWN0LGIpO2EuY29tcHV0ZWQmJlYoYS5wcm9wZXJ0eSxiKTthLmNvbnN0YW50PWEub2JqZWN0LmNvbnN0YW50JiYoIWEuY29tcHV0ZWR8fGEucHJvcGVydHkuY29uc3RhbnQpO2EudG9XYXRjaD1bYV07YnJlYWs7Y2FzZSBzLkNhbGxFeHByZXNzaW9uOmQ9YS5maWx0ZXI/IWIoYS5jYWxsZWUubmFtZSkuJHN0YXRlZnVsOlxuITE7Yz1bXTtxKGEuYXJndW1lbnRzLGZ1bmN0aW9uKGEpe1YoYSxiKTtkPWQmJmEuY29uc3RhbnQ7YS5jb25zdGFudHx8Yy5wdXNoLmFwcGx5KGMsYS50b1dhdGNoKX0pO2EuY29uc3RhbnQ9ZDthLnRvV2F0Y2g9YS5maWx0ZXImJiFiKGEuY2FsbGVlLm5hbWUpLiRzdGF0ZWZ1bD9jOlthXTticmVhaztjYXNlIHMuQXNzaWdubWVudEV4cHJlc3Npb246VihhLmxlZnQsYik7VihhLnJpZ2h0LGIpO2EuY29uc3RhbnQ9YS5sZWZ0LmNvbnN0YW50JiZhLnJpZ2h0LmNvbnN0YW50O2EudG9XYXRjaD1bYV07YnJlYWs7Y2FzZSBzLkFycmF5RXhwcmVzc2lvbjpkPSEwO2M9W107cShhLmVsZW1lbnRzLGZ1bmN0aW9uKGEpe1YoYSxiKTtkPWQmJmEuY29uc3RhbnQ7YS5jb25zdGFudHx8Yy5wdXNoLmFwcGx5KGMsYS50b1dhdGNoKX0pO2EuY29uc3RhbnQ9ZDthLnRvV2F0Y2g9YzticmVhaztjYXNlIHMuT2JqZWN0RXhwcmVzc2lvbjpkPSEwO2M9W107cShhLnByb3BlcnRpZXMsZnVuY3Rpb24oYSl7VihhLnZhbHVlLFxuYik7ZD1kJiZhLnZhbHVlLmNvbnN0YW50JiYhYS5jb21wdXRlZDthLnZhbHVlLmNvbnN0YW50fHxjLnB1c2guYXBwbHkoYyxhLnZhbHVlLnRvV2F0Y2gpfSk7YS5jb25zdGFudD1kO2EudG9XYXRjaD1jO2JyZWFrO2Nhc2Ugcy5UaGlzRXhwcmVzc2lvbjphLmNvbnN0YW50PSExO2EudG9XYXRjaD1bXTticmVhaztjYXNlIHMuTG9jYWxzRXhwcmVzc2lvbjphLmNvbnN0YW50PSExLGEudG9XYXRjaD1bXX19ZnVuY3Rpb24gcGQoYSl7aWYoMT09YS5sZW5ndGgpe2E9YVswXS5leHByZXNzaW9uO3ZhciBiPWEudG9XYXRjaDtyZXR1cm4gMSE9PWIubGVuZ3RoP2I6YlswXSE9PWE/Yjp2b2lkIDB9fWZ1bmN0aW9uIHFkKGEpe3JldHVybiBhLnR5cGU9PT1zLklkZW50aWZpZXJ8fGEudHlwZT09PXMuTWVtYmVyRXhwcmVzc2lvbn1mdW5jdGlvbiByZChhKXtpZigxPT09YS5ib2R5Lmxlbmd0aCYmcWQoYS5ib2R5WzBdLmV4cHJlc3Npb24pKXJldHVybnt0eXBlOnMuQXNzaWdubWVudEV4cHJlc3Npb24sXG5sZWZ0OmEuYm9keVswXS5leHByZXNzaW9uLHJpZ2h0Ont0eXBlOnMuTkdWYWx1ZVBhcmFtZXRlcn0sb3BlcmF0b3I6XCI9XCJ9fWZ1bmN0aW9uIHNkKGEpe3JldHVybiAwPT09YS5ib2R5Lmxlbmd0aHx8MT09PWEuYm9keS5sZW5ndGgmJihhLmJvZHlbMF0uZXhwcmVzc2lvbi50eXBlPT09cy5MaXRlcmFsfHxhLmJvZHlbMF0uZXhwcmVzc2lvbi50eXBlPT09cy5BcnJheUV4cHJlc3Npb258fGEuYm9keVswXS5leHByZXNzaW9uLnR5cGU9PT1zLk9iamVjdEV4cHJlc3Npb24pfWZ1bmN0aW9uIHRkKGEsYil7dGhpcy5hc3RCdWlsZGVyPWE7dGhpcy4kZmlsdGVyPWJ9ZnVuY3Rpb24gdWQoYSxiKXt0aGlzLmFzdEJ1aWxkZXI9YTt0aGlzLiRmaWx0ZXI9Yn1mdW5jdGlvbiBKYihhKXtyZXR1cm5cImNvbnN0cnVjdG9yXCI9PWF9ZnVuY3Rpb24gaWMoYSl7cmV0dXJuIHooYS52YWx1ZU9mKT9hLnZhbHVlT2YoKTpuZy5jYWxsKGEpfWZ1bmN0aW9uIHVmKCl7dmFyIGE9VSgpLGI9VSgpLGQ9e1widHJ1ZVwiOiEwLFxuXCJmYWxzZVwiOiExLFwibnVsbFwiOm51bGwsdW5kZWZpbmVkOnZvaWQgMH0sYyxlO3RoaXMuYWRkTGl0ZXJhbD1mdW5jdGlvbihhLGIpe2RbYV09Yn07dGhpcy5zZXRJZGVudGlmaWVyRm5zPWZ1bmN0aW9uKGEsYil7Yz1hO2U9YjtyZXR1cm4gdGhpc307dGhpcy4kZ2V0PVtcIiRmaWx0ZXJcIixmdW5jdGlvbihmKXtmdW5jdGlvbiBnKGMsZCxlKXt2YXIgZyxrLEg7ZT1lfHxKO3N3aXRjaCh0eXBlb2YgYyl7Y2FzZSBcInN0cmluZ1wiOkg9Yz1jLnRyaW0oKTt2YXIgRT1lP2I6YTtnPUVbSF07aWYoIWcpe1wiOlwiPT09Yy5jaGFyQXQoMCkmJlwiOlwiPT09Yy5jaGFyQXQoMSkmJihrPSEwLGM9Yy5zdWJzdHJpbmcoMikpO2c9ZT9yOkI7dmFyIHE9bmV3IGpjKGcpO2c9KG5ldyBrYyhxLGYsZykpLnBhcnNlKGMpO2cuY29uc3RhbnQ/Zy4kJHdhdGNoRGVsZWdhdGU9cDprP2cuJCR3YXRjaERlbGVnYXRlPWcubGl0ZXJhbD9uOm06Zy5pbnB1dHMmJihnLiQkd2F0Y2hEZWxlZ2F0ZT1sKTtlJiYoZz1oKGcpKTtFW0hdPVxuZ31yZXR1cm4gdShnLGQpO2Nhc2UgXCJmdW5jdGlvblwiOnJldHVybiB1KGMsZCk7ZGVmYXVsdDpyZXR1cm4gdShBLGQpfX1mdW5jdGlvbiBoKGEpe2Z1bmN0aW9uIGIoYyxkLGUsZil7dmFyIGc9SjtKPSEwO3RyeXtyZXR1cm4gYShjLGQsZSxmKX1maW5hbGx5e0o9Z319aWYoIWEpcmV0dXJuIGE7Yi4kJHdhdGNoRGVsZWdhdGU9YS4kJHdhdGNoRGVsZWdhdGU7Yi5hc3NpZ249aChhLmFzc2lnbik7Yi5jb25zdGFudD1hLmNvbnN0YW50O2IubGl0ZXJhbD1hLmxpdGVyYWw7Zm9yKHZhciBjPTA7YS5pbnB1dHMmJmM8YS5pbnB1dHMubGVuZ3RoOysrYylhLmlucHV0c1tjXT1oKGEuaW5wdXRzW2NdKTtiLmlucHV0cz1hLmlucHV0cztyZXR1cm4gYn1mdW5jdGlvbiBrKGEsYil7cmV0dXJuIG51bGw9PWF8fG51bGw9PWI/YT09PWI6XCJvYmplY3RcIj09PXR5cGVvZiBhJiYoYT1pYyhhKSxcIm9iamVjdFwiPT09dHlwZW9mIGEpPyExOmE9PT1ifHxhIT09YSYmYiE9PWJ9ZnVuY3Rpb24gbChhLGIsYyxkLFxuZSl7dmFyIGY9ZC5pbnB1dHMsZztpZigxPT09Zi5sZW5ndGgpe3ZhciBoPWssZj1mWzBdO3JldHVybiBhLiR3YXRjaChmdW5jdGlvbihhKXt2YXIgYj1mKGEpO2soYixoKXx8KGc9ZChhLHZvaWQgMCx2b2lkIDAsW2JdKSxoPWImJmljKGIpKTtyZXR1cm4gZ30sYixjLGUpfWZvcih2YXIgbD1bXSxtPVtdLHA9MCxuPWYubGVuZ3RoO3A8bjtwKyspbFtwXT1rLG1bcF09bnVsbDtyZXR1cm4gYS4kd2F0Y2goZnVuY3Rpb24oYSl7Zm9yKHZhciBiPSExLGM9MCxlPWYubGVuZ3RoO2M8ZTtjKyspe3ZhciBoPWZbY10oYSk7aWYoYnx8KGI9IWsoaCxsW2NdKSkpbVtjXT1oLGxbY109aCYmaWMoaCl9YiYmKGc9ZChhLHZvaWQgMCx2b2lkIDAsbSkpO3JldHVybiBnfSxiLGMsZSl9ZnVuY3Rpb24gbShhLGIsYyxkKXt2YXIgZSxmO3JldHVybiBlPWEuJHdhdGNoKGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpfSxmdW5jdGlvbihhLGMsZCl7Zj1hO3ooYikmJmIuYXBwbHkodGhpcyxhcmd1bWVudHMpO3coYSkmJlxuZC4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKXt3KGYpJiZlKCl9KX0sYyl9ZnVuY3Rpb24gbihhLGIsYyxkKXtmdW5jdGlvbiBlKGEpe3ZhciBiPSEwO3EoYSxmdW5jdGlvbihhKXt3KGEpfHwoYj0hMSl9KTtyZXR1cm4gYn12YXIgZixnO3JldHVybiBmPWEuJHdhdGNoKGZ1bmN0aW9uKGEpe3JldHVybiBkKGEpfSxmdW5jdGlvbihhLGMsZCl7Zz1hO3ooYikmJmIuY2FsbCh0aGlzLGEsYyxkKTtlKGEpJiZkLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpe2UoZykmJmYoKX0pfSxjKX1mdW5jdGlvbiBwKGEsYixjLGQpe3ZhciBlO3JldHVybiBlPWEuJHdhdGNoKGZ1bmN0aW9uKGEpe2UoKTtyZXR1cm4gZChhKX0sYixjKX1mdW5jdGlvbiB1KGEsYil7aWYoIWIpcmV0dXJuIGE7dmFyIGM9YS4kJHdhdGNoRGVsZWdhdGUsZD0hMSxjPWMhPT1uJiZjIT09bT9mdW5jdGlvbihjLGUsZixnKXtmPWQmJmc/Z1swXTphKGMsZSxmLGcpO3JldHVybiBiKGYsYyxlKX06ZnVuY3Rpb24oYyxkLGUsZil7ZT1hKGMsXG5kLGUsZik7Yz1iKGUsYyxkKTtyZXR1cm4gdyhlKT9jOmV9O2EuJCR3YXRjaERlbGVnYXRlJiZhLiQkd2F0Y2hEZWxlZ2F0ZSE9PWw/Yy4kJHdhdGNoRGVsZWdhdGU9YS4kJHdhdGNoRGVsZWdhdGU6Yi4kc3RhdGVmdWx8fChjLiQkd2F0Y2hEZWxlZ2F0ZT1sLGQ9IWEuaW5wdXRzLGMuaW5wdXRzPWEuaW5wdXRzP2EuaW5wdXRzOlthXSk7cmV0dXJuIGN9dmFyIFI9QmEoKS5ub1Vuc2FmZUV2YWwsQj17Y3NwOlIsZXhwZW5zaXZlQ2hlY2tzOiExLGxpdGVyYWxzOnBhKGQpLGlzSWRlbnRpZmllclN0YXJ0OnooYykmJmMsaXNJZGVudGlmaWVyQ29udGludWU6eihlKSYmZX0scj17Y3NwOlIsZXhwZW5zaXZlQ2hlY2tzOiEwLGxpdGVyYWxzOnBhKGQpLGlzSWRlbnRpZmllclN0YXJ0OnooYykmJmMsaXNJZGVudGlmaWVyQ29udGludWU6eihlKSYmZX0sSj0hMTtnLiQkcnVubmluZ0V4cGVuc2l2ZUNoZWNrcz1mdW5jdGlvbigpe3JldHVybiBKfTtyZXR1cm4gZ31dfWZ1bmN0aW9uIHdmKCl7dGhpcy4kZ2V0PVxuW1wiJHJvb3RTY29wZVwiLFwiJGV4Y2VwdGlvbkhhbmRsZXJcIixmdW5jdGlvbihhLGIpe3JldHVybiB2ZChmdW5jdGlvbihiKXthLiRldmFsQXN5bmMoYil9LGIpfV19ZnVuY3Rpb24geGYoKXt0aGlzLiRnZXQ9W1wiJGJyb3dzZXJcIixcIiRleGNlcHRpb25IYW5kbGVyXCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gdmQoZnVuY3Rpb24oYil7YS5kZWZlcihiKX0sYil9XX1mdW5jdGlvbiB2ZChhLGIpe2Z1bmN0aW9uIGQoKXt0aGlzLiQkc3RhdGU9e3N0YXR1czowfX1mdW5jdGlvbiBjKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2IuY2FsbChhLGMpfX1mdW5jdGlvbiBlKGMpeyFjLnByb2Nlc3NTY2hlZHVsZWQmJmMucGVuZGluZyYmKGMucHJvY2Vzc1NjaGVkdWxlZD0hMCxhKGZ1bmN0aW9uKCl7dmFyIGEsZCxlO2U9Yy5wZW5kaW5nO2MucHJvY2Vzc1NjaGVkdWxlZD0hMTtjLnBlbmRpbmc9dm9pZCAwO2Zvcih2YXIgZj0wLGc9ZS5sZW5ndGg7ZjxnOysrZil7ZD1lW2ZdWzBdO2E9ZVtmXVtjLnN0YXR1c107XG50cnl7eihhKT9kLnJlc29sdmUoYShjLnZhbHVlKSk6MT09PWMuc3RhdHVzP2QucmVzb2x2ZShjLnZhbHVlKTpkLnJlamVjdChjLnZhbHVlKX1jYXRjaChoKXtkLnJlamVjdChoKSxiKGgpfX19KSl9ZnVuY3Rpb24gZigpe3RoaXMucHJvbWlzZT1uZXcgZH12YXIgZz1OKFwiJHFcIixUeXBlRXJyb3IpLGg9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgZjthLnJlc29sdmU9YyhhLGEucmVzb2x2ZSk7YS5yZWplY3Q9YyhhLGEucmVqZWN0KTthLm5vdGlmeT1jKGEsYS5ub3RpZnkpO3JldHVybiBhfTtTKGQucHJvdG90eXBlLHt0aGVuOmZ1bmN0aW9uKGEsYixjKXtpZih5KGEpJiZ5KGIpJiZ5KGMpKXJldHVybiB0aGlzO3ZhciBkPW5ldyBmO3RoaXMuJCRzdGF0ZS5wZW5kaW5nPXRoaXMuJCRzdGF0ZS5wZW5kaW5nfHxbXTt0aGlzLiQkc3RhdGUucGVuZGluZy5wdXNoKFtkLGEsYixjXSk7MDx0aGlzLiQkc3RhdGUuc3RhdHVzJiZlKHRoaXMuJCRzdGF0ZSk7cmV0dXJuIGQucHJvbWlzZX0sXCJjYXRjaFwiOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnRoZW4obnVsbCxcbmEpfSxcImZpbmFsbHlcIjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24oYil7cmV0dXJuIGwoYiwhMCxhKX0sZnVuY3Rpb24oYil7cmV0dXJuIGwoYiwhMSxhKX0sYil9fSk7UyhmLnByb3RvdHlwZSx7cmVzb2x2ZTpmdW5jdGlvbihhKXt0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXN8fChhPT09dGhpcy5wcm9taXNlP3RoaXMuJCRyZWplY3QoZyhcInFjeWNsZVwiLGEpKTp0aGlzLiQkcmVzb2x2ZShhKSl9LCQkcmVzb2x2ZTpmdW5jdGlvbihhKXtmdW5jdGlvbiBkKGEpe2t8fChrPSEwLGguJCRyZXNvbHZlKGEpKX1mdW5jdGlvbiBmKGEpe2t8fChrPSEwLGguJCRyZWplY3QoYSkpfXZhciBnLGg9dGhpcyxrPSExO3RyeXtpZihEKGEpfHx6KGEpKWc9YSYmYS50aGVuO3ooZyk/KHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cz0tMSxnLmNhbGwoYSxkLGYsYyh0aGlzLHRoaXMubm90aWZ5KSkpOih0aGlzLnByb21pc2UuJCRzdGF0ZS52YWx1ZT1hLHRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cz1cbjEsZSh0aGlzLnByb21pc2UuJCRzdGF0ZSkpfWNhdGNoKGwpe2YobCksYihsKX19LHJlamVjdDpmdW5jdGlvbihhKXt0aGlzLnByb21pc2UuJCRzdGF0ZS5zdGF0dXN8fHRoaXMuJCRyZWplY3QoYSl9LCQkcmVqZWN0OmZ1bmN0aW9uKGEpe3RoaXMucHJvbWlzZS4kJHN0YXRlLnZhbHVlPWE7dGhpcy5wcm9taXNlLiQkc3RhdGUuc3RhdHVzPTI7ZSh0aGlzLnByb21pc2UuJCRzdGF0ZSl9LG5vdGlmeTpmdW5jdGlvbihjKXt2YXIgZD10aGlzLnByb21pc2UuJCRzdGF0ZS5wZW5kaW5nOzA+PXRoaXMucHJvbWlzZS4kJHN0YXRlLnN0YXR1cyYmZCYmZC5sZW5ndGgmJmEoZnVuY3Rpb24oKXtmb3IodmFyIGEsZSxmPTAsZz1kLmxlbmd0aDtmPGc7ZisrKXtlPWRbZl1bMF07YT1kW2ZdWzNdO3RyeXtlLm5vdGlmeSh6KGEpP2EoYyk6Yyl9Y2F0Y2goaCl7YihoKX19fSl9fSk7dmFyIGs9ZnVuY3Rpb24oYSxiKXt2YXIgYz1uZXcgZjtiP2MucmVzb2x2ZShhKTpjLnJlamVjdChhKTtyZXR1cm4gYy5wcm9taXNlfSxcbmw9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPW51bGw7dHJ5e3ooYykmJihkPWMoKSl9Y2F0Y2goZSl7cmV0dXJuIGsoZSwhMSl9cmV0dXJuIGQmJnooZC50aGVuKT9kLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gayhhLGIpfSxmdW5jdGlvbihhKXtyZXR1cm4gayhhLCExKX0pOmsoYSxiKX0sbT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1uZXcgZjtlLnJlc29sdmUoYSk7cmV0dXJuIGUucHJvbWlzZS50aGVuKGIsYyxkKX0sbj1mdW5jdGlvbihhKXtpZigheihhKSl0aHJvdyBnKFwibm9yc2x2clwiLGEpO3ZhciBiPW5ldyBmO2EoZnVuY3Rpb24oYSl7Yi5yZXNvbHZlKGEpfSxmdW5jdGlvbihhKXtiLnJlamVjdChhKX0pO3JldHVybiBiLnByb21pc2V9O24ucHJvdG90eXBlPWQucHJvdG90eXBlO24uZGVmZXI9aDtuLnJlamVjdD1mdW5jdGlvbihhKXt2YXIgYj1uZXcgZjtiLnJlamVjdChhKTtyZXR1cm4gYi5wcm9taXNlfTtuLndoZW49bTtuLnJlc29sdmU9bTtuLmFsbD1mdW5jdGlvbihhKXt2YXIgYj1cbm5ldyBmLGM9MCxkPUwoYSk/W106e307cShhLGZ1bmN0aW9uKGEsZSl7YysrO20oYSkudGhlbihmdW5jdGlvbihhKXtkLmhhc093blByb3BlcnR5KGUpfHwoZFtlXT1hLC0tY3x8Yi5yZXNvbHZlKGQpKX0sZnVuY3Rpb24oYSl7ZC5oYXNPd25Qcm9wZXJ0eShlKXx8Yi5yZWplY3QoYSl9KX0pOzA9PT1jJiZiLnJlc29sdmUoZCk7cmV0dXJuIGIucHJvbWlzZX07bi5yYWNlPWZ1bmN0aW9uKGEpe3ZhciBiPWgoKTtxKGEsZnVuY3Rpb24oYSl7bShhKS50aGVuKGIucmVzb2x2ZSxiLnJlamVjdCl9KTtyZXR1cm4gYi5wcm9taXNlfTtyZXR1cm4gbn1mdW5jdGlvbiBHZigpe3RoaXMuJGdldD1bXCIkd2luZG93XCIsXCIkdGltZW91dFwiLGZ1bmN0aW9uKGEsYil7dmFyIGQ9YS5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGEud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lLGM9YS5jYW5jZWxBbmltYXRpb25GcmFtZXx8YS53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZXx8YS53ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUsXG5lPSEhZCxmPWU/ZnVuY3Rpb24oYSl7dmFyIGI9ZChhKTtyZXR1cm4gZnVuY3Rpb24oKXtjKGIpfX06ZnVuY3Rpb24oYSl7dmFyIGM9YihhLDE2LjY2LCExKTtyZXR1cm4gZnVuY3Rpb24oKXtiLmNhbmNlbChjKX19O2Yuc3VwcG9ydGVkPWU7cmV0dXJuIGZ9XX1mdW5jdGlvbiB2Zigpe2Z1bmN0aW9uIGEoYSl7ZnVuY3Rpb24gYigpe3RoaXMuJCR3YXRjaGVycz10aGlzLiQkbmV4dFNpYmxpbmc9dGhpcy4kJGNoaWxkSGVhZD10aGlzLiQkY2hpbGRUYWlsPW51bGw7dGhpcy4kJGxpc3RlbmVycz17fTt0aGlzLiQkbGlzdGVuZXJDb3VudD17fTt0aGlzLiQkd2F0Y2hlcnNDb3VudD0wO3RoaXMuJGlkPSsrcGI7dGhpcy4kJENoaWxkU2NvcGU9bnVsbH1iLnByb3RvdHlwZT1hO3JldHVybiBifXZhciBiPTEwLGQ9TihcIiRyb290U2NvcGVcIiksYz1udWxsLGU9bnVsbDt0aGlzLmRpZ2VzdFR0bD1mdW5jdGlvbihhKXthcmd1bWVudHMubGVuZ3RoJiYoYj1hKTtyZXR1cm4gYn07dGhpcy4kZ2V0PVxuW1wiJGV4Y2VwdGlvbkhhbmRsZXJcIixcIiRwYXJzZVwiLFwiJGJyb3dzZXJcIixmdW5jdGlvbihmLGcsaCl7ZnVuY3Rpb24gayhhKXthLmN1cnJlbnRTY29wZS4kJGRlc3Ryb3llZD0hMH1mdW5jdGlvbiBsKGEpezk9PT1FYSYmKGEuJCRjaGlsZEhlYWQmJmwoYS4kJGNoaWxkSGVhZCksYS4kJG5leHRTaWJsaW5nJiZsKGEuJCRuZXh0U2libGluZykpO2EuJHBhcmVudD1hLiQkbmV4dFNpYmxpbmc9YS4kJHByZXZTaWJsaW5nPWEuJCRjaGlsZEhlYWQ9YS4kJGNoaWxkVGFpbD1hLiRyb290PWEuJCR3YXRjaGVycz1udWxsfWZ1bmN0aW9uIG0oKXt0aGlzLiRpZD0rK3BiO3RoaXMuJCRwaGFzZT10aGlzLiRwYXJlbnQ9dGhpcy4kJHdhdGNoZXJzPXRoaXMuJCRuZXh0U2libGluZz10aGlzLiQkcHJldlNpYmxpbmc9dGhpcy4kJGNoaWxkSGVhZD10aGlzLiQkY2hpbGRUYWlsPW51bGw7dGhpcy4kcm9vdD10aGlzO3RoaXMuJCRkZXN0cm95ZWQ9ITE7dGhpcy4kJGxpc3RlbmVycz17fTt0aGlzLiQkbGlzdGVuZXJDb3VudD1cbnt9O3RoaXMuJCR3YXRjaGVyc0NvdW50PTA7dGhpcy4kJGlzb2xhdGVCaW5kaW5ncz1udWxsfWZ1bmN0aW9uIG4oYSl7aWYoSi4kJHBoYXNlKXRocm93IGQoXCJpbnByb2dcIixKLiQkcGhhc2UpO0ouJCRwaGFzZT1hfWZ1bmN0aW9uIHAoYSxiKXtkbyBhLiQkd2F0Y2hlcnNDb3VudCs9Yjt3aGlsZShhPWEuJHBhcmVudCl9ZnVuY3Rpb24gdShhLGIsYyl7ZG8gYS4kJGxpc3RlbmVyQ291bnRbY10tPWIsMD09PWEuJCRsaXN0ZW5lckNvdW50W2NdJiZkZWxldGUgYS4kJGxpc3RlbmVyQ291bnRbY107d2hpbGUoYT1hLiRwYXJlbnQpfWZ1bmN0aW9uIHMoKXt9ZnVuY3Rpb24gQigpe2Zvcig7dC5sZW5ndGg7KXRyeXt0LnNoaWZ0KCkoKX1jYXRjaChhKXtmKGEpfWU9bnVsbH1mdW5jdGlvbiByKCl7bnVsbD09PWUmJihlPWguZGVmZXIoZnVuY3Rpb24oKXtKLiRhcHBseShCKX0pKX1tLnByb3RvdHlwZT17Y29uc3RydWN0b3I6bSwkbmV3OmZ1bmN0aW9uKGIsYyl7dmFyIGQ7Yz1jfHx0aGlzO2I/XG4oZD1uZXcgbSxkLiRyb290PXRoaXMuJHJvb3QpOih0aGlzLiQkQ2hpbGRTY29wZXx8KHRoaXMuJCRDaGlsZFNjb3BlPWEodGhpcykpLGQ9bmV3IHRoaXMuJCRDaGlsZFNjb3BlKTtkLiRwYXJlbnQ9YztkLiQkcHJldlNpYmxpbmc9Yy4kJGNoaWxkVGFpbDtjLiQkY2hpbGRIZWFkPyhjLiQkY2hpbGRUYWlsLiQkbmV4dFNpYmxpbmc9ZCxjLiQkY2hpbGRUYWlsPWQpOmMuJCRjaGlsZEhlYWQ9Yy4kJGNoaWxkVGFpbD1kOyhifHxjIT10aGlzKSYmZC4kb24oXCIkZGVzdHJveVwiLGspO3JldHVybiBkfSwkd2F0Y2g6ZnVuY3Rpb24oYSxiLGQsZSl7dmFyIGY9ZyhhKTtpZihmLiQkd2F0Y2hEZWxlZ2F0ZSlyZXR1cm4gZi4kJHdhdGNoRGVsZWdhdGUodGhpcyxiLGQsZixhKTt2YXIgaD10aGlzLGs9aC4kJHdhdGNoZXJzLGw9e2ZuOmIsbGFzdDpzLGdldDpmLGV4cDplfHxhLGVxOiEhZH07Yz1udWxsO3ooYil8fChsLmZuPUEpO2t8fChrPWguJCR3YXRjaGVycz1bXSk7ay51bnNoaWZ0KGwpO3AodGhpcyxcbjEpO3JldHVybiBmdW5jdGlvbigpezA8PVphKGssbCkmJnAoaCwtMSk7Yz1udWxsfX0sJHdhdGNoR3JvdXA6ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7aD0hMTtrPyhrPSExLGIoZSxlLGcpKTpiKGUsZCxnKX12YXIgZD1BcnJheShhLmxlbmd0aCksZT1BcnJheShhLmxlbmd0aCksZj1bXSxnPXRoaXMsaD0hMSxrPSEwO2lmKCFhLmxlbmd0aCl7dmFyIGw9ITA7Zy4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7bCYmYihlLGUsZyl9KTtyZXR1cm4gZnVuY3Rpb24oKXtsPSExfX1pZigxPT09YS5sZW5ndGgpcmV0dXJuIHRoaXMuJHdhdGNoKGFbMF0sZnVuY3Rpb24oYSxjLGYpe2VbMF09YTtkWzBdPWM7YihlLGE9PT1jP2U6ZCxmKX0pO3EoYSxmdW5jdGlvbihhLGIpe3ZhciBrPWcuJHdhdGNoKGEsZnVuY3Rpb24oYSxmKXtlW2JdPWE7ZFtiXT1mO2h8fChoPSEwLGcuJGV2YWxBc3luYyhjKSl9KTtmLnB1c2goayl9KTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IoO2YubGVuZ3RoOylmLnNoaWZ0KCkoKX19LFxuJHdhdGNoQ29sbGVjdGlvbjpmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7ZT1hO3ZhciBiLGQsZyxoO2lmKCF5KGUpKXtpZihEKGUpKWlmKHRhKGUpKWZvcihmIT09biYmKGY9bix1PWYubGVuZ3RoPTAsbCsrKSxhPWUubGVuZ3RoLHUhPT1hJiYobCsrLGYubGVuZ3RoPXU9YSksYj0wO2I8YTtiKyspaD1mW2JdLGc9ZVtiXSxkPWghPT1oJiZnIT09ZyxkfHxoPT09Z3x8KGwrKyxmW2JdPWcpO2Vsc2V7ZiE9PXAmJihmPXA9e30sdT0wLGwrKyk7YT0wO2ZvcihiIGluIGUpdWEuY2FsbChlLGIpJiYoYSsrLGc9ZVtiXSxoPWZbYl0sYiBpbiBmPyhkPWghPT1oJiZnIT09ZyxkfHxoPT09Z3x8KGwrKyxmW2JdPWcpKToodSsrLGZbYl09ZyxsKyspKTtpZih1PmEpZm9yKGIgaW4gbCsrLGYpdWEuY2FsbChlLGIpfHwodS0tLGRlbGV0ZSBmW2JdKX1lbHNlIGYhPT1lJiYoZj1lLGwrKyk7cmV0dXJuIGx9fWMuJHN0YXRlZnVsPSEwO3ZhciBkPXRoaXMsZSxmLGgsaz0xPGIubGVuZ3RoLGw9MCxtPVxuZyhhLGMpLG49W10scD17fSxyPSEwLHU9MDtyZXR1cm4gdGhpcy4kd2F0Y2gobSxmdW5jdGlvbigpe3I/KHI9ITEsYihlLGUsZCkpOmIoZSxoLGQpO2lmKGspaWYoRChlKSlpZih0YShlKSl7aD1BcnJheShlLmxlbmd0aCk7Zm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKyspaFthXT1lW2FdfWVsc2UgZm9yKGEgaW4gaD17fSxlKXVhLmNhbGwoZSxhKSYmKGhbYV09ZVthXSk7ZWxzZSBoPWV9KX0sJGRpZ2VzdDpmdW5jdGlvbigpe3ZhciBhLGcsayxsLG0scCx1LHIscT1iLHQseT1bXSxBLEM7bihcIiRkaWdlc3RcIik7aC4kJGNoZWNrVXJsQ2hhbmdlKCk7dGhpcz09PUomJm51bGwhPT1lJiYoaC5kZWZlci5jYW5jZWwoZSksQigpKTtjPW51bGw7ZG97cj0hMTt0PXRoaXM7Zm9yKHA9MDtwPHYubGVuZ3RoO3ArKyl7dHJ5e0M9dltwXSxDLnNjb3BlLiRldmFsKEMuZXhwcmVzc2lvbixDLmxvY2Fscyl9Y2F0Y2goRil7ZihGKX1jPW51bGx9di5sZW5ndGg9MDthOmRve2lmKHA9dC4kJHdhdGNoZXJzKWZvcih1PVxucC5sZW5ndGg7dS0tOyl0cnl7aWYoYT1wW3VdKWlmKG09YS5nZXQsKGc9bSh0KSkhPT0oaz1hLmxhc3QpJiYhKGEuZXE/bmEoZyxrKTpcIm51bWJlclwiPT09dHlwZW9mIGcmJlwibnVtYmVyXCI9PT10eXBlb2YgayYmaXNOYU4oZykmJmlzTmFOKGspKSlyPSEwLGM9YSxhLmxhc3Q9YS5lcT9wYShnLG51bGwpOmcsbD1hLmZuLGwoZyxrPT09cz9nOmssdCksNT5xJiYoQT00LXEseVtBXXx8KHlbQV09W10pLHlbQV0ucHVzaCh7bXNnOnooYS5leHApP1wiZm46IFwiKyhhLmV4cC5uYW1lfHxhLmV4cC50b1N0cmluZygpKTphLmV4cCxuZXdWYWw6ZyxvbGRWYWw6a30pKTtlbHNlIGlmKGE9PT1jKXtyPSExO2JyZWFrIGF9fWNhdGNoKEcpe2YoRyl9aWYoIShwPXQuJCR3YXRjaGVyc0NvdW50JiZ0LiQkY2hpbGRIZWFkfHx0IT09dGhpcyYmdC4kJG5leHRTaWJsaW5nKSlmb3IoO3QhPT10aGlzJiYhKHA9dC4kJG5leHRTaWJsaW5nKTspdD10LiRwYXJlbnR9d2hpbGUodD1wKTtpZigocnx8di5sZW5ndGgpJiZcbiFxLS0pdGhyb3cgSi4kJHBoYXNlPW51bGwsZChcImluZmRpZ1wiLGIseSk7fXdoaWxlKHJ8fHYubGVuZ3RoKTtmb3IoSi4kJHBoYXNlPW51bGw7Szx3Lmxlbmd0aDspdHJ5e3dbSysrXSgpfWNhdGNoKEQpe2YoRCl9dy5sZW5ndGg9Sz0wfSwkZGVzdHJveTpmdW5jdGlvbigpe2lmKCF0aGlzLiQkZGVzdHJveWVkKXt2YXIgYT10aGlzLiRwYXJlbnQ7dGhpcy4kYnJvYWRjYXN0KFwiJGRlc3Ryb3lcIik7dGhpcy4kJGRlc3Ryb3llZD0hMDt0aGlzPT09SiYmaC4kJGFwcGxpY2F0aW9uRGVzdHJveWVkKCk7cCh0aGlzLC10aGlzLiQkd2F0Y2hlcnNDb3VudCk7Zm9yKHZhciBiIGluIHRoaXMuJCRsaXN0ZW5lckNvdW50KXUodGhpcyx0aGlzLiQkbGlzdGVuZXJDb3VudFtiXSxiKTthJiZhLiQkY2hpbGRIZWFkPT10aGlzJiYoYS4kJGNoaWxkSGVhZD10aGlzLiQkbmV4dFNpYmxpbmcpO2EmJmEuJCRjaGlsZFRhaWw9PXRoaXMmJihhLiQkY2hpbGRUYWlsPXRoaXMuJCRwcmV2U2libGluZyk7dGhpcy4kJHByZXZTaWJsaW5nJiZcbih0aGlzLiQkcHJldlNpYmxpbmcuJCRuZXh0U2libGluZz10aGlzLiQkbmV4dFNpYmxpbmcpO3RoaXMuJCRuZXh0U2libGluZyYmKHRoaXMuJCRuZXh0U2libGluZy4kJHByZXZTaWJsaW5nPXRoaXMuJCRwcmV2U2libGluZyk7dGhpcy4kZGVzdHJveT10aGlzLiRkaWdlc3Q9dGhpcy4kYXBwbHk9dGhpcy4kZXZhbEFzeW5jPXRoaXMuJGFwcGx5QXN5bmM9QTt0aGlzLiRvbj10aGlzLiR3YXRjaD10aGlzLiR3YXRjaEdyb3VwPWZ1bmN0aW9uKCl7cmV0dXJuIEF9O3RoaXMuJCRsaXN0ZW5lcnM9e307dGhpcy4kJG5leHRTaWJsaW5nPW51bGw7bCh0aGlzKX19LCRldmFsOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGcoYSkodGhpcyxiKX0sJGV2YWxBc3luYzpmdW5jdGlvbihhLGIpe0ouJCRwaGFzZXx8di5sZW5ndGh8fGguZGVmZXIoZnVuY3Rpb24oKXt2Lmxlbmd0aCYmSi4kZGlnZXN0KCl9KTt2LnB1c2goe3Njb3BlOnRoaXMsZXhwcmVzc2lvbjpnKGEpLGxvY2FsczpifSl9LCQkcG9zdERpZ2VzdDpmdW5jdGlvbihhKXt3LnB1c2goYSl9LFxuJGFwcGx5OmZ1bmN0aW9uKGEpe3RyeXtuKFwiJGFwcGx5XCIpO3RyeXtyZXR1cm4gdGhpcy4kZXZhbChhKX1maW5hbGx5e0ouJCRwaGFzZT1udWxsfX1jYXRjaChiKXtmKGIpfWZpbmFsbHl7dHJ5e0ouJGRpZ2VzdCgpfWNhdGNoKGMpe3Rocm93IGYoYyksYzt9fX0sJGFwcGx5QXN5bmM6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe2MuJGV2YWwoYSl9dmFyIGM9dGhpczthJiZ0LnB1c2goYik7YT1nKGEpO3IoKX0sJG9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy4kJGxpc3RlbmVyc1thXTtjfHwodGhpcy4kJGxpc3RlbmVyc1thXT1jPVtdKTtjLnB1c2goYik7dmFyIGQ9dGhpcztkbyBkLiQkbGlzdGVuZXJDb3VudFthXXx8KGQuJCRsaXN0ZW5lckNvdW50W2FdPTApLGQuJCRsaXN0ZW5lckNvdW50W2FdKys7d2hpbGUoZD1kLiRwYXJlbnQpO3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQ9Yy5pbmRleE9mKGIpOy0xIT09ZCYmKGNbZF09bnVsbCx1KGUsMSxhKSl9fSwkZW1pdDpmdW5jdGlvbihhLFxuYil7dmFyIGM9W10sZCxlPXRoaXMsZz0hMSxoPXtuYW1lOmEsdGFyZ2V0U2NvcGU6ZSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXtnPSEwfSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe2guZGVmYXVsdFByZXZlbnRlZD0hMH0sZGVmYXVsdFByZXZlbnRlZDohMX0saz0kYShbaF0sYXJndW1lbnRzLDEpLGwsbTtkb3tkPWUuJCRsaXN0ZW5lcnNbYV18fGM7aC5jdXJyZW50U2NvcGU9ZTtsPTA7Zm9yKG09ZC5sZW5ndGg7bDxtO2wrKylpZihkW2xdKXRyeXtkW2xdLmFwcGx5KG51bGwsayl9Y2F0Y2gobil7ZihuKX1lbHNlIGQuc3BsaWNlKGwsMSksbC0tLG0tLTtpZihnKXJldHVybiBoLmN1cnJlbnRTY29wZT1udWxsLGg7ZT1lLiRwYXJlbnR9d2hpbGUoZSk7aC5jdXJyZW50U2NvcGU9bnVsbDtyZXR1cm4gaH0sJGJyb2FkY2FzdDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD10aGlzLGU9e25hbWU6YSx0YXJnZXRTY29wZTp0aGlzLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7ZS5kZWZhdWx0UHJldmVudGVkPVxuITB9LGRlZmF1bHRQcmV2ZW50ZWQ6ITF9O2lmKCF0aGlzLiQkbGlzdGVuZXJDb3VudFthXSlyZXR1cm4gZTtmb3IodmFyIGc9JGEoW2VdLGFyZ3VtZW50cywxKSxoLGs7Yz1kOyl7ZS5jdXJyZW50U2NvcGU9YztkPWMuJCRsaXN0ZW5lcnNbYV18fFtdO2g9MDtmb3Ioaz1kLmxlbmd0aDtoPGs7aCsrKWlmKGRbaF0pdHJ5e2RbaF0uYXBwbHkobnVsbCxnKX1jYXRjaChsKXtmKGwpfWVsc2UgZC5zcGxpY2UoaCwxKSxoLS0say0tO2lmKCEoZD1jLiQkbGlzdGVuZXJDb3VudFthXSYmYy4kJGNoaWxkSGVhZHx8YyE9PXRoaXMmJmMuJCRuZXh0U2libGluZykpZm9yKDtjIT09dGhpcyYmIShkPWMuJCRuZXh0U2libGluZyk7KWM9Yy4kcGFyZW50fWUuY3VycmVudFNjb3BlPW51bGw7cmV0dXJuIGV9fTt2YXIgSj1uZXcgbSx2PUouJCRhc3luY1F1ZXVlPVtdLHc9Si4kJHBvc3REaWdlc3RRdWV1ZT1bXSx0PUouJCRhcHBseUFzeW5jUXVldWU9W10sSz0wO3JldHVybiBKfV19ZnVuY3Rpb24gbmUoKXt2YXIgYT1cbi9eXFxzKihodHRwcz98ZnRwfG1haWx0b3x0ZWx8ZmlsZSk6LyxiPS9eXFxzKigoaHR0cHM/fGZ0cHxmaWxlfGJsb2IpOnxkYXRhOmltYWdlXFwvKS87dGhpcy5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbihiKXtyZXR1cm4gdyhiKT8oYT1iLHRoaXMpOmF9O3RoaXMuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0PWZ1bmN0aW9uKGEpe3JldHVybiB3KGEpPyhiPWEsdGhpcyk6Yn07dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGQsYyl7dmFyIGU9Yz9iOmEsZjtmPVkoZCkuaHJlZjtyZXR1cm5cIlwiPT09Znx8Zi5tYXRjaChlKT9kOlwidW5zYWZlOlwiK2Z9fX1mdW5jdGlvbiBvZyhhKXtpZihcInNlbGZcIj09PWEpcmV0dXJuIGE7aWYoRyhhKSl7aWYoLTE8YS5pbmRleE9mKFwiKioqXCIpKXRocm93IHNhKFwiaXdjYXJkXCIsYSk7YT13ZChhKS5yZXBsYWNlKFwiXFxcXCpcXFxcKlwiLFwiLipcIikucmVwbGFjZShcIlxcXFwqXCIsXCJbXjovLj8mO10qXCIpO3JldHVybiBuZXcgUmVnRXhwKFwiXlwiK1xuYStcIiRcIil9aWYoV2EoYSkpcmV0dXJuIG5ldyBSZWdFeHAoXCJeXCIrYS5zb3VyY2UrXCIkXCIpO3Rocm93IHNhKFwiaW1hdGNoZXJcIik7fWZ1bmN0aW9uIHhkKGEpe3ZhciBiPVtdO3coYSkmJnEoYSxmdW5jdGlvbihhKXtiLnB1c2gob2coYSkpfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gemYoKXt0aGlzLlNDRV9DT05URVhUUz1sYTt2YXIgYT1bXCJzZWxmXCJdLGI9W107dGhpcy5yZXNvdXJjZVVybFdoaXRlbGlzdD1mdW5jdGlvbihiKXthcmd1bWVudHMubGVuZ3RoJiYoYT14ZChiKSk7cmV0dXJuIGF9O3RoaXMucmVzb3VyY2VVcmxCbGFja2xpc3Q9ZnVuY3Rpb24oYSl7YXJndW1lbnRzLmxlbmd0aCYmKGI9eGQoYSkpO3JldHVybiBifTt0aGlzLiRnZXQ9W1wiJGluamVjdG9yXCIsZnVuY3Rpb24oZCl7ZnVuY3Rpb24gYyhhLGIpe3JldHVyblwic2VsZlwiPT09YT9pZChiKTohIWEuZXhlYyhiLmhyZWYpfWZ1bmN0aW9uIGUoYSl7dmFyIGI9ZnVuY3Rpb24oYSl7dGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZT1cbmZ1bmN0aW9uKCl7cmV0dXJuIGF9fTthJiYoYi5wcm90b3R5cGU9bmV3IGEpO2IucHJvdG90eXBlLnZhbHVlT2Y9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpfTtiLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCkudG9TdHJpbmcoKX07cmV0dXJuIGJ9dmFyIGY9ZnVuY3Rpb24oYSl7dGhyb3cgc2EoXCJ1bnNhZmVcIik7fTtkLmhhcyhcIiRzYW5pdGl6ZVwiKSYmKGY9ZC5nZXQoXCIkc2FuaXRpemVcIikpO3ZhciBnPWUoKSxoPXt9O2hbbGEuSFRNTF09ZShnKTtoW2xhLkNTU109ZShnKTtoW2xhLlVSTF09ZShnKTtoW2xhLkpTXT1lKGcpO2hbbGEuUkVTT1VSQ0VfVVJMXT1lKGhbbGEuVVJMXSk7cmV0dXJue3RydXN0QXM6ZnVuY3Rpb24oYSxiKXt2YXIgYz1oLmhhc093blByb3BlcnR5KGEpP2hbYV06bnVsbDtpZighYyl0aHJvdyBzYShcImljb250ZXh0XCIsYSxiKTtpZihudWxsPT09Ynx8eShiKXx8XG5cIlwiPT09YilyZXR1cm4gYjtpZihcInN0cmluZ1wiIT09dHlwZW9mIGIpdGhyb3cgc2EoXCJpdHlwZVwiLGEpO3JldHVybiBuZXcgYyhiKX0sZ2V0VHJ1c3RlZDpmdW5jdGlvbihkLGUpe2lmKG51bGw9PT1lfHx5KGUpfHxcIlwiPT09ZSlyZXR1cm4gZTt2YXIgZz1oLmhhc093blByb3BlcnR5KGQpP2hbZF06bnVsbDtpZihnJiZlIGluc3RhbmNlb2YgZylyZXR1cm4gZS4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpO2lmKGQ9PT1sYS5SRVNPVVJDRV9VUkwpe3ZhciBnPVkoZS50b1N0cmluZygpKSxuLHAsdT0hMTtuPTA7Zm9yKHA9YS5sZW5ndGg7bjxwO24rKylpZihjKGFbbl0sZykpe3U9ITA7YnJlYWt9aWYodSlmb3Iobj0wLHA9Yi5sZW5ndGg7bjxwO24rKylpZihjKGJbbl0sZykpe3U9ITE7YnJlYWt9aWYodSlyZXR1cm4gZTt0aHJvdyBzYShcImluc2VjdXJsXCIsZS50b1N0cmluZygpKTt9aWYoZD09PWxhLkhUTUwpcmV0dXJuIGYoZSk7dGhyb3cgc2EoXCJ1bnNhZmVcIik7fSx2YWx1ZU9mOmZ1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2Zcbmc/YS4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpOmF9fX1dfWZ1bmN0aW9uIHlmKCl7dmFyIGE9ITA7dGhpcy5lbmFibGVkPWZ1bmN0aW9uKGIpe2FyZ3VtZW50cy5sZW5ndGgmJihhPSEhYik7cmV0dXJuIGF9O3RoaXMuJGdldD1bXCIkcGFyc2VcIixcIiRzY2VEZWxlZ2F0ZVwiLGZ1bmN0aW9uKGIsZCl7aWYoYSYmOD5FYSl0aHJvdyBzYShcImllcXVpcmtzXCIpO3ZhciBjPWlhKGxhKTtjLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiBhfTtjLnRydXN0QXM9ZC50cnVzdEFzO2MuZ2V0VHJ1c3RlZD1kLmdldFRydXN0ZWQ7Yy52YWx1ZU9mPWQudmFsdWVPZjthfHwoYy50cnVzdEFzPWMuZ2V0VHJ1c3RlZD1mdW5jdGlvbihhLGIpe3JldHVybiBifSxjLnZhbHVlT2Y9WGEpO2MucGFyc2VBcz1mdW5jdGlvbihhLGQpe3ZhciBlPWIoZCk7cmV0dXJuIGUubGl0ZXJhbCYmZS5jb25zdGFudD9lOmIoZCxmdW5jdGlvbihiKXtyZXR1cm4gYy5nZXRUcnVzdGVkKGEsYil9KX07dmFyIGU9Yy5wYXJzZUFzLFxuZj1jLmdldFRydXN0ZWQsZz1jLnRydXN0QXM7cShsYSxmdW5jdGlvbihhLGIpe3ZhciBkPVEoYik7Y1tkYihcInBhcnNlX2FzX1wiK2QpXT1mdW5jdGlvbihiKXtyZXR1cm4gZShhLGIpfTtjW2RiKFwiZ2V0X3RydXN0ZWRfXCIrZCldPWZ1bmN0aW9uKGIpe3JldHVybiBmKGEsYil9O2NbZGIoXCJ0cnVzdF9hc19cIitkKV09ZnVuY3Rpb24oYil7cmV0dXJuIGcoYSxiKX19KTtyZXR1cm4gY31dfWZ1bmN0aW9uIEFmKCl7dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixcIiRkb2N1bWVudFwiLGZ1bmN0aW9uKGEsYil7dmFyIGQ9e30sYz0hKGEuY2hyb21lJiZhLmNocm9tZS5hcHAmJmEuY2hyb21lLmFwcC5ydW50aW1lKSYmYS5oaXN0b3J5JiZhLmhpc3RvcnkucHVzaFN0YXRlLGU9WigoL2FuZHJvaWQgKFxcZCspLy5leGVjKFEoKGEubmF2aWdhdG9yfHx7fSkudXNlckFnZW50KSl8fFtdKVsxXSksZj0vQm94ZWUvaS50ZXN0KChhLm5hdmlnYXRvcnx8e30pLnVzZXJBZ2VudCksZz1iWzBdfHx7fSxoLGs9L14oTW96fHdlYmtpdHxtcykoPz1bQS1aXSkvLFxubD1nLmJvZHkmJmcuYm9keS5zdHlsZSxtPSExLG49ITE7aWYobCl7Zm9yKHZhciBwIGluIGwpaWYobT1rLmV4ZWMocCkpe2g9bVswXTtoPWhbMF0udG9VcHBlckNhc2UoKStoLnN1YnN0cigxKTticmVha31ofHwoaD1cIldlYmtpdE9wYWNpdHlcImluIGwmJlwid2Via2l0XCIpO209ISEoXCJ0cmFuc2l0aW9uXCJpbiBsfHxoK1wiVHJhbnNpdGlvblwiaW4gbCk7bj0hIShcImFuaW1hdGlvblwiaW4gbHx8aCtcIkFuaW1hdGlvblwiaW4gbCk7IWV8fG0mJm58fChtPUcobC53ZWJraXRUcmFuc2l0aW9uKSxuPUcobC53ZWJraXRBbmltYXRpb24pKX1yZXR1cm57aGlzdG9yeTohKCFjfHw0PmV8fGYpLGhhc0V2ZW50OmZ1bmN0aW9uKGEpe2lmKFwiaW5wdXRcIj09PWEmJjExPj1FYSlyZXR1cm4hMTtpZih5KGRbYV0pKXt2YXIgYj1nLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZFthXT1cIm9uXCIrYSBpbiBifXJldHVybiBkW2FdfSxjc3A6QmEoKSx2ZW5kb3JQcmVmaXg6aCx0cmFuc2l0aW9uczptLGFuaW1hdGlvbnM6bixhbmRyb2lkOmV9fV19XG5mdW5jdGlvbiBDZigpe3ZhciBhO3RoaXMuaHR0cE9wdGlvbnM9ZnVuY3Rpb24oYil7cmV0dXJuIGI/KGE9Yix0aGlzKTphfTt0aGlzLiRnZXQ9W1wiJHRlbXBsYXRlQ2FjaGVcIixcIiRodHRwXCIsXCIkcVwiLFwiJHNjZVwiLGZ1bmN0aW9uKGIsZCxjLGUpe2Z1bmN0aW9uIGYoZyxoKXtmLnRvdGFsUGVuZGluZ1JlcXVlc3RzKys7aWYoIUcoZyl8fHkoYi5nZXQoZykpKWc9ZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmwoZyk7dmFyIGs9ZC5kZWZhdWx0cyYmZC5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZTtMKGspP2s9ay5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1kY30pOms9PT1kYyYmKGs9bnVsbCk7cmV0dXJuIGQuZ2V0KGcsUyh7Y2FjaGU6Yix0cmFuc2Zvcm1SZXNwb25zZTprfSxhKSlbXCJmaW5hbGx5XCJdKGZ1bmN0aW9uKCl7Zi50b3RhbFBlbmRpbmdSZXF1ZXN0cy0tfSkudGhlbihmdW5jdGlvbihhKXtiLnB1dChnLGEuZGF0YSk7cmV0dXJuIGEuZGF0YX0sZnVuY3Rpb24oYSl7aWYoIWgpdGhyb3cgcGcoXCJ0cGxvYWRcIixcbmcsYS5zdGF0dXMsYS5zdGF0dXNUZXh0KTtyZXR1cm4gYy5yZWplY3QoYSl9KX1mLnRvdGFsUGVuZGluZ1JlcXVlc3RzPTA7cmV0dXJuIGZ9XX1mdW5jdGlvbiBEZigpe3RoaXMuJGdldD1bXCIkcm9vdFNjb3BlXCIsXCIkYnJvd3NlclwiLFwiJGxvY2F0aW9uXCIsZnVuY3Rpb24oYSxiLGQpe3JldHVybntmaW5kQmluZGluZ3M6ZnVuY3Rpb24oYSxiLGQpe2E9YS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwibmctYmluZGluZ1wiKTt2YXIgZz1bXTtxKGEsZnVuY3Rpb24oYSl7dmFyIGM9Y2EuZWxlbWVudChhKS5kYXRhKFwiJGJpbmRpbmdcIik7YyYmcShjLGZ1bmN0aW9uKGMpe2Q/KG5ldyBSZWdFeHAoXCIoXnxcXFxccylcIit3ZChiKStcIihcXFxcc3xcXFxcfHwkKVwiKSkudGVzdChjKSYmZy5wdXNoKGEpOi0xIT1jLmluZGV4T2YoYikmJmcucHVzaChhKX0pfSk7cmV0dXJuIGd9LGZpbmRNb2RlbHM6ZnVuY3Rpb24oYSxiLGQpe2Zvcih2YXIgZz1bXCJuZy1cIixcImRhdGEtbmctXCIsXCJuZ1xcXFw6XCJdLGg9MDtoPGcubGVuZ3RoOysraCl7dmFyIGs9XG5hLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbXCIrZ1toXStcIm1vZGVsXCIrKGQ/XCI9XCI6XCIqPVwiKSsnXCInK2IrJ1wiXScpO2lmKGsubGVuZ3RoKXJldHVybiBrfX0sZ2V0TG9jYXRpb246ZnVuY3Rpb24oKXtyZXR1cm4gZC51cmwoKX0sc2V0TG9jYXRpb246ZnVuY3Rpb24oYil7YiE9PWQudXJsKCkmJihkLnVybChiKSxhLiRkaWdlc3QoKSl9LHdoZW5TdGFibGU6ZnVuY3Rpb24oYSl7Yi5ub3RpZnlXaGVuTm9PdXRzdGFuZGluZ1JlcXVlc3RzKGEpfX19XX1mdW5jdGlvbiBFZigpe3RoaXMuJGdldD1bXCIkcm9vdFNjb3BlXCIsXCIkYnJvd3NlclwiLFwiJHFcIixcIiQkcVwiLFwiJGV4Y2VwdGlvbkhhbmRsZXJcIixmdW5jdGlvbihhLGIsZCxjLGUpe2Z1bmN0aW9uIGYoZixrLGwpe3ooZil8fChsPWssaz1mLGY9QSk7dmFyIG09dmEuY2FsbChhcmd1bWVudHMsMyksbj13KGwpJiYhbCxwPShuP2M6ZCkuZGVmZXIoKSx1PXAucHJvbWlzZSxxO3E9Yi5kZWZlcihmdW5jdGlvbigpe3RyeXtwLnJlc29sdmUoZi5hcHBseShudWxsLFxubSkpfWNhdGNoKGIpe3AucmVqZWN0KGIpLGUoYil9ZmluYWxseXtkZWxldGUgZ1t1LiQkdGltZW91dElkXX1ufHxhLiRhcHBseSgpfSxrKTt1LiQkdGltZW91dElkPXE7Z1txXT1wO3JldHVybiB1fXZhciBnPXt9O2YuY2FuY2VsPWZ1bmN0aW9uKGEpe3JldHVybiBhJiZhLiQkdGltZW91dElkIGluIGc/KGdbYS4kJHRpbWVvdXRJZF0ucmVqZWN0KFwiY2FuY2VsZWRcIiksZGVsZXRlIGdbYS4kJHRpbWVvdXRJZF0sYi5kZWZlci5jYW5jZWwoYS4kJHRpbWVvdXRJZCkpOiExfTtyZXR1cm4gZn1dfWZ1bmN0aW9uIFkoYSl7RWEmJigkLnNldEF0dHJpYnV0ZShcImhyZWZcIixhKSxhPSQuaHJlZik7JC5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsYSk7cmV0dXJue2hyZWY6JC5ocmVmLHByb3RvY29sOiQucHJvdG9jb2w/JC5wcm90b2NvbC5yZXBsYWNlKC86JC8sXCJcIik6XCJcIixob3N0OiQuaG9zdCxzZWFyY2g6JC5zZWFyY2g/JC5zZWFyY2gucmVwbGFjZSgvXlxcPy8sXCJcIik6XCJcIixoYXNoOiQuaGFzaD8kLmhhc2gucmVwbGFjZSgvXiMvLFxuXCJcIik6XCJcIixob3N0bmFtZTokLmhvc3RuYW1lLHBvcnQ6JC5wb3J0LHBhdGhuYW1lOlwiL1wiPT09JC5wYXRobmFtZS5jaGFyQXQoMCk/JC5wYXRobmFtZTpcIi9cIiskLnBhdGhuYW1lfX1mdW5jdGlvbiBpZChhKXthPUcoYSk/WShhKTphO3JldHVybiBhLnByb3RvY29sPT09eWQucHJvdG9jb2wmJmEuaG9zdD09PXlkLmhvc3R9ZnVuY3Rpb24gRmYoKXt0aGlzLiRnZXQ9aGEoQyl9ZnVuY3Rpb24gemQoYSl7ZnVuY3Rpb24gYihhKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChhKX1jYXRjaChiKXtyZXR1cm4gYX19dmFyIGQ9YVswXXx8e30sYz17fSxlPVwiXCI7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGEsZyxoLGssbDthPWQuY29va2llfHxcIlwiO2lmKGEhPT1lKWZvcihlPWEsYT1lLnNwbGl0KFwiOyBcIiksYz17fSxoPTA7aDxhLmxlbmd0aDtoKyspZz1hW2hdLGs9Zy5pbmRleE9mKFwiPVwiKSwwPGsmJihsPWIoZy5zdWJzdHJpbmcoMCxrKSkseShjW2xdKSYmKGNbbF09YihnLnN1YnN0cmluZyhrK1xuMSkpKSk7cmV0dXJuIGN9fWZ1bmN0aW9uIEpmKCl7dGhpcy4kZ2V0PXpkfWZ1bmN0aW9uIE1jKGEpe2Z1bmN0aW9uIGIoZCxjKXtpZihEKGQpKXt2YXIgZT17fTtxKGQsZnVuY3Rpb24oYSxjKXtlW2NdPWIoYyxhKX0pO3JldHVybiBlfXJldHVybiBhLmZhY3RvcnkoZCtcIkZpbHRlclwiLGMpfXRoaXMucmVnaXN0ZXI9Yjt0aGlzLiRnZXQ9W1wiJGluamVjdG9yXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBhLmdldChiK1wiRmlsdGVyXCIpfX1dO2IoXCJjdXJyZW5jeVwiLEFkKTtiKFwiZGF0ZVwiLEJkKTtiKFwiZmlsdGVyXCIscWcpO2IoXCJqc29uXCIscmcpO2IoXCJsaW1pdFRvXCIsc2cpO2IoXCJsb3dlcmNhc2VcIix0Zyk7YihcIm51bWJlclwiLENkKTtiKFwib3JkZXJCeVwiLERkKTtiKFwidXBwZXJjYXNlXCIsdWcpfWZ1bmN0aW9uIHFnKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYixkLGMpe2lmKCF0YShhKSl7aWYobnVsbD09YSlyZXR1cm4gYTt0aHJvdyBOKFwiZmlsdGVyXCIpKFwibm90YXJyYXlcIixcbmEpO31jPWN8fFwiJFwiO3ZhciBlO3N3aXRjaChsYyhiKSl7Y2FzZSBcImZ1bmN0aW9uXCI6YnJlYWs7Y2FzZSBcImJvb2xlYW5cIjpjYXNlIFwibnVsbFwiOmNhc2UgXCJudW1iZXJcIjpjYXNlIFwic3RyaW5nXCI6ZT0hMDtjYXNlIFwib2JqZWN0XCI6Yj12ZyhiLGQsYyxlKTticmVhaztkZWZhdWx0OnJldHVybiBhfXJldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYSxiKX19ZnVuY3Rpb24gdmcoYSxiLGQsYyl7dmFyIGU9RChhKSYmZCBpbiBhOyEwPT09Yj9iPW5hOnooYil8fChiPWZ1bmN0aW9uKGEsYil7aWYoeShhKSlyZXR1cm4hMTtpZihudWxsPT09YXx8bnVsbD09PWIpcmV0dXJuIGE9PT1iO2lmKEQoYil8fEQoYSkmJiF2YyhhKSlyZXR1cm4hMTthPVEoXCJcIithKTtiPVEoXCJcIitiKTtyZXR1cm4tMSE9PWEuaW5kZXhPZihiKX0pO3JldHVybiBmdW5jdGlvbihmKXtyZXR1cm4gZSYmIUQoZik/TGEoZixhW2RdLGIsZCwhMSk6TGEoZixhLGIsZCxjKX19ZnVuY3Rpb24gTGEoYSxiLGQsYyxlLFxuZil7dmFyIGc9bGMoYSksaD1sYyhiKTtpZihcInN0cmluZ1wiPT09aCYmXCIhXCI9PT1iLmNoYXJBdCgwKSlyZXR1cm4hTGEoYSxiLnN1YnN0cmluZygxKSxkLGMsZSk7aWYoTChhKSlyZXR1cm4gYS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBMYShhLGIsZCxjLGUpfSk7c3dpdGNoKGcpe2Nhc2UgXCJvYmplY3RcIjp2YXIgaztpZihlKXtmb3IoayBpbiBhKWlmKFwiJFwiIT09ay5jaGFyQXQoMCkmJkxhKGFba10sYixkLGMsITApKXJldHVybiEwO3JldHVybiBmPyExOkxhKGEsYixkLGMsITEpfWlmKFwib2JqZWN0XCI9PT1oKXtmb3IoayBpbiBiKWlmKGY9YltrXSwheihmKSYmIXkoZikmJihnPWs9PT1jLCFMYShnP2E6YVtrXSxmLGQsYyxnLGcpKSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4gZChhLGIpO2Nhc2UgXCJmdW5jdGlvblwiOnJldHVybiExO2RlZmF1bHQ6cmV0dXJuIGQoYSxiKX19ZnVuY3Rpb24gbGMoYSl7cmV0dXJuIG51bGw9PT1hP1wibnVsbFwiOnR5cGVvZiBhfWZ1bmN0aW9uIEFkKGEpe3ZhciBiPVxuYS5OVU1CRVJfRk9STUFUUztyZXR1cm4gZnVuY3Rpb24oYSxjLGUpe3koYykmJihjPWIuQ1VSUkVOQ1lfU1lNKTt5KGUpJiYoZT1iLlBBVFRFUk5TWzFdLm1heEZyYWMpO3JldHVybiBudWxsPT1hP2E6RWQoYSxiLlBBVFRFUk5TWzFdLGIuR1JPVVBfU0VQLGIuREVDSU1BTF9TRVAsZSkucmVwbGFjZSgvXFx1MDBBNC9nLGMpfX1mdW5jdGlvbiBDZChhKXt2YXIgYj1hLk5VTUJFUl9GT1JNQVRTO3JldHVybiBmdW5jdGlvbihhLGMpe3JldHVybiBudWxsPT1hP2E6RWQoYSxiLlBBVFRFUk5TWzBdLGIuR1JPVVBfU0VQLGIuREVDSU1BTF9TRVAsYyl9fWZ1bmN0aW9uIHdnKGEpe3ZhciBiPTAsZCxjLGUsZixnOy0xPChjPWEuaW5kZXhPZihGZCkpJiYoYT1hLnJlcGxhY2UoRmQsXCJcIikpOzA8KGU9YS5zZWFyY2goL2UvaSkpPygwPmMmJihjPWUpLGMrPSthLnNsaWNlKGUrMSksYT1hLnN1YnN0cmluZygwLGUpKTowPmMmJihjPWEubGVuZ3RoKTtmb3IoZT0wO2EuY2hhckF0KGUpPT1tYztlKyspO1xuaWYoZT09KGc9YS5sZW5ndGgpKWQ9WzBdLGM9MTtlbHNle2ZvcihnLS07YS5jaGFyQXQoZyk9PW1jOylnLS07Yy09ZTtkPVtdO2ZvcihmPTA7ZTw9ZztlKyssZisrKWRbZl09K2EuY2hhckF0KGUpfWM+R2QmJihkPWQuc3BsaWNlKDAsR2QtMSksYj1jLTEsYz0xKTtyZXR1cm57ZDpkLGU6YixpOmN9fWZ1bmN0aW9uIHhnKGEsYixkLGMpe3ZhciBlPWEuZCxmPWUubGVuZ3RoLWEuaTtiPXkoYik/TWF0aC5taW4oTWF0aC5tYXgoZCxmKSxjKTorYjtkPWIrYS5pO2M9ZVtkXTtpZigwPGQpe2Uuc3BsaWNlKE1hdGgubWF4KGEuaSxkKSk7Zm9yKHZhciBnPWQ7ZzxlLmxlbmd0aDtnKyspZVtnXT0wfWVsc2UgZm9yKGY9TWF0aC5tYXgoMCxmKSxhLmk9MSxlLmxlbmd0aD1NYXRoLm1heCgxLGQ9YisxKSxlWzBdPTAsZz0xO2c8ZDtnKyspZVtnXT0wO2lmKDU8PWMpaWYoMD5kLTEpe2ZvcihjPTA7Yz5kO2MtLSllLnVuc2hpZnQoMCksYS5pKys7ZS51bnNoaWZ0KDEpO2EuaSsrfWVsc2UgZVtkLTFdKys7XG5mb3IoO2Y8TWF0aC5tYXgoMCxiKTtmKyspZS5wdXNoKDApO2lmKGI9ZS5yZWR1Y2VSaWdodChmdW5jdGlvbihhLGIsYyxkKXtiKz1hO2RbY109YiUxMDtyZXR1cm4gTWF0aC5mbG9vcihiLzEwKX0sMCkpZS51bnNoaWZ0KGIpLGEuaSsrfWZ1bmN0aW9uIEVkKGEsYixkLGMsZSl7aWYoIUcoYSkmJiFUKGEpfHxpc05hTihhKSlyZXR1cm5cIlwiO3ZhciBmPSFpc0Zpbml0ZShhKSxnPSExLGg9TWF0aC5hYnMoYSkrXCJcIixrPVwiXCI7aWYoZilrPVwiXFx1MjIxZVwiO2Vsc2V7Zz13ZyhoKTt4ZyhnLGUsYi5taW5GcmFjLGIubWF4RnJhYyk7az1nLmQ7aD1nLmk7ZT1nLmU7Zj1bXTtmb3IoZz1rLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhJiYhYn0sITApOzA+aDspay51bnNoaWZ0KDApLGgrKzswPGg/Zj1rLnNwbGljZShoLGsubGVuZ3RoKTooZj1rLGs9WzBdKTtoPVtdO2ZvcihrLmxlbmd0aD49Yi5sZ1NpemUmJmgudW5zaGlmdChrLnNwbGljZSgtYi5sZ1NpemUsay5sZW5ndGgpLmpvaW4oXCJcIikpO2subGVuZ3RoPlxuYi5nU2l6ZTspaC51bnNoaWZ0KGsuc3BsaWNlKC1iLmdTaXplLGsubGVuZ3RoKS5qb2luKFwiXCIpKTtrLmxlbmd0aCYmaC51bnNoaWZ0KGsuam9pbihcIlwiKSk7az1oLmpvaW4oZCk7Zi5sZW5ndGgmJihrKz1jK2Yuam9pbihcIlwiKSk7ZSYmKGsrPVwiZStcIitlKX1yZXR1cm4gMD5hJiYhZz9iLm5lZ1ByZStrK2IubmVnU3VmOmIucG9zUHJlK2srYi5wb3NTdWZ9ZnVuY3Rpb24gS2IoYSxiLGQsYyl7dmFyIGU9XCJcIjtpZigwPmF8fGMmJjA+PWEpYz9hPS1hKzE6KGE9LWEsZT1cIi1cIik7Zm9yKGE9XCJcIithO2EubGVuZ3RoPGI7KWE9bWMrYTtkJiYoYT1hLnN1YnN0cihhLmxlbmd0aC1iKSk7cmV0dXJuIGUrYX1mdW5jdGlvbiBiYShhLGIsZCxjLGUpe2Q9ZHx8MDtyZXR1cm4gZnVuY3Rpb24oZil7Zj1mW1wiZ2V0XCIrYV0oKTtpZigwPGR8fGY+LWQpZis9ZDswPT09ZiYmLTEyPT1kJiYoZj0xMik7cmV0dXJuIEtiKGYsYixjLGUpfX1mdW5jdGlvbiBrYihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSl7dmFyIGY9XG5jW1wiZ2V0XCIrYV0oKSxnPXViKChkP1wiU1RBTkRBTE9ORVwiOlwiXCIpKyhiP1wiU0hPUlRcIjpcIlwiKSthKTtyZXR1cm4gZVtnXVtmXX19ZnVuY3Rpb24gSGQoYSl7dmFyIGI9KG5ldyBEYXRlKGEsMCwxKSkuZ2V0RGF5KCk7cmV0dXJuIG5ldyBEYXRlKGEsMCwoND49Yj81OjEyKS1iKX1mdW5jdGlvbiBJZChhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGQ9SGQoYi5nZXRGdWxsWWVhcigpKTtiPStuZXcgRGF0ZShiLmdldEZ1bGxZZWFyKCksYi5nZXRNb250aCgpLGIuZ2V0RGF0ZSgpKyg0LWIuZ2V0RGF5KCkpKS0rZDtiPTErTWF0aC5yb3VuZChiLzYwNDhFNSk7cmV0dXJuIEtiKGIsYSl9fWZ1bmN0aW9uIG5jKGEsYil7cmV0dXJuIDA+PWEuZ2V0RnVsbFllYXIoKT9iLkVSQVNbMF06Yi5FUkFTWzFdfWZ1bmN0aW9uIEJkKGEpe2Z1bmN0aW9uIGIoYSl7dmFyIGI7aWYoYj1hLm1hdGNoKGQpKXthPW5ldyBEYXRlKDApO3ZhciBmPTAsZz0wLGg9Yls4XT9hLnNldFVUQ0Z1bGxZZWFyOmEuc2V0RnVsbFllYXIsXG5rPWJbOF0/YS5zZXRVVENIb3VyczphLnNldEhvdXJzO2JbOV0mJihmPVooYls5XStiWzEwXSksZz1aKGJbOV0rYlsxMV0pKTtoLmNhbGwoYSxaKGJbMV0pLFooYlsyXSktMSxaKGJbM10pKTtmPVooYls0XXx8MCktZjtnPVooYls1XXx8MCktZztoPVooYls2XXx8MCk7Yj1NYXRoLnJvdW5kKDFFMypwYXJzZUZsb2F0KFwiMC5cIisoYls3XXx8MCkpKTtrLmNhbGwoYSxmLGcsaCxiKX1yZXR1cm4gYX12YXIgZD0vXihcXGR7NH0pLT8oXFxkXFxkKS0/KFxcZFxcZCkoPzpUKFxcZFxcZCkoPzo6PyhcXGRcXGQpKD86Oj8oXFxkXFxkKSg/OlxcLihcXGQrKSk/KT8pPyhafChbKy1dKShcXGRcXGQpOj8oXFxkXFxkKSk/KT8kLztyZXR1cm4gZnVuY3Rpb24oYyxkLGYpe3ZhciBnPVwiXCIsaD1bXSxrLGw7ZD1kfHxcIm1lZGl1bURhdGVcIjtkPWEuREFURVRJTUVfRk9STUFUU1tkXXx8ZDtHKGMpJiYoYz15Zy50ZXN0KGMpP1ooYyk6YihjKSk7VChjKSYmKGM9bmV3IERhdGUoYykpO2lmKCFkYShjKXx8IWlzRmluaXRlKGMuZ2V0VGltZSgpKSlyZXR1cm4gYztcbmZvcig7ZDspKGw9emcuZXhlYyhkKSk/KGg9JGEoaCxsLDEpLGQ9aC5wb3AoKSk6KGgucHVzaChkKSxkPW51bGwpO3ZhciBtPWMuZ2V0VGltZXpvbmVPZmZzZXQoKTtmJiYobT15YyhmLG0pLGM9U2IoYyxmLCEwKSk7cShoLGZ1bmN0aW9uKGIpe2s9QWdbYl07Zys9az9rKGMsYS5EQVRFVElNRV9GT1JNQVRTLG0pOlwiJydcIj09PWI/XCInXCI6Yi5yZXBsYWNlKC8oXid8JyQpL2csXCJcIikucmVwbGFjZSgvJycvZyxcIidcIil9KTtyZXR1cm4gZ319ZnVuY3Rpb24gcmcoKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXt5KGIpJiYoYj0yKTtyZXR1cm4gYmIoYSxiKX19ZnVuY3Rpb24gc2coKXtyZXR1cm4gZnVuY3Rpb24oYSxiLGQpe2I9SW5maW5pdHk9PT1NYXRoLmFicyhOdW1iZXIoYikpP051bWJlcihiKTpaKGIpO2lmKGlzTmFOKGIpKXJldHVybiBhO1QoYSkmJihhPWEudG9TdHJpbmcoKSk7aWYoIXRhKGEpKXJldHVybiBhO2Q9IWR8fGlzTmFOKGQpPzA6WihkKTtkPTA+ZD9NYXRoLm1heCgwLGEubGVuZ3RoK1xuZCk6ZDtyZXR1cm4gMDw9Yj9vYyhhLGQsZCtiKTowPT09ZD9vYyhhLGIsYS5sZW5ndGgpOm9jKGEsTWF0aC5tYXgoMCxkK2IpLGQpfX1mdW5jdGlvbiBvYyhhLGIsZCl7cmV0dXJuIEcoYSk/YS5zbGljZShiLGQpOnZhLmNhbGwoYSxiLGQpfWZ1bmN0aW9uIERkKGEpe2Z1bmN0aW9uIGIoYil7cmV0dXJuIGIubWFwKGZ1bmN0aW9uKGIpe3ZhciBjPTEsZD1YYTtpZih6KGIpKWQ9YjtlbHNlIGlmKEcoYikpe2lmKFwiK1wiPT1iLmNoYXJBdCgwKXx8XCItXCI9PWIuY2hhckF0KDApKWM9XCItXCI9PWIuY2hhckF0KDApPy0xOjEsYj1iLnN1YnN0cmluZygxKTtpZihcIlwiIT09YiYmKGQ9YShiKSxkLmNvbnN0YW50KSl2YXIgZT1kKCksZD1mdW5jdGlvbihhKXtyZXR1cm4gYVtlXX19cmV0dXJue2dldDpkLGRlc2NlbmRpbmc6Y319KX1mdW5jdGlvbiBkKGEpe3N3aXRjaCh0eXBlb2YgYSl7Y2FzZSBcIm51bWJlclwiOmNhc2UgXCJib29sZWFuXCI6Y2FzZSBcInN0cmluZ1wiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fVxuZnVuY3Rpb24gYyhhLGIpe3ZhciBjPTAsZD1hLnR5cGUsaz1iLnR5cGU7aWYoZD09PWspe3ZhciBrPWEudmFsdWUsbD1iLnZhbHVlO1wic3RyaW5nXCI9PT1kPyhrPWsudG9Mb3dlckNhc2UoKSxsPWwudG9Mb3dlckNhc2UoKSk6XCJvYmplY3RcIj09PWQmJihEKGspJiYoaz1hLmluZGV4KSxEKGwpJiYobD1iLmluZGV4KSk7ayE9PWwmJihjPWs8bD8tMToxKX1lbHNlIGM9ZDxrPy0xOjE7cmV0dXJuIGN9cmV0dXJuIGZ1bmN0aW9uKGEsZixnLGgpe2lmKG51bGw9PWEpcmV0dXJuIGE7aWYoIXRhKGEpKXRocm93IE4oXCJvcmRlckJ5XCIpKFwibm90YXJyYXlcIixhKTtMKGYpfHwoZj1bZl0pOzA9PT1mLmxlbmd0aCYmKGY9W1wiK1wiXSk7dmFyIGs9YihmKSxsPWc/LTE6MSxtPXooaCk/aDpjO2E9QXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGEsZnVuY3Rpb24oYSxiKXtyZXR1cm57dmFsdWU6YSx0aWVCcmVha2VyOnt2YWx1ZTpiLHR5cGU6XCJudW1iZXJcIixpbmRleDpifSxwcmVkaWNhdGVWYWx1ZXM6ay5tYXAoZnVuY3Rpb24oYyl7dmFyIGU9XG5jLmdldChhKTtjPXR5cGVvZiBlO2lmKG51bGw9PT1lKWM9XCJzdHJpbmdcIixlPVwibnVsbFwiO2Vsc2UgaWYoXCJvYmplY3RcIj09PWMpYTp7aWYoeihlLnZhbHVlT2YpJiYoZT1lLnZhbHVlT2YoKSxkKGUpKSlicmVhayBhO3ZjKGUpJiYoZT1lLnRvU3RyaW5nKCksZChlKSl9cmV0dXJue3ZhbHVlOmUsdHlwZTpjLGluZGV4OmJ9fSl9fSk7YS5zb3J0KGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1rLmxlbmd0aDtjPGQ7YysrKXt2YXIgZT1tKGEucHJlZGljYXRlVmFsdWVzW2NdLGIucHJlZGljYXRlVmFsdWVzW2NdKTtpZihlKXJldHVybiBlKmtbY10uZGVzY2VuZGluZypsfXJldHVybiBtKGEudGllQnJlYWtlcixiLnRpZUJyZWFrZXIpKmx9KTtyZXR1cm4gYT1hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52YWx1ZX0pfX1mdW5jdGlvbiBUYShhKXt6KGEpJiYoYT17bGluazphfSk7YS5yZXN0cmljdD1hLnJlc3RyaWN0fHxcIkFDXCI7cmV0dXJuIGhhKGEpfWZ1bmN0aW9uIEpkKGEsYixkLFxuYyxlKXt2YXIgZj10aGlzLGc9W107Zi4kZXJyb3I9e307Zi4kJHN1Y2Nlc3M9e307Zi4kcGVuZGluZz12b2lkIDA7Zi4kbmFtZT1lKGIubmFtZXx8Yi5uZ0Zvcm18fFwiXCIpKGQpO2YuJGRpcnR5PSExO2YuJHByaXN0aW5lPSEwO2YuJHZhbGlkPSEwO2YuJGludmFsaWQ9ITE7Zi4kc3VibWl0dGVkPSExO2YuJCRwYXJlbnRGb3JtPUxiO2YuJHJvbGxiYWNrVmlld1ZhbHVlPWZ1bmN0aW9uKCl7cShnLGZ1bmN0aW9uKGEpe2EuJHJvbGxiYWNrVmlld1ZhbHVlKCl9KX07Zi4kY29tbWl0Vmlld1ZhbHVlPWZ1bmN0aW9uKCl7cShnLGZ1bmN0aW9uKGEpe2EuJGNvbW1pdFZpZXdWYWx1ZSgpfSl9O2YuJGFkZENvbnRyb2w9ZnVuY3Rpb24oYSl7UWEoYS4kbmFtZSxcImlucHV0XCIpO2cucHVzaChhKTthLiRuYW1lJiYoZlthLiRuYW1lXT1hKTthLiQkcGFyZW50Rm9ybT1mfTtmLiQkcmVuYW1lQ29udHJvbD1mdW5jdGlvbihhLGIpe3ZhciBjPWEuJG5hbWU7ZltjXT09PWEmJmRlbGV0ZSBmW2NdO2ZbYl09XG5hO2EuJG5hbWU9Yn07Zi4kcmVtb3ZlQ29udHJvbD1mdW5jdGlvbihhKXthLiRuYW1lJiZmW2EuJG5hbWVdPT09YSYmZGVsZXRlIGZbYS4kbmFtZV07cShmLiRwZW5kaW5nLGZ1bmN0aW9uKGIsYyl7Zi4kc2V0VmFsaWRpdHkoYyxudWxsLGEpfSk7cShmLiRlcnJvcixmdW5jdGlvbihiLGMpe2YuJHNldFZhbGlkaXR5KGMsbnVsbCxhKX0pO3EoZi4kJHN1Y2Nlc3MsZnVuY3Rpb24oYixjKXtmLiRzZXRWYWxpZGl0eShjLG51bGwsYSl9KTtaYShnLGEpO2EuJCRwYXJlbnRGb3JtPUxifTtLZCh7Y3RybDp0aGlzLCRlbGVtZW50OmEsc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hW2JdO2Q/LTE9PT1kLmluZGV4T2YoYykmJmQucHVzaChjKTphW2JdPVtjXX0sdW5zZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWFbYl07ZCYmKFphKGQsYyksMD09PWQubGVuZ3RoJiZkZWxldGUgYVtiXSl9LCRhbmltYXRlOmN9KTtmLiRzZXREaXJ0eT1mdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoYSxVYSk7Yy5hZGRDbGFzcyhhLFxuTWIpO2YuJGRpcnR5PSEwO2YuJHByaXN0aW5lPSExO2YuJCRwYXJlbnRGb3JtLiRzZXREaXJ0eSgpfTtmLiRzZXRQcmlzdGluZT1mdW5jdGlvbigpe2Muc2V0Q2xhc3MoYSxVYSxNYitcIiBuZy1zdWJtaXR0ZWRcIik7Zi4kZGlydHk9ITE7Zi4kcHJpc3RpbmU9ITA7Zi4kc3VibWl0dGVkPSExO3EoZyxmdW5jdGlvbihhKXthLiRzZXRQcmlzdGluZSgpfSl9O2YuJHNldFVudG91Y2hlZD1mdW5jdGlvbigpe3EoZyxmdW5jdGlvbihhKXthLiRzZXRVbnRvdWNoZWQoKX0pfTtmLiRzZXRTdWJtaXR0ZWQ9ZnVuY3Rpb24oKXtjLmFkZENsYXNzKGEsXCJuZy1zdWJtaXR0ZWRcIik7Zi4kc3VibWl0dGVkPSEwO2YuJCRwYXJlbnRGb3JtLiRzZXRTdWJtaXR0ZWQoKX19ZnVuY3Rpb24gcGMoYSl7YS4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKGIpe3JldHVybiBhLiRpc0VtcHR5KGIpP2I6Yi50b1N0cmluZygpfSl9ZnVuY3Rpb24gbGIoYSxiLGQsYyxlLGYpe3ZhciBnPVEoYlswXS50eXBlKTtpZighZS5hbmRyb2lkKXt2YXIgaD1cbiExO2Iub24oXCJjb21wb3NpdGlvbnN0YXJ0XCIsZnVuY3Rpb24oKXtoPSEwfSk7Yi5vbihcImNvbXBvc2l0aW9uZW5kXCIsZnVuY3Rpb24oKXtoPSExO2woKX0pfXZhciBrLGw9ZnVuY3Rpb24oYSl7ayYmKGYuZGVmZXIuY2FuY2VsKGspLGs9bnVsbCk7aWYoIWgpe3ZhciBlPWIudmFsKCk7YT1hJiZhLnR5cGU7XCJwYXNzd29yZFwiPT09Z3x8ZC5uZ1RyaW0mJlwiZmFsc2VcIj09PWQubmdUcmltfHwoZT1XKGUpKTsoYy4kdmlld1ZhbHVlIT09ZXx8XCJcIj09PWUmJmMuJCRoYXNOYXRpdmVWYWxpZGF0b3JzKSYmYy4kc2V0Vmlld1ZhbHVlKGUsYSl9fTtpZihlLmhhc0V2ZW50KFwiaW5wdXRcIikpYi5vbihcImlucHV0XCIsbCk7ZWxzZXt2YXIgbT1mdW5jdGlvbihhLGIsYyl7a3x8KGs9Zi5kZWZlcihmdW5jdGlvbigpe2s9bnVsbDtiJiZiLnZhbHVlPT09Y3x8bChhKX0pKX07Yi5vbihcImtleWRvd25cIixmdW5jdGlvbihhKXt2YXIgYj1hLmtleUNvZGU7OTE9PT1ifHwxNTxiJiYxOT5ifHwzNzw9YiYmNDA+PWJ8fFxubShhLHRoaXMsdGhpcy52YWx1ZSl9KTtpZihlLmhhc0V2ZW50KFwicGFzdGVcIikpYi5vbihcInBhc3RlIGN1dFwiLG0pfWIub24oXCJjaGFuZ2VcIixsKTtpZihMZFtnXSYmYy4kJGhhc05hdGl2ZVZhbGlkYXRvcnMmJmc9PT1kLnR5cGUpYi5vbihcImtleWRvd24gd2hlZWwgbW91c2Vkb3duXCIsZnVuY3Rpb24oYSl7aWYoIWspe3ZhciBiPXRoaXMudmFsaWRpdHksYz1iLmJhZElucHV0LGQ9Yi50eXBlTWlzbWF0Y2g7az1mLmRlZmVyKGZ1bmN0aW9uKCl7az1udWxsO2IuYmFkSW5wdXQ9PT1jJiZiLnR5cGVNaXNtYXRjaD09PWR8fGwoYSl9KX19KTtjLiRyZW5kZXI9ZnVuY3Rpb24oKXt2YXIgYT1jLiRpc0VtcHR5KGMuJHZpZXdWYWx1ZSk/XCJcIjpjLiR2aWV3VmFsdWU7Yi52YWwoKSE9PWEmJmIudmFsKGEpfX1mdW5jdGlvbiBOYihhLGIpe3JldHVybiBmdW5jdGlvbihkLGMpe3ZhciBlLGY7aWYoZGEoZCkpcmV0dXJuIGQ7aWYoRyhkKSl7J1wiJz09ZC5jaGFyQXQoMCkmJidcIic9PWQuY2hhckF0KGQubGVuZ3RoLVxuMSkmJihkPWQuc3Vic3RyaW5nKDEsZC5sZW5ndGgtMSkpO2lmKEJnLnRlc3QoZCkpcmV0dXJuIG5ldyBEYXRlKGQpO2EubGFzdEluZGV4PTA7aWYoZT1hLmV4ZWMoZCkpcmV0dXJuIGUuc2hpZnQoKSxmPWM/e3l5eXk6Yy5nZXRGdWxsWWVhcigpLE1NOmMuZ2V0TW9udGgoKSsxLGRkOmMuZ2V0RGF0ZSgpLEhIOmMuZ2V0SG91cnMoKSxtbTpjLmdldE1pbnV0ZXMoKSxzczpjLmdldFNlY29uZHMoKSxzc3M6Yy5nZXRNaWxsaXNlY29uZHMoKS8xRTN9Ont5eXl5OjE5NzAsTU06MSxkZDoxLEhIOjAsbW06MCxzczowLHNzczowfSxxKGUsZnVuY3Rpb24oYSxjKXtjPGIubGVuZ3RoJiYoZltiW2NdXT0rYSl9KSxuZXcgRGF0ZShmLnl5eXksZi5NTS0xLGYuZGQsZi5ISCxmLm1tLGYuc3N8fDAsMUUzKmYuc3NzfHwwKX1yZXR1cm4gTmFOfX1mdW5jdGlvbiBtYihhLGIsZCxjKXtyZXR1cm4gZnVuY3Rpb24oZSxmLGcsaCxrLGwsbSl7ZnVuY3Rpb24gbihhKXtyZXR1cm4gYSYmIShhLmdldFRpbWUmJlxuYS5nZXRUaW1lKCkhPT1hLmdldFRpbWUoKSl9ZnVuY3Rpb24gcChhKXtyZXR1cm4gdyhhKSYmIWRhKGEpP2QoYSl8fHZvaWQgMDphfU1kKGUsZixnLGgpO2xiKGUsZixnLGgsayxsKTt2YXIgdT1oJiZoLiRvcHRpb25zJiZoLiRvcHRpb25zLnRpbWV6b25lLHE7aC4kJHBhcnNlck5hbWU9YTtoLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24oYSl7aWYoaC4kaXNFbXB0eShhKSlyZXR1cm4gbnVsbDtpZihiLnRlc3QoYSkpcmV0dXJuIGE9ZChhLHEpLHUmJihhPVNiKGEsdSkpLGF9KTtoLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oYSl7aWYoYSYmIWRhKGEpKXRocm93IG5iKFwiZGF0ZWZtdFwiLGEpO2lmKG4oYSkpcmV0dXJuKHE9YSkmJnUmJihxPVNiKHEsdSwhMCkpLG0oXCJkYXRlXCIpKGEsYyx1KTtxPW51bGw7cmV0dXJuXCJcIn0pO2lmKHcoZy5taW4pfHxnLm5nTWluKXt2YXIgcztoLiR2YWxpZGF0b3JzLm1pbj1mdW5jdGlvbihhKXtyZXR1cm4hbihhKXx8eShzKXx8ZChhKT49c307Zy4kb2JzZXJ2ZShcIm1pblwiLFxuZnVuY3Rpb24oYSl7cz1wKGEpO2guJHZhbGlkYXRlKCl9KX1pZih3KGcubWF4KXx8Zy5uZ01heCl7dmFyIHI7aC4kdmFsaWRhdG9ycy5tYXg9ZnVuY3Rpb24oYSl7cmV0dXJuIW4oYSl8fHkocil8fGQoYSk8PXJ9O2cuJG9ic2VydmUoXCJtYXhcIixmdW5jdGlvbihhKXtyPXAoYSk7aC4kdmFsaWRhdGUoKX0pfX19ZnVuY3Rpb24gTWQoYSxiLGQsYyl7KGMuJCRoYXNOYXRpdmVWYWxpZGF0b3JzPUQoYlswXS52YWxpZGl0eSkpJiZjLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24oYSl7dmFyIGM9Yi5wcm9wKFwidmFsaWRpdHlcIil8fHt9O3JldHVybiBjLmJhZElucHV0fHxjLnR5cGVNaXNtYXRjaD92b2lkIDA6YX0pfWZ1bmN0aW9uIE5kKGEsYixkLGMsZSl7aWYodyhjKSl7YT1hKGMpO2lmKCFhLmNvbnN0YW50KXRocm93IG5iKFwiY29uc3RleHByXCIsZCxjKTtyZXR1cm4gYShiKX1yZXR1cm4gZX1mdW5jdGlvbiBxYyhhLGIpe2E9XCJuZ0NsYXNzXCIrYTtyZXR1cm5bXCIkYW5pbWF0ZVwiLGZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGMoYSxcbmIpe3ZhciBjPVtdLGQ9MDthOmZvcig7ZDxhLmxlbmd0aDtkKyspe2Zvcih2YXIgZT1hW2RdLG09MDttPGIubGVuZ3RoO20rKylpZihlPT1iW21dKWNvbnRpbnVlIGE7Yy5wdXNoKGUpfXJldHVybiBjfWZ1bmN0aW9uIGUoYSl7dmFyIGI9W107cmV0dXJuIEwoYSk/KHEoYSxmdW5jdGlvbihhKXtiPWIuY29uY2F0KGUoYSkpfSksYik6RyhhKT9hLnNwbGl0KFwiIFwiKTpEKGEpPyhxKGEsZnVuY3Rpb24oYSxjKXthJiYoYj1iLmNvbmNhdChjLnNwbGl0KFwiIFwiKSkpfSksYik6YX1yZXR1cm57cmVzdHJpY3Q6XCJBQ1wiLGxpbms6ZnVuY3Rpb24oZixnLGgpe2Z1bmN0aW9uIGsoYSl7YT1sKGEsMSk7aC4kYWRkQ2xhc3MoYSl9ZnVuY3Rpb24gbChhLGIpe3ZhciBjPWcuZGF0YShcIiRjbGFzc0NvdW50c1wiKXx8VSgpLGQ9W107cShhLGZ1bmN0aW9uKGEpe2lmKDA8Ynx8Y1thXSljW2FdPShjW2FdfHwwKStiLGNbYV09PT0rKDA8YikmJmQucHVzaChhKX0pO2cuZGF0YShcIiRjbGFzc0NvdW50c1wiLGMpO3JldHVybiBkLmpvaW4oXCIgXCIpfVxuZnVuY3Rpb24gbShhLGIpe3ZhciBlPWMoYixhKSxmPWMoYSxiKSxlPWwoZSwxKSxmPWwoZiwtMSk7ZSYmZS5sZW5ndGgmJmQuYWRkQ2xhc3MoZyxlKTtmJiZmLmxlbmd0aCYmZC5yZW1vdmVDbGFzcyhnLGYpfWZ1bmN0aW9uIG4oYSl7aWYoITA9PT1ifHwoZi4kaW5kZXgmMSk9PT1iKXt2YXIgYz1lKGF8fFtdKTtpZighcClrKGMpO2Vsc2UgaWYoIW5hKGEscCkpe3ZhciBkPWUocCk7bShkLGMpfX1wPUwoYSk/YS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGlhKGEpfSk6aWEoYSl9dmFyIHA7Zi4kd2F0Y2goaFthXSxuLCEwKTtoLiRvYnNlcnZlKFwiY2xhc3NcIixmdW5jdGlvbihiKXtuKGYuJGV2YWwoaFthXSkpfSk7XCJuZ0NsYXNzXCIhPT1hJiZmLiR3YXRjaChcIiRpbmRleFwiLGZ1bmN0aW9uKGMsZCl7dmFyIGc9YyYxO2lmKGchPT0oZCYxKSl7dmFyIG09ZShmLiRldmFsKGhbYV0pKTtnPT09Yj9rKG0pOihnPWwobSwtMSksaC4kcmVtb3ZlQ2xhc3MoZykpfX0pfX19XX1mdW5jdGlvbiBLZChhKXtmdW5jdGlvbiBiKGEsXG5iKXtiJiYhZlthXT8oay5hZGRDbGFzcyhlLGEpLGZbYV09ITApOiFiJiZmW2FdJiYoay5yZW1vdmVDbGFzcyhlLGEpLGZbYV09ITEpfWZ1bmN0aW9uIGQoYSxjKXthPWE/XCItXCIrQ2MoYSxcIi1cIik6XCJcIjtiKG9iK2EsITA9PT1jKTtiKE9kK2EsITE9PT1jKX12YXIgYz1hLmN0cmwsZT1hLiRlbGVtZW50LGY9e30sZz1hLnNldCxoPWEudW5zZXQsaz1hLiRhbmltYXRlO2ZbT2RdPSEoZltvYl09ZS5oYXNDbGFzcyhvYikpO2MuJHNldFZhbGlkaXR5PWZ1bmN0aW9uKGEsZSxmKXt5KGUpPyhjLiRwZW5kaW5nfHwoYy4kcGVuZGluZz17fSksZyhjLiRwZW5kaW5nLGEsZikpOihjLiRwZW5kaW5nJiZoKGMuJHBlbmRpbmcsYSxmKSxQZChjLiRwZW5kaW5nKSYmKGMuJHBlbmRpbmc9dm9pZCAwKSk7R2EoZSk/ZT8oaChjLiRlcnJvcixhLGYpLGcoYy4kJHN1Y2Nlc3MsYSxmKSk6KGcoYy4kZXJyb3IsYSxmKSxoKGMuJCRzdWNjZXNzLGEsZikpOihoKGMuJGVycm9yLGEsZiksaChjLiQkc3VjY2VzcyxcbmEsZikpO2MuJHBlbmRpbmc/KGIoUWQsITApLGMuJHZhbGlkPWMuJGludmFsaWQ9dm9pZCAwLGQoXCJcIixudWxsKSk6KGIoUWQsITEpLGMuJHZhbGlkPVBkKGMuJGVycm9yKSxjLiRpbnZhbGlkPSFjLiR2YWxpZCxkKFwiXCIsYy4kdmFsaWQpKTtlPWMuJHBlbmRpbmcmJmMuJHBlbmRpbmdbYV0/dm9pZCAwOmMuJGVycm9yW2FdPyExOmMuJCRzdWNjZXNzW2FdPyEwOm51bGw7ZChhLGUpO2MuJCRwYXJlbnRGb3JtLiRzZXRWYWxpZGl0eShhLGUsYyl9fWZ1bmN0aW9uIFBkKGEpe2lmKGEpZm9yKHZhciBiIGluIGEpaWYoYS5oYXNPd25Qcm9wZXJ0eShiKSlyZXR1cm4hMTtyZXR1cm4hMH12YXIgQ2c9L15cXC8oLispXFwvKFthLXpdKikkLyx1YT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFE9ZnVuY3Rpb24oYSl7cmV0dXJuIEcoYSk/YS50b0xvd2VyQ2FzZSgpOmF9LHViPWZ1bmN0aW9uKGEpe3JldHVybiBHKGEpP2EudG9VcHBlckNhc2UoKTphfSxFYSxGLHFhLHZhPVtdLnNsaWNlLFxuYmc9W10uc3BsaWNlLERnPVtdLnB1c2gsbWE9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyx3Yz1PYmplY3QuZ2V0UHJvdG90eXBlT2YseGE9TihcIm5nXCIpLGNhPUMuYW5ndWxhcnx8KEMuYW5ndWxhcj17fSksVWIscGI9MDtFYT1DLmRvY3VtZW50LmRvY3VtZW50TW9kZTtBLiRpbmplY3Q9W107WGEuJGluamVjdD1bXTt2YXIgTD1BcnJheS5pc0FycmF5LGFlPS9eXFxbb2JqZWN0ICg/OlVpbnQ4fFVpbnQ4Q2xhbXBlZHxVaW50MTZ8VWludDMyfEludDh8SW50MTZ8SW50MzJ8RmxvYXQzMnxGbG9hdDY0KUFycmF5XFxdJC8sVz1mdW5jdGlvbihhKXtyZXR1cm4gRyhhKT9hLnRyaW0oKTphfSx3ZD1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC8oWy0oKVxcW1xcXXt9Kz8qLiRcXF58LDojPCFcXFxcXSkvZyxcIlxcXFwkMVwiKS5yZXBsYWNlKC9cXHgwOC9nLFwiXFxcXHgwOFwiKX0sQmE9ZnVuY3Rpb24oKXtpZighdyhCYS5ydWxlcykpe3ZhciBhPUMuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltuZy1jc3BdXCIpfHxcbkMuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltkYXRhLW5nLWNzcF1cIik7aWYoYSl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoXCJuZy1jc3BcIil8fGEuZ2V0QXR0cmlidXRlKFwiZGF0YS1uZy1jc3BcIik7QmEucnVsZXM9e25vVW5zYWZlRXZhbDohYnx8LTEhPT1iLmluZGV4T2YoXCJuby11bnNhZmUtZXZhbFwiKSxub0lubGluZVN0eWxlOiFifHwtMSE9PWIuaW5kZXhPZihcIm5vLWlubGluZS1zdHlsZVwiKX19ZWxzZXthPUJhO3RyeXtuZXcgRnVuY3Rpb24oXCJcIiksYj0hMX1jYXRjaChkKXtiPSEwfWEucnVsZXM9e25vVW5zYWZlRXZhbDpiLG5vSW5saW5lU3R5bGU6ITF9fX1yZXR1cm4gQmEucnVsZXN9LHJiPWZ1bmN0aW9uKCl7aWYodyhyYi5uYW1lXykpcmV0dXJuIHJiLm5hbWVfO3ZhciBhLGIsZD1OYS5sZW5ndGgsYyxlO2ZvcihiPTA7YjxkOysrYilpZihjPU5hW2JdLGE9Qy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW1wiK2MucmVwbGFjZShcIjpcIixcIlxcXFw6XCIpK1wianFdXCIpKXtlPWEuZ2V0QXR0cmlidXRlKGMrXG5cImpxXCIpO2JyZWFrfXJldHVybiByYi5uYW1lXz1lfSxkZT0vOi9nLE5hPVtcIm5nLVwiLFwiZGF0YS1uZy1cIixcIm5nOlwiLFwieC1uZy1cIl0saWU9L1tBLVpdL2csRGM9ITEsTWE9MyxtZT17ZnVsbDpcIjEuNS44XCIsbWFqb3I6MSxtaW5vcjo1LGRvdDo4LGNvZGVOYW1lOlwiYXJiaXRyYXJ5LWZhbGxiYWNrc1wifTtPLmV4cGFuZG89XCJuZzMzOVwiO3ZhciBmYj1PLmNhY2hlPXt9LFBmPTE7Ty5fZGF0YT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jYWNoZVthW3RoaXMuZXhwYW5kb11dfHx7fX07dmFyIEtmPS8oW1xcOlxcLVxcX10rKC4pKS9nLExmPS9ebW96KFtBLVpdKS8seWI9e21vdXNlbGVhdmU6XCJtb3VzZW91dFwiLG1vdXNlZW50ZXI6XCJtb3VzZW92ZXJcIn0sV2I9TihcImpxTGl0ZVwiKSxPZj0vXjwoW1xcdy1dKylcXHMqXFwvPz4oPzo8XFwvXFwxPnwpJC8sVmI9Lzx8JiM/XFx3KzsvLE1mPS88KFtcXHc6LV0rKS8sTmY9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW1xcdzotXSspW14+XSopXFwvPi9naSxcbmphPXtvcHRpb246WzEsJzxzZWxlY3QgbXVsdGlwbGU9XCJtdWx0aXBsZVwiPicsXCI8L3NlbGVjdD5cIl0sdGhlYWQ6WzEsXCI8dGFibGU+XCIsXCI8L3RhYmxlPlwiXSxjb2w6WzIsXCI8dGFibGU+PGNvbGdyb3VwPlwiLFwiPC9jb2xncm91cD48L3RhYmxlPlwiXSx0cjpbMixcIjx0YWJsZT48dGJvZHk+XCIsXCI8L3Rib2R5PjwvdGFibGU+XCJdLHRkOlszLFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIl0sX2RlZmF1bHQ6WzAsXCJcIixcIlwiXX07amEub3B0Z3JvdXA9amEub3B0aW9uO2phLnRib2R5PWphLnRmb290PWphLmNvbGdyb3VwPWphLmNhcHRpb249amEudGhlYWQ7amEudGg9amEudGQ7dmFyIFVmPUMuTm9kZS5wcm90b3R5cGUuY29udGFpbnN8fGZ1bmN0aW9uKGEpe3JldHVybiEhKHRoaXMuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSkmMTYpfSxPYT1PLnByb3RvdHlwZT17cmVhZHk6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe2R8fChkPSEwLGEoKSl9dmFyIGQ9ITE7XCJjb21wbGV0ZVwiPT09XG5DLmRvY3VtZW50LnJlYWR5U3RhdGU/Qy5zZXRUaW1lb3V0KGIpOih0aGlzLm9uKFwiRE9NQ29udGVudExvYWRlZFwiLGIpLE8oQykub24oXCJsb2FkXCIsYikpfSx0b1N0cmluZzpmdW5jdGlvbigpe3ZhciBhPVtdO3EodGhpcyxmdW5jdGlvbihiKXthLnB1c2goXCJcIitiKX0pO3JldHVyblwiW1wiK2Euam9pbihcIiwgXCIpK1wiXVwifSxlcTpmdW5jdGlvbihhKXtyZXR1cm4gMDw9YT9GKHRoaXNbYV0pOkYodGhpc1t0aGlzLmxlbmd0aCthXSl9LGxlbmd0aDowLHB1c2g6RGcsc29ydDpbXS5zb3J0LHNwbGljZTpbXS5zcGxpY2V9LEViPXt9O3EoXCJtdWx0aXBsZSBzZWxlY3RlZCBjaGVja2VkIGRpc2FibGVkIHJlYWRPbmx5IHJlcXVpcmVkIG9wZW5cIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSl7RWJbUShhKV09YX0pO3ZhciBWYz17fTtxKFwiaW5wdXQgc2VsZWN0IG9wdGlvbiB0ZXh0YXJlYSBidXR0b24gZm9ybSBkZXRhaWxzXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEpe1ZjW2FdPSEwfSk7dmFyIGJkPXtuZ01pbmxlbmd0aDpcIm1pbmxlbmd0aFwiLFxubmdNYXhsZW5ndGg6XCJtYXhsZW5ndGhcIixuZ01pbjpcIm1pblwiLG5nTWF4OlwibWF4XCIsbmdQYXR0ZXJuOlwicGF0dGVyblwifTtxKHtkYXRhOlliLHJlbW92ZURhdGE6ZWIsaGFzRGF0YTpmdW5jdGlvbihhKXtmb3IodmFyIGIgaW4gZmJbYS5uZzMzOV0pcmV0dXJuITA7cmV0dXJuITF9LGNsZWFuRGF0YTpmdW5jdGlvbihhKXtmb3IodmFyIGI9MCxkPWEubGVuZ3RoO2I8ZDtiKyspZWIoYVtiXSl9fSxmdW5jdGlvbihhLGIpe09bYl09YX0pO3Eoe2RhdGE6WWIsaW5oZXJpdGVkRGF0YTpDYixzY29wZTpmdW5jdGlvbihhKXtyZXR1cm4gRi5kYXRhKGEsXCIkc2NvcGVcIil8fENiKGEucGFyZW50Tm9kZXx8YSxbXCIkaXNvbGF0ZVNjb3BlXCIsXCIkc2NvcGVcIl0pfSxpc29sYXRlU2NvcGU6ZnVuY3Rpb24oYSl7cmV0dXJuIEYuZGF0YShhLFwiJGlzb2xhdGVTY29wZVwiKXx8Ri5kYXRhKGEsXCIkaXNvbGF0ZVNjb3BlTm9UZW1wbGF0ZVwiKX0sY29udHJvbGxlcjpTYyxpbmplY3RvcjpmdW5jdGlvbihhKXtyZXR1cm4gQ2IoYSxcblwiJGluamVjdG9yXCIpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEsYil7YS5yZW1vdmVBdHRyaWJ1dGUoYil9LGhhc0NsYXNzOnpiLGNzczpmdW5jdGlvbihhLGIsZCl7Yj1kYihiKTtpZih3KGQpKWEuc3R5bGVbYl09ZDtlbHNlIHJldHVybiBhLnN0eWxlW2JdfSxhdHRyOmZ1bmN0aW9uKGEsYixkKXt2YXIgYz1hLm5vZGVUeXBlO2lmKGMhPT1NYSYmMiE9PWMmJjghPT1jKWlmKGM9UShiKSxFYltjXSlpZih3KGQpKWQ/KGFbYl09ITAsYS5zZXRBdHRyaWJ1dGUoYixjKSk6KGFbYl09ITEsYS5yZW1vdmVBdHRyaWJ1dGUoYykpO2Vsc2UgcmV0dXJuIGFbYl18fChhLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKGIpfHxBKS5zcGVjaWZpZWQ/Yzp2b2lkIDA7ZWxzZSBpZih3KGQpKWEuc2V0QXR0cmlidXRlKGIsZCk7ZWxzZSBpZihhLmdldEF0dHJpYnV0ZSlyZXR1cm4gYT1hLmdldEF0dHJpYnV0ZShiLDIpLG51bGw9PT1hP3ZvaWQgMDphfSxwcm9wOmZ1bmN0aW9uKGEsYixkKXtpZih3KGQpKWFbYl09XG5kO2Vsc2UgcmV0dXJuIGFbYl19LHRleHQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsZCl7aWYoeShkKSl7dmFyIGM9YS5ub2RlVHlwZTtyZXR1cm4gMT09PWN8fGM9PT1NYT9hLnRleHRDb250ZW50OlwiXCJ9YS50ZXh0Q29udGVudD1kfWEuJGR2PVwiXCI7cmV0dXJuIGF9KCksdmFsOmZ1bmN0aW9uKGEsYil7aWYoeShiKSl7aWYoYS5tdWx0aXBsZSYmXCJzZWxlY3RcIj09PXdhKGEpKXt2YXIgZD1bXTtxKGEub3B0aW9ucyxmdW5jdGlvbihhKXthLnNlbGVjdGVkJiZkLnB1c2goYS52YWx1ZXx8YS50ZXh0KX0pO3JldHVybiAwPT09ZC5sZW5ndGg/bnVsbDpkfXJldHVybiBhLnZhbHVlfWEudmFsdWU9Yn0saHRtbDpmdW5jdGlvbihhLGIpe2lmKHkoYikpcmV0dXJuIGEuaW5uZXJIVE1MO3diKGEsITApO2EuaW5uZXJIVE1MPWJ9LGVtcHR5OlRjfSxmdW5jdGlvbihhLGIpe08ucHJvdG90eXBlW2JdPWZ1bmN0aW9uKGIsYyl7dmFyIGUsZixnPXRoaXMubGVuZ3RoO2lmKGEhPT1UYyYmeSgyPT1hLmxlbmd0aCYmXG5hIT09emImJmEhPT1TYz9iOmMpKXtpZihEKGIpKXtmb3IoZT0wO2U8ZztlKyspaWYoYT09PVliKWEodGhpc1tlXSxiKTtlbHNlIGZvcihmIGluIGIpYSh0aGlzW2VdLGYsYltmXSk7cmV0dXJuIHRoaXN9ZT1hLiRkdjtnPXkoZSk/TWF0aC5taW4oZywxKTpnO2ZvcihmPTA7ZjxnO2YrKyl7dmFyIGg9YSh0aGlzW2ZdLGIsYyk7ZT1lP2UraDpofXJldHVybiBlfWZvcihlPTA7ZTxnO2UrKylhKHRoaXNbZV0sYixjKTtyZXR1cm4gdGhpc319KTtxKHtyZW1vdmVEYXRhOmViLG9uOmZ1bmN0aW9uKGEsYixkLGMpe2lmKHcoYykpdGhyb3cgV2IoXCJvbmFyZ3NcIik7aWYoTmMoYSkpe2M9eGIoYSwhMCk7dmFyIGU9Yy5ldmVudHMsZj1jLmhhbmRsZTtmfHwoZj1jLmhhbmRsZT1SZihhLGUpKTtjPTA8PWIuaW5kZXhPZihcIiBcIik/Yi5zcGxpdChcIiBcIik6W2JdO2Zvcih2YXIgZz1jLmxlbmd0aCxoPWZ1bmN0aW9uKGIsYyxnKXt2YXIgaD1lW2JdO2h8fChoPWVbYl09W10saC5zcGVjaWFsSGFuZGxlcldyYXBwZXI9XG5jLFwiJGRlc3Ryb3lcIj09PWJ8fGd8fGEuYWRkRXZlbnRMaXN0ZW5lcihiLGYsITEpKTtoLnB1c2goZCl9O2ctLTspYj1jW2ddLHliW2JdPyhoKHliW2JdLFRmKSxoKGIsdm9pZCAwLCEwKSk6aChiKX19LG9mZjpSYyxvbmU6ZnVuY3Rpb24oYSxiLGQpe2E9RihhKTthLm9uKGIsZnVuY3Rpb24gZSgpe2Eub2ZmKGIsZCk7YS5vZmYoYixlKX0pO2Eub24oYixkKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oYSxiKXt2YXIgZCxjPWEucGFyZW50Tm9kZTt3YihhKTtxKG5ldyBPKGIpLGZ1bmN0aW9uKGIpe2Q/Yy5pbnNlcnRCZWZvcmUoYixkLm5leHRTaWJsaW5nKTpjLnJlcGxhY2VDaGlsZChiLGEpO2Q9Yn0pfSxjaGlsZHJlbjpmdW5jdGlvbihhKXt2YXIgYj1bXTtxKGEuY2hpbGROb2RlcyxmdW5jdGlvbihhKXsxPT09YS5ub2RlVHlwZSYmYi5wdXNoKGEpfSk7cmV0dXJuIGJ9LGNvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRlbnREb2N1bWVudHx8YS5jaGlsZE5vZGVzfHxbXX0sYXBwZW5kOmZ1bmN0aW9uKGEsXG5iKXt2YXIgZD1hLm5vZGVUeXBlO2lmKDE9PT1kfHwxMT09PWQpe2I9bmV3IE8oYik7Zm9yKHZhciBkPTAsYz1iLmxlbmd0aDtkPGM7ZCsrKWEuYXBwZW5kQ2hpbGQoYltkXSl9fSxwcmVwZW5kOmZ1bmN0aW9uKGEsYil7aWYoMT09PWEubm9kZVR5cGUpe3ZhciBkPWEuZmlyc3RDaGlsZDtxKG5ldyBPKGIpLGZ1bmN0aW9uKGIpe2EuaW5zZXJ0QmVmb3JlKGIsZCl9KX19LHdyYXA6ZnVuY3Rpb24oYSxiKXtQYyhhLEYoYikuZXEoMCkuY2xvbmUoKVswXSl9LHJlbW92ZTpEYixkZXRhY2g6ZnVuY3Rpb24oYSl7RGIoYSwhMCl9LGFmdGVyOmZ1bmN0aW9uKGEsYil7dmFyIGQ9YSxjPWEucGFyZW50Tm9kZTtiPW5ldyBPKGIpO2Zvcih2YXIgZT0wLGY9Yi5sZW5ndGg7ZTxmO2UrKyl7dmFyIGc9YltlXTtjLmluc2VydEJlZm9yZShnLGQubmV4dFNpYmxpbmcpO2Q9Z319LGFkZENsYXNzOkJiLHJlbW92ZUNsYXNzOkFiLHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGEsYixkKXtiJiZxKGIuc3BsaXQoXCIgXCIpLFxuZnVuY3Rpb24oYil7dmFyIGU9ZDt5KGUpJiYoZT0hemIoYSxiKSk7KGU/QmI6QWIpKGEsYil9KX0scGFyZW50OmZ1bmN0aW9uKGEpe3JldHVybihhPWEucGFyZW50Tm9kZSkmJjExIT09YS5ub2RlVHlwZT9hOm51bGx9LG5leHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubmV4dEVsZW1lbnRTaWJsaW5nfSxmaW5kOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuZ2V0RWxlbWVudHNCeVRhZ05hbWU/YS5nZXRFbGVtZW50c0J5VGFnTmFtZShiKTpbXX0sY2xvbmU6WGIsdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oYSxiLGQpe3ZhciBjLGUsZj1iLnR5cGV8fGIsZz14YihhKTtpZihnPShnPWcmJmcuZXZlbnRzKSYmZ1tmXSljPXtwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD0hMH0saXNEZWZhdWx0UHJldmVudGVkOmZ1bmN0aW9uKCl7cmV0dXJuITA9PT10aGlzLmRlZmF1bHRQcmV2ZW50ZWR9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPVxuITB9LGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmZ1bmN0aW9uKCl7cmV0dXJuITA9PT10aGlzLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZH0sc3RvcFByb3BhZ2F0aW9uOkEsdHlwZTpmLHRhcmdldDphfSxiLnR5cGUmJihjPVMoYyxiKSksYj1pYShnKSxlPWQ/W2NdLmNvbmNhdChkKTpbY10scShiLGZ1bmN0aW9uKGIpe2MuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKXx8Yi5hcHBseShhLGUpfSl9fSxmdW5jdGlvbihhLGIpe08ucHJvdG90eXBlW2JdPWZ1bmN0aW9uKGIsYyxlKXtmb3IodmFyIGYsZz0wLGg9dGhpcy5sZW5ndGg7ZzxoO2crKyl5KGYpPyhmPWEodGhpc1tnXSxiLGMsZSksdyhmKSYmKGY9RihmKSkpOlFjKGYsYSh0aGlzW2ddLGIsYyxlKSk7cmV0dXJuIHcoZik/Zjp0aGlzfTtPLnByb3RvdHlwZS5iaW5kPU8ucHJvdG90eXBlLm9uO08ucHJvdG90eXBlLnVuYmluZD1PLnByb3RvdHlwZS5vZmZ9KTtSYS5wcm90b3R5cGU9e3B1dDpmdW5jdGlvbihhLFxuYil7dGhpc1tDYShhLHRoaXMubmV4dFVpZCldPWJ9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpc1tDYShhLHRoaXMubmV4dFVpZCldfSxyZW1vdmU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpc1thPUNhKGEsdGhpcy5uZXh0VWlkKV07ZGVsZXRlIHRoaXNbYV07cmV0dXJuIGJ9fTt2YXIgSWY9W2Z1bmN0aW9uKCl7dGhpcy4kZ2V0PVtmdW5jdGlvbigpe3JldHVybiBSYX1dfV0sV2Y9L14oW15cXChdKz8pPT4vLFhmPS9eW15cXChdKlxcKFxccyooW15cXCldKilcXCkvbSxFZz0vLC8sRmc9L15cXHMqKF8/KShcXFMrPylcXDFcXHMqJC8sVmY9LygoXFwvXFwvLiokKXwoXFwvXFwqW1xcc1xcU10qP1xcKlxcLykpL21nLEhhPU4oXCIkaW5qZWN0b3JcIik7Y2IuJCRhbm5vdGF0ZT1mdW5jdGlvbihhLGIsZCl7dmFyIGM7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGEpe2lmKCEoYz1hLiRpbmplY3QpKXtjPVtdO2lmKGEubGVuZ3RoKXtpZihiKXRocm93IEcoZCkmJmR8fChkPWEubmFtZXx8WWYoYSkpLEhhKFwic3RyaWN0ZGlcIixkKTtcbmI9V2MoYSk7cShiWzFdLnNwbGl0KEVnKSxmdW5jdGlvbihhKXthLnJlcGxhY2UoRmcsZnVuY3Rpb24oYSxiLGQpe2MucHVzaChkKX0pfSl9YS4kaW5qZWN0PWN9fWVsc2UgTChhKT8oYj1hLmxlbmd0aC0xLFBhKGFbYl0sXCJmblwiKSxjPWEuc2xpY2UoMCxiKSk6UGEoYSxcImZuXCIsITApO3JldHVybiBjfTt2YXIgUmQ9TihcIiRhbmltYXRlXCIpLCRlPWZ1bmN0aW9uKCl7dGhpcy4kZ2V0PUF9LGFmPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IFJhLGI9W107dGhpcy4kZ2V0PVtcIiQkQW5pbWF0ZVJ1bm5lclwiLFwiJHJvb3RTY29wZVwiLGZ1bmN0aW9uKGQsYyl7ZnVuY3Rpb24gZShhLGIsYyl7dmFyIGQ9ITE7YiYmKGI9RyhiKT9iLnNwbGl0KFwiIFwiKTpMKGIpP2I6W10scShiLGZ1bmN0aW9uKGIpe2ImJihkPSEwLGFbYl09Yyl9KSk7cmV0dXJuIGR9ZnVuY3Rpb24gZigpe3EoYixmdW5jdGlvbihiKXt2YXIgYz1hLmdldChiKTtpZihjKXt2YXIgZD1aZihiLmF0dHIoXCJjbGFzc1wiKSksZT1cIlwiLGY9XCJcIjtxKGMsXG5mdW5jdGlvbihhLGIpe2EhPT0hIWRbYl0mJihhP2UrPShlLmxlbmd0aD9cIiBcIjpcIlwiKStiOmYrPShmLmxlbmd0aD9cIiBcIjpcIlwiKStiKX0pO3EoYixmdW5jdGlvbihhKXtlJiZCYihhLGUpO2YmJkFiKGEsZil9KTthLnJlbW92ZShiKX19KTtiLmxlbmd0aD0wfXJldHVybntlbmFibGVkOkEsb246QSxvZmY6QSxwaW46QSxwdXNoOmZ1bmN0aW9uKGcsaCxrLGwpe2wmJmwoKTtrPWt8fHt9O2suZnJvbSYmZy5jc3Moay5mcm9tKTtrLnRvJiZnLmNzcyhrLnRvKTtpZihrLmFkZENsYXNzfHxrLnJlbW92ZUNsYXNzKWlmKGg9ay5hZGRDbGFzcyxsPWsucmVtb3ZlQ2xhc3Msaz1hLmdldChnKXx8e30saD1lKGssaCwhMCksbD1lKGssbCwhMSksaHx8bClhLnB1dChnLGspLGIucHVzaChnKSwxPT09Yi5sZW5ndGgmJmMuJCRwb3N0RGlnZXN0KGYpO2c9bmV3IGQ7Zy5jb21wbGV0ZSgpO3JldHVybiBnfX19XX0sWWU9W1wiJHByb3ZpZGVcIixmdW5jdGlvbihhKXt2YXIgYj10aGlzO3RoaXMuJCRyZWdpc3RlcmVkQW5pbWF0aW9ucz1cbk9iamVjdC5jcmVhdGUobnVsbCk7dGhpcy5yZWdpc3Rlcj1mdW5jdGlvbihkLGMpe2lmKGQmJlwiLlwiIT09ZC5jaGFyQXQoMCkpdGhyb3cgUmQoXCJub3Rjc2VsXCIsZCk7dmFyIGU9ZCtcIi1hbmltYXRpb25cIjtiLiQkcmVnaXN0ZXJlZEFuaW1hdGlvbnNbZC5zdWJzdHIoMSldPWU7YS5mYWN0b3J5KGUsYyl9O3RoaXMuY2xhc3NOYW1lRmlsdGVyPWZ1bmN0aW9uKGEpe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoJiYodGhpcy4kJGNsYXNzTmFtZUZpbHRlcj1hIGluc3RhbmNlb2YgUmVnRXhwP2E6bnVsbCkmJi8oXFxzK3xcXC8pbmctYW5pbWF0ZShcXHMrfFxcLykvLnRlc3QodGhpcy4kJGNsYXNzTmFtZUZpbHRlci50b1N0cmluZygpKSl0aHJvdyBSZChcIm5vbmdjbHNcIixcIm5nLWFuaW1hdGVcIik7cmV0dXJuIHRoaXMuJCRjbGFzc05hbWVGaWx0ZXJ9O3RoaXMuJGdldD1bXCIkJGFuaW1hdGVRdWV1ZVwiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxjLGQpe2lmKGQpe3ZhciBoO2E6e2ZvcihoPTA7aDxkLmxlbmd0aDtoKyspe3ZhciBrPVxuZFtoXTtpZigxPT09ay5ub2RlVHlwZSl7aD1rO2JyZWFrIGF9fWg9dm9pZCAwfSFofHxoLnBhcmVudE5vZGV8fGgucHJldmlvdXNFbGVtZW50U2libGluZ3x8KGQ9bnVsbCl9ZD9kLmFmdGVyKGEpOmMucHJlcGVuZChhKX1yZXR1cm57b246YS5vbixvZmY6YS5vZmYscGluOmEucGluLGVuYWJsZWQ6YS5lbmFibGVkLGNhbmNlbDpmdW5jdGlvbihhKXthLmVuZCYmYS5lbmQoKX0sZW50ZXI6ZnVuY3Rpb24oZSxmLGcsaCl7Zj1mJiZGKGYpO2c9ZyYmRihnKTtmPWZ8fGcucGFyZW50KCk7YihlLGYsZyk7cmV0dXJuIGEucHVzaChlLFwiZW50ZXJcIixJYShoKSl9LG1vdmU6ZnVuY3Rpb24oZSxmLGcsaCl7Zj1mJiZGKGYpO2c9ZyYmRihnKTtmPWZ8fGcucGFyZW50KCk7YihlLGYsZyk7cmV0dXJuIGEucHVzaChlLFwibW92ZVwiLElhKGgpKX0sbGVhdmU6ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5wdXNoKGIsXCJsZWF2ZVwiLElhKGMpLGZ1bmN0aW9uKCl7Yi5yZW1vdmUoKX0pfSxhZGRDbGFzczpmdW5jdGlvbihiLFxuYyxnKXtnPUlhKGcpO2cuYWRkQ2xhc3M9Z2IoZy5hZGRjbGFzcyxjKTtyZXR1cm4gYS5wdXNoKGIsXCJhZGRDbGFzc1wiLGcpfSxyZW1vdmVDbGFzczpmdW5jdGlvbihiLGMsZyl7Zz1JYShnKTtnLnJlbW92ZUNsYXNzPWdiKGcucmVtb3ZlQ2xhc3MsYyk7cmV0dXJuIGEucHVzaChiLFwicmVtb3ZlQ2xhc3NcIixnKX0sc2V0Q2xhc3M6ZnVuY3Rpb24oYixjLGcsaCl7aD1JYShoKTtoLmFkZENsYXNzPWdiKGguYWRkQ2xhc3MsYyk7aC5yZW1vdmVDbGFzcz1nYihoLnJlbW92ZUNsYXNzLGcpO3JldHVybiBhLnB1c2goYixcInNldENsYXNzXCIsaCl9LGFuaW1hdGU6ZnVuY3Rpb24oYixjLGcsaCxrKXtrPUlhKGspO2suZnJvbT1rLmZyb20/UyhrLmZyb20sYyk6YztrLnRvPWsudG8/UyhrLnRvLGcpOmc7ay50ZW1wQ2xhc3Nlcz1nYihrLnRlbXBDbGFzc2VzLGh8fFwibmctaW5saW5lLWFuaW1hdGVcIik7cmV0dXJuIGEucHVzaChiLFwiYW5pbWF0ZVwiLGspfX19XX1dLGNmPWZ1bmN0aW9uKCl7dGhpcy4kZ2V0PVxuW1wiJCRyQUZcIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe2QucHVzaChiKTsxPGQubGVuZ3RofHxhKGZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTxkLmxlbmd0aDthKyspZFthXSgpO2Q9W119KX12YXIgZD1bXTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYT0hMTtiKGZ1bmN0aW9uKCl7YT0hMH0pO3JldHVybiBmdW5jdGlvbihkKXthP2QoKTpiKGQpfX19XX0sYmY9ZnVuY3Rpb24oKXt0aGlzLiRnZXQ9W1wiJHFcIixcIiRzbmlmZmVyXCIsXCIkJGFuaW1hdGVBc3luY1J1blwiLFwiJGRvY3VtZW50XCIsXCIkdGltZW91dFwiLGZ1bmN0aW9uKGEsYixkLGMsZSl7ZnVuY3Rpb24gZihhKXt0aGlzLnNldEhvc3QoYSk7dmFyIGI9ZCgpO3RoaXMuX2RvbmVDYWxsYmFja3M9W107dGhpcy5fdGljaz1mdW5jdGlvbihhKXt2YXIgZD1jWzBdO2QmJmQuaGlkZGVuP2UoYSwwLCExKTpiKGEpfTt0aGlzLl9zdGF0ZT0wfWYuY2hhaW49ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7aWYoZD09PWEubGVuZ3RoKWIoITApO1xuZWxzZSBhW2RdKGZ1bmN0aW9uKGEpeyExPT09YT9iKCExKTooZCsrLGMoKSl9KX12YXIgZD0wO2MoKX07Zi5hbGw9ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGYpe2U9ZSYmZjsrK2Q9PT1hLmxlbmd0aCYmYihlKX12YXIgZD0wLGU9ITA7cShhLGZ1bmN0aW9uKGEpe2EuZG9uZShjKX0pfTtmLnByb3RvdHlwZT17c2V0SG9zdDpmdW5jdGlvbihhKXt0aGlzLmhvc3Q9YXx8e319LGRvbmU6ZnVuY3Rpb24oYSl7Mj09PXRoaXMuX3N0YXRlP2EoKTp0aGlzLl9kb25lQ2FsbGJhY2tzLnB1c2goYSl9LHByb2dyZXNzOkEsZ2V0UHJvbWlzZTpmdW5jdGlvbigpe2lmKCF0aGlzLnByb21pc2Upe3ZhciBiPXRoaXM7dGhpcy5wcm9taXNlPWEoZnVuY3Rpb24oYSxjKXtiLmRvbmUoZnVuY3Rpb24oYil7ITE9PT1iP2MoKTphKCl9KX0pfXJldHVybiB0aGlzLnByb21pc2V9LHRoZW46ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5nZXRQcm9taXNlKCkudGhlbihhLGIpfSxcImNhdGNoXCI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0UHJvbWlzZSgpW1wiY2F0Y2hcIl0oYSl9LFxuXCJmaW5hbGx5XCI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0UHJvbWlzZSgpW1wiZmluYWxseVwiXShhKX0scGF1c2U6ZnVuY3Rpb24oKXt0aGlzLmhvc3QucGF1c2UmJnRoaXMuaG9zdC5wYXVzZSgpfSxyZXN1bWU6ZnVuY3Rpb24oKXt0aGlzLmhvc3QucmVzdW1lJiZ0aGlzLmhvc3QucmVzdW1lKCl9LGVuZDpmdW5jdGlvbigpe3RoaXMuaG9zdC5lbmQmJnRoaXMuaG9zdC5lbmQoKTt0aGlzLl9yZXNvbHZlKCEwKX0sY2FuY2VsOmZ1bmN0aW9uKCl7dGhpcy5ob3N0LmNhbmNlbCYmdGhpcy5ob3N0LmNhbmNlbCgpO3RoaXMuX3Jlc29sdmUoITEpfSxjb21wbGV0ZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzOzA9PT1iLl9zdGF0ZSYmKGIuX3N0YXRlPTEsYi5fdGljayhmdW5jdGlvbigpe2IuX3Jlc29sdmUoYSl9KSl9LF9yZXNvbHZlOmZ1bmN0aW9uKGEpezIhPT10aGlzLl9zdGF0ZSYmKHEodGhpcy5fZG9uZUNhbGxiYWNrcyxmdW5jdGlvbihiKXtiKGEpfSksdGhpcy5fZG9uZUNhbGxiYWNrcy5sZW5ndGg9XG4wLHRoaXMuX3N0YXRlPTIpfX07cmV0dXJuIGZ9XX0sWmU9ZnVuY3Rpb24oKXt0aGlzLiRnZXQ9W1wiJCRyQUZcIixcIiRxXCIsXCIkJEFuaW1hdGVSdW5uZXJcIixmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGIsZSl7ZnVuY3Rpb24gZigpe2EoZnVuY3Rpb24oKXtnLmFkZENsYXNzJiYoYi5hZGRDbGFzcyhnLmFkZENsYXNzKSxnLmFkZENsYXNzPW51bGwpO2cucmVtb3ZlQ2xhc3MmJihiLnJlbW92ZUNsYXNzKGcucmVtb3ZlQ2xhc3MpLGcucmVtb3ZlQ2xhc3M9bnVsbCk7Zy50byYmKGIuY3NzKGcudG8pLGcudG89bnVsbCk7aHx8ay5jb21wbGV0ZSgpO2g9ITB9KTtyZXR1cm4ga312YXIgZz1lfHx7fTtnLiQkcHJlcGFyZWR8fChnPXBhKGcpKTtnLmNsZWFudXBTdHlsZXMmJihnLmZyb209Zy50bz1udWxsKTtnLmZyb20mJihiLmNzcyhnLmZyb20pLGcuZnJvbT1udWxsKTt2YXIgaCxrPW5ldyBkO3JldHVybntzdGFydDpmLGVuZDpmfX19XX0sZ2E9TihcIiRjb21waWxlXCIpLGJjPW5ldyBmdW5jdGlvbigpe307XG5GYy4kaW5qZWN0PVtcIiRwcm92aWRlXCIsXCIkJHNhbml0aXplVXJpUHJvdmlkZXJcIl07RmIucHJvdG90eXBlLmlzRmlyc3RDaGFuZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmV2aW91c1ZhbHVlPT09YmN9O3ZhciBZYz0vXigoPzp4fGRhdGEpW1xcOlxcLV9dKS9pLGNnPU4oXCIkY29udHJvbGxlclwiKSxjZD0vXihcXFMrKShcXHMrYXNcXHMrKFtcXHckXSspKT8kLyxqZj1mdW5jdGlvbigpe3RoaXMuJGdldD1bXCIkZG9jdW1lbnRcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7Yj8hYi5ub2RlVHlwZSYmYiBpbnN0YW5jZW9mIEYmJihiPWJbMF0pOmI9YVswXS5ib2R5O3JldHVybiBiLm9mZnNldFdpZHRoKzF9fV19LGRkPVwiYXBwbGljYXRpb24vanNvblwiLGVjPXtcIkNvbnRlbnQtVHlwZVwiOmRkK1wiO2NoYXJzZXQ9dXRmLThcIn0sZWc9L15cXFt8Xlxceyg/IVxceykvLGZnPXtcIltcIjovXSQvLFwie1wiOi99JC99LGRnPS9eXFwpXFxdXFx9Jyw/XFxuLyxHZz1OKFwiJGh0dHBcIiksaGQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKCl7dGhyb3cgR2coXCJsZWdhY3lcIixcbmEpO319LEthPWNhLiRpbnRlcnBvbGF0ZU1pbkVycj1OKFwiJGludGVycG9sYXRlXCIpO0thLnRocm93Tm9jb25jYXQ9ZnVuY3Rpb24oYSl7dGhyb3cgS2EoXCJub2NvbmNhdFwiLGEpO307S2EuaW50ZXJyPWZ1bmN0aW9uKGEsYil7cmV0dXJuIEthKFwiaW50ZXJyXCIsYSxiLnRvU3RyaW5nKCkpfTt2YXIgcmY9ZnVuY3Rpb24oKXt0aGlzLiRnZXQ9W1wiJHdpbmRvd1wiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7dmFyIGI9ZnVuY3Rpb24oYSl7Yi5kYXRhPWE7Yi5jYWxsZWQ9ITB9O2IuaWQ9YTtyZXR1cm4gYn12YXIgZD1hLmFuZ3VsYXIuY2FsbGJhY2tzLGM9e307cmV0dXJue2NyZWF0ZUNhbGxiYWNrOmZ1bmN0aW9uKGEpe2E9XCJfXCIrKGQuJCRjb3VudGVyKyspLnRvU3RyaW5nKDM2KTt2YXIgZj1cImFuZ3VsYXIuY2FsbGJhY2tzLlwiK2EsZz1iKGEpO2NbZl09ZFthXT1nO3JldHVybiBmfSx3YXNDYWxsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGNbYV0uY2FsbGVkfSxnZXRSZXNwb25zZTpmdW5jdGlvbihhKXtyZXR1cm4gY1thXS5kYXRhfSxcbnJlbW92ZUNhbGxiYWNrOmZ1bmN0aW9uKGEpe2RlbGV0ZSBkW2NbYV0uaWRdO2RlbGV0ZSBjW2FdfX19XX0sSGc9L14oW15cXD8jXSopKFxcPyhbXiNdKikpPygjKC4qKSk/JC8saGc9e2h0dHA6ODAsaHR0cHM6NDQzLGZ0cDoyMX0sR2I9TihcIiRsb2NhdGlvblwiKSxJZz17JCRhYnNVcmw6XCJcIiwkJGh0bWw1OiExLCQkcmVwbGFjZTohMSxhYnNVcmw6SGIoXCIkJGFic1VybFwiKSx1cmw6ZnVuY3Rpb24oYSl7aWYoeShhKSlyZXR1cm4gdGhpcy4kJHVybDt2YXIgYj1IZy5leGVjKGEpOyhiWzFdfHxcIlwiPT09YSkmJnRoaXMucGF0aChkZWNvZGVVUklDb21wb25lbnQoYlsxXSkpOyhiWzJdfHxiWzFdfHxcIlwiPT09YSkmJnRoaXMuc2VhcmNoKGJbM118fFwiXCIpO3RoaXMuaGFzaChiWzVdfHxcIlwiKTtyZXR1cm4gdGhpc30scHJvdG9jb2w6SGIoXCIkJHByb3RvY29sXCIpLGhvc3Q6SGIoXCIkJGhvc3RcIikscG9ydDpIYihcIiQkcG9ydFwiKSxwYXRoOm1kKFwiJCRwYXRoXCIsZnVuY3Rpb24oYSl7YT1udWxsIT09YT9hLnRvU3RyaW5nKCk6XG5cIlwiO3JldHVyblwiL1wiPT1hLmNoYXJBdCgwKT9hOlwiL1wiK2F9KSxzZWFyY2g6ZnVuY3Rpb24oYSxiKXtzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7Y2FzZSAwOnJldHVybiB0aGlzLiQkc2VhcmNoO2Nhc2UgMTppZihHKGEpfHxUKGEpKWE9YS50b1N0cmluZygpLHRoaXMuJCRzZWFyY2g9QWMoYSk7ZWxzZSBpZihEKGEpKWE9cGEoYSx7fSkscShhLGZ1bmN0aW9uKGIsYyl7bnVsbD09YiYmZGVsZXRlIGFbY119KSx0aGlzLiQkc2VhcmNoPWE7ZWxzZSB0aHJvdyBHYihcImlzcmNoYXJnXCIpO2JyZWFrO2RlZmF1bHQ6eShiKXx8bnVsbD09PWI/ZGVsZXRlIHRoaXMuJCRzZWFyY2hbYV06dGhpcy4kJHNlYXJjaFthXT1ifXRoaXMuJCRjb21wb3NlKCk7cmV0dXJuIHRoaXN9LGhhc2g6bWQoXCIkJGhhc2hcIixmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9PWE/YS50b1N0cmluZygpOlwiXCJ9KSxyZXBsYWNlOmZ1bmN0aW9uKCl7dGhpcy4kJHJlcGxhY2U9ITA7cmV0dXJuIHRoaXN9fTtxKFtsZCxoYyxnY10sXG5mdW5jdGlvbihhKXthLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKElnKTthLnByb3RvdHlwZS5zdGF0ZT1mdW5jdGlvbihiKXtpZighYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdGhpcy4kJHN0YXRlO2lmKGEhPT1nY3x8IXRoaXMuJCRodG1sNSl0aHJvdyBHYihcIm5vc3RhdGVcIik7dGhpcy4kJHN0YXRlPXkoYik/bnVsbDpiO3JldHVybiB0aGlzfX0pO3ZhciBYPU4oXCIkcGFyc2VcIiksamc9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwsa2c9RnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LGxnPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLE9iPVUoKTtxKFwiKyAtICogLyAlID09PSAhPT0gPT0gIT0gPCA+IDw9ID49ICYmIHx8ICEgPSB8XCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEpe09iW2FdPSEwfSk7dmFyIEpnPXtuOlwiXFxuXCIsZjpcIlxcZlwiLHI6XCJcXHJcIix0OlwiXFx0XCIsdjpcIlxcdlwiLFwiJ1wiOlwiJ1wiLCdcIic6J1wiJ30samM9ZnVuY3Rpb24oYSl7dGhpcy5vcHRpb25zPWF9O2pjLnByb3RvdHlwZT17Y29uc3RydWN0b3I6amMsXG5sZXg6ZnVuY3Rpb24oYSl7dGhpcy50ZXh0PWE7dGhpcy5pbmRleD0wO2Zvcih0aGlzLnRva2Vucz1bXTt0aGlzLmluZGV4PHRoaXMudGV4dC5sZW5ndGg7KWlmKGE9dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KSwnXCInPT09YXx8XCInXCI9PT1hKXRoaXMucmVhZFN0cmluZyhhKTtlbHNlIGlmKHRoaXMuaXNOdW1iZXIoYSl8fFwiLlwiPT09YSYmdGhpcy5pc051bWJlcih0aGlzLnBlZWsoKSkpdGhpcy5yZWFkTnVtYmVyKCk7ZWxzZSBpZih0aGlzLmlzSWRlbnRpZmllclN0YXJ0KHRoaXMucGVla011bHRpY2hhcigpKSl0aGlzLnJlYWRJZGVudCgpO2Vsc2UgaWYodGhpcy5pcyhhLFwiKCl7fVtdLiw7Oj9cIikpdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6dGhpcy5pbmRleCx0ZXh0OmF9KSx0aGlzLmluZGV4Kys7ZWxzZSBpZih0aGlzLmlzV2hpdGVzcGFjZShhKSl0aGlzLmluZGV4Kys7ZWxzZXt2YXIgYj1hK3RoaXMucGVlaygpLGQ9Yit0aGlzLnBlZWsoMiksYz1PYltiXSxlPU9iW2RdO09iW2FdfHxcbmN8fGU/KGE9ZT9kOmM/YjphLHRoaXMudG9rZW5zLnB1c2goe2luZGV4OnRoaXMuaW5kZXgsdGV4dDphLG9wZXJhdG9yOiEwfSksdGhpcy5pbmRleCs9YS5sZW5ndGgpOnRoaXMudGhyb3dFcnJvcihcIlVuZXhwZWN0ZWQgbmV4dCBjaGFyYWN0ZXIgXCIsdGhpcy5pbmRleCx0aGlzLmluZGV4KzEpfXJldHVybiB0aGlzLnRva2Vuc30saXM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4tMSE9PWIuaW5kZXhPZihhKX0scGVlazpmdW5jdGlvbihhKXthPWF8fDE7cmV0dXJuIHRoaXMuaW5kZXgrYTx0aGlzLnRleHQubGVuZ3RoP3RoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCthKTohMX0saXNOdW1iZXI6ZnVuY3Rpb24oYSl7cmV0dXJuXCIwXCI8PWEmJlwiOVwiPj1hJiZcInN0cmluZ1wiPT09dHlwZW9mIGF9LGlzV2hpdGVzcGFjZTpmdW5jdGlvbihhKXtyZXR1cm5cIiBcIj09PWF8fFwiXFxyXCI9PT1hfHxcIlxcdFwiPT09YXx8XCJcXG5cIj09PWF8fFwiXFx2XCI9PT1hfHxcIlxcdTAwYTBcIj09PWF9LGlzSWRlbnRpZmllclN0YXJ0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm9wdGlvbnMuaXNJZGVudGlmaWVyU3RhcnQ/XG50aGlzLm9wdGlvbnMuaXNJZGVudGlmaWVyU3RhcnQoYSx0aGlzLmNvZGVQb2ludEF0KGEpKTp0aGlzLmlzVmFsaWRJZGVudGlmaWVyU3RhcnQoYSl9LGlzVmFsaWRJZGVudGlmaWVyU3RhcnQ6ZnVuY3Rpb24oYSl7cmV0dXJuXCJhXCI8PWEmJlwielwiPj1hfHxcIkFcIjw9YSYmXCJaXCI+PWF8fFwiX1wiPT09YXx8XCIkXCI9PT1hfSxpc0lkZW50aWZpZXJDb250aW51ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vcHRpb25zLmlzSWRlbnRpZmllckNvbnRpbnVlP3RoaXMub3B0aW9ucy5pc0lkZW50aWZpZXJDb250aW51ZShhLHRoaXMuY29kZVBvaW50QXQoYSkpOnRoaXMuaXNWYWxpZElkZW50aWZpZXJDb250aW51ZShhKX0saXNWYWxpZElkZW50aWZpZXJDb250aW51ZTpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmlzVmFsaWRJZGVudGlmaWVyU3RhcnQoYSxiKXx8dGhpcy5pc051bWJlcihhKX0sY29kZVBvaW50QXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIDE9PT1hLmxlbmd0aD9hLmNoYXJDb2RlQXQoMCk6XG4oYS5jaGFyQ29kZUF0KDApPDwxMCkrYS5jaGFyQ29kZUF0KDEpLTU2NjEzODg4fSxwZWVrTXVsdGljaGFyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KSxiPXRoaXMucGVlaygpO2lmKCFiKXJldHVybiBhO3ZhciBkPWEuY2hhckNvZGVBdCgwKSxjPWIuY2hhckNvZGVBdCgwKTtyZXR1cm4gNTUyOTY8PWQmJjU2MzE5Pj1kJiY1NjMyMDw9YyYmNTczNDM+PWM/YStiOmF9LGlzRXhwT3BlcmF0b3I6ZnVuY3Rpb24oYSl7cmV0dXJuXCItXCI9PT1hfHxcIitcIj09PWF8fHRoaXMuaXNOdW1iZXIoYSl9LHRocm93RXJyb3I6ZnVuY3Rpb24oYSxiLGQpe2Q9ZHx8dGhpcy5pbmRleDtiPXcoYik/XCJzIFwiK2IrXCItXCIrdGhpcy5pbmRleCtcIiBbXCIrdGhpcy50ZXh0LnN1YnN0cmluZyhiLGQpK1wiXVwiOlwiIFwiK2Q7dGhyb3cgWChcImxleGVyclwiLGEsYix0aGlzLnRleHQpO30scmVhZE51bWJlcjpmdW5jdGlvbigpe2Zvcih2YXIgYT1cIlwiLGI9dGhpcy5pbmRleDt0aGlzLmluZGV4PFxudGhpcy50ZXh0Lmxlbmd0aDspe3ZhciBkPVEodGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KSk7aWYoXCIuXCI9PWR8fHRoaXMuaXNOdW1iZXIoZCkpYSs9ZDtlbHNle3ZhciBjPXRoaXMucGVlaygpO2lmKFwiZVwiPT1kJiZ0aGlzLmlzRXhwT3BlcmF0b3IoYykpYSs9ZDtlbHNlIGlmKHRoaXMuaXNFeHBPcGVyYXRvcihkKSYmYyYmdGhpcy5pc051bWJlcihjKSYmXCJlXCI9PWEuY2hhckF0KGEubGVuZ3RoLTEpKWErPWQ7ZWxzZSBpZighdGhpcy5pc0V4cE9wZXJhdG9yKGQpfHxjJiZ0aGlzLmlzTnVtYmVyKGMpfHxcImVcIiE9YS5jaGFyQXQoYS5sZW5ndGgtMSkpYnJlYWs7ZWxzZSB0aGlzLnRocm93RXJyb3IoXCJJbnZhbGlkIGV4cG9uZW50XCIpfXRoaXMuaW5kZXgrK310aGlzLnRva2Vucy5wdXNoKHtpbmRleDpiLHRleHQ6YSxjb25zdGFudDohMCx2YWx1ZTpOdW1iZXIoYSl9KX0scmVhZElkZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pbmRleDtmb3IodGhpcy5pbmRleCs9dGhpcy5wZWVrTXVsdGljaGFyKCkubGVuZ3RoO3RoaXMuaW5kZXg8XG50aGlzLnRleHQubGVuZ3RoOyl7dmFyIGI9dGhpcy5wZWVrTXVsdGljaGFyKCk7aWYoIXRoaXMuaXNJZGVudGlmaWVyQ29udGludWUoYikpYnJlYWs7dGhpcy5pbmRleCs9Yi5sZW5ndGh9dGhpcy50b2tlbnMucHVzaCh7aW5kZXg6YSx0ZXh0OnRoaXMudGV4dC5zbGljZShhLHRoaXMuaW5kZXgpLGlkZW50aWZpZXI6ITB9KX0scmVhZFN0cmluZzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmluZGV4O3RoaXMuaW5kZXgrKztmb3IodmFyIGQ9XCJcIixjPWEsZT0hMTt0aGlzLmluZGV4PHRoaXMudGV4dC5sZW5ndGg7KXt2YXIgZj10aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpLGM9YytmO2lmKGUpXCJ1XCI9PT1mPyhlPXRoaXMudGV4dC5zdWJzdHJpbmcodGhpcy5pbmRleCsxLHRoaXMuaW5kZXgrNSksZS5tYXRjaCgvW1xcZGEtZl17NH0vaSl8fHRoaXMudGhyb3dFcnJvcihcIkludmFsaWQgdW5pY29kZSBlc2NhcGUgW1xcXFx1XCIrZStcIl1cIiksdGhpcy5pbmRleCs9NCxkKz1TdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGUsXG4xNikpKTpkKz1KZ1tmXXx8ZixlPSExO2Vsc2UgaWYoXCJcXFxcXCI9PT1mKWU9ITA7ZWxzZXtpZihmPT09YSl7dGhpcy5pbmRleCsrO3RoaXMudG9rZW5zLnB1c2goe2luZGV4OmIsdGV4dDpjLGNvbnN0YW50OiEwLHZhbHVlOmR9KTtyZXR1cm59ZCs9Zn10aGlzLmluZGV4Kyt9dGhpcy50aHJvd0Vycm9yKFwiVW50ZXJtaW5hdGVkIHF1b3RlXCIsYil9fTt2YXIgcz1mdW5jdGlvbihhLGIpe3RoaXMubGV4ZXI9YTt0aGlzLm9wdGlvbnM9Yn07cy5Qcm9ncmFtPVwiUHJvZ3JhbVwiO3MuRXhwcmVzc2lvblN0YXRlbWVudD1cIkV4cHJlc3Npb25TdGF0ZW1lbnRcIjtzLkFzc2lnbm1lbnRFeHByZXNzaW9uPVwiQXNzaWdubWVudEV4cHJlc3Npb25cIjtzLkNvbmRpdGlvbmFsRXhwcmVzc2lvbj1cIkNvbmRpdGlvbmFsRXhwcmVzc2lvblwiO3MuTG9naWNhbEV4cHJlc3Npb249XCJMb2dpY2FsRXhwcmVzc2lvblwiO3MuQmluYXJ5RXhwcmVzc2lvbj1cIkJpbmFyeUV4cHJlc3Npb25cIjtzLlVuYXJ5RXhwcmVzc2lvbj1cIlVuYXJ5RXhwcmVzc2lvblwiO1xucy5DYWxsRXhwcmVzc2lvbj1cIkNhbGxFeHByZXNzaW9uXCI7cy5NZW1iZXJFeHByZXNzaW9uPVwiTWVtYmVyRXhwcmVzc2lvblwiO3MuSWRlbnRpZmllcj1cIklkZW50aWZpZXJcIjtzLkxpdGVyYWw9XCJMaXRlcmFsXCI7cy5BcnJheUV4cHJlc3Npb249XCJBcnJheUV4cHJlc3Npb25cIjtzLlByb3BlcnR5PVwiUHJvcGVydHlcIjtzLk9iamVjdEV4cHJlc3Npb249XCJPYmplY3RFeHByZXNzaW9uXCI7cy5UaGlzRXhwcmVzc2lvbj1cIlRoaXNFeHByZXNzaW9uXCI7cy5Mb2NhbHNFeHByZXNzaW9uPVwiTG9jYWxzRXhwcmVzc2lvblwiO3MuTkdWYWx1ZVBhcmFtZXRlcj1cIk5HVmFsdWVQYXJhbWV0ZXJcIjtzLnByb3RvdHlwZT17YXN0OmZ1bmN0aW9uKGEpe3RoaXMudGV4dD1hO3RoaXMudG9rZW5zPXRoaXMubGV4ZXIubGV4KGEpO2E9dGhpcy5wcm9ncmFtKCk7MCE9PXRoaXMudG9rZW5zLmxlbmd0aCYmdGhpcy50aHJvd0Vycm9yKFwiaXMgYW4gdW5leHBlY3RlZCB0b2tlblwiLHRoaXMudG9rZW5zWzBdKTtyZXR1cm4gYX0sXG5wcm9ncmFtOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdOzspaWYoMDx0aGlzLnRva2Vucy5sZW5ndGgmJiF0aGlzLnBlZWsoXCJ9XCIsXCIpXCIsXCI7XCIsXCJdXCIpJiZhLnB1c2godGhpcy5leHByZXNzaW9uU3RhdGVtZW50KCkpLCF0aGlzLmV4cGVjdChcIjtcIikpcmV0dXJue3R5cGU6cy5Qcm9ncmFtLGJvZHk6YX19LGV4cHJlc3Npb25TdGF0ZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpzLkV4cHJlc3Npb25TdGF0ZW1lbnQsZXhwcmVzc2lvbjp0aGlzLmZpbHRlckNoYWluKCl9fSxmaWx0ZXJDaGFpbjpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmV4cHJlc3Npb24oKTt0aGlzLmV4cGVjdChcInxcIik7KWE9dGhpcy5maWx0ZXIoYSk7cmV0dXJuIGF9LGV4cHJlc3Npb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hc3NpZ25tZW50KCl9LGFzc2lnbm1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRlcm5hcnkoKTt0aGlzLmV4cGVjdChcIj1cIikmJihhPXt0eXBlOnMuQXNzaWdubWVudEV4cHJlc3Npb24sXG5sZWZ0OmEscmlnaHQ6dGhpcy5hc3NpZ25tZW50KCksb3BlcmF0b3I6XCI9XCJ9KTtyZXR1cm4gYX0sdGVybmFyeTpmdW5jdGlvbigpe3ZhciBhPXRoaXMubG9naWNhbE9SKCksYixkO3JldHVybiB0aGlzLmV4cGVjdChcIj9cIikmJihiPXRoaXMuZXhwcmVzc2lvbigpLHRoaXMuY29uc3VtZShcIjpcIikpPyhkPXRoaXMuZXhwcmVzc2lvbigpLHt0eXBlOnMuQ29uZGl0aW9uYWxFeHByZXNzaW9uLHRlc3Q6YSxhbHRlcm5hdGU6Yixjb25zZXF1ZW50OmR9KTphfSxsb2dpY2FsT1I6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5sb2dpY2FsQU5EKCk7dGhpcy5leHBlY3QoXCJ8fFwiKTspYT17dHlwZTpzLkxvZ2ljYWxFeHByZXNzaW9uLG9wZXJhdG9yOlwifHxcIixsZWZ0OmEscmlnaHQ6dGhpcy5sb2dpY2FsQU5EKCl9O3JldHVybiBhfSxsb2dpY2FsQU5EOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuZXF1YWxpdHkoKTt0aGlzLmV4cGVjdChcIiYmXCIpOylhPXt0eXBlOnMuTG9naWNhbEV4cHJlc3Npb24sXG5vcGVyYXRvcjpcIiYmXCIsbGVmdDphLHJpZ2h0OnRoaXMuZXF1YWxpdHkoKX07cmV0dXJuIGF9LGVxdWFsaXR5OmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMucmVsYXRpb25hbCgpLGI7Yj10aGlzLmV4cGVjdChcIj09XCIsXCIhPVwiLFwiPT09XCIsXCIhPT1cIik7KWE9e3R5cGU6cy5CaW5hcnlFeHByZXNzaW9uLG9wZXJhdG9yOmIudGV4dCxsZWZ0OmEscmlnaHQ6dGhpcy5yZWxhdGlvbmFsKCl9O3JldHVybiBhfSxyZWxhdGlvbmFsOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMuYWRkaXRpdmUoKSxiO2I9dGhpcy5leHBlY3QoXCI8XCIsXCI+XCIsXCI8PVwiLFwiPj1cIik7KWE9e3R5cGU6cy5CaW5hcnlFeHByZXNzaW9uLG9wZXJhdG9yOmIudGV4dCxsZWZ0OmEscmlnaHQ6dGhpcy5hZGRpdGl2ZSgpfTtyZXR1cm4gYX0sYWRkaXRpdmU6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5tdWx0aXBsaWNhdGl2ZSgpLGI7Yj10aGlzLmV4cGVjdChcIitcIixcIi1cIik7KWE9e3R5cGU6cy5CaW5hcnlFeHByZXNzaW9uLG9wZXJhdG9yOmIudGV4dCxcbmxlZnQ6YSxyaWdodDp0aGlzLm11bHRpcGxpY2F0aXZlKCl9O3JldHVybiBhfSxtdWx0aXBsaWNhdGl2ZTpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLnVuYXJ5KCksYjtiPXRoaXMuZXhwZWN0KFwiKlwiLFwiL1wiLFwiJVwiKTspYT17dHlwZTpzLkJpbmFyeUV4cHJlc3Npb24sb3BlcmF0b3I6Yi50ZXh0LGxlZnQ6YSxyaWdodDp0aGlzLnVuYXJ5KCl9O3JldHVybiBhfSx1bmFyeTpmdW5jdGlvbigpe3ZhciBhO3JldHVybihhPXRoaXMuZXhwZWN0KFwiK1wiLFwiLVwiLFwiIVwiKSk/e3R5cGU6cy5VbmFyeUV4cHJlc3Npb24sb3BlcmF0b3I6YS50ZXh0LHByZWZpeDohMCxhcmd1bWVudDp0aGlzLnVuYXJ5KCl9OnRoaXMucHJpbWFyeSgpfSxwcmltYXJ5OmZ1bmN0aW9uKCl7dmFyIGE7dGhpcy5leHBlY3QoXCIoXCIpPyhhPXRoaXMuZmlsdGVyQ2hhaW4oKSx0aGlzLmNvbnN1bWUoXCIpXCIpKTp0aGlzLmV4cGVjdChcIltcIik/YT10aGlzLmFycmF5RGVjbGFyYXRpb24oKTp0aGlzLmV4cGVjdChcIntcIik/YT10aGlzLm9iamVjdCgpOlxudGhpcy5zZWxmUmVmZXJlbnRpYWwuaGFzT3duUHJvcGVydHkodGhpcy5wZWVrKCkudGV4dCk/YT1wYSh0aGlzLnNlbGZSZWZlcmVudGlhbFt0aGlzLmNvbnN1bWUoKS50ZXh0XSk6dGhpcy5vcHRpb25zLmxpdGVyYWxzLmhhc093blByb3BlcnR5KHRoaXMucGVlaygpLnRleHQpP2E9e3R5cGU6cy5MaXRlcmFsLHZhbHVlOnRoaXMub3B0aW9ucy5saXRlcmFsc1t0aGlzLmNvbnN1bWUoKS50ZXh0XX06dGhpcy5wZWVrKCkuaWRlbnRpZmllcj9hPXRoaXMuaWRlbnRpZmllcigpOnRoaXMucGVlaygpLmNvbnN0YW50P2E9dGhpcy5jb25zdGFudCgpOnRoaXMudGhyb3dFcnJvcihcIm5vdCBhIHByaW1hcnkgZXhwcmVzc2lvblwiLHRoaXMucGVlaygpKTtmb3IodmFyIGI7Yj10aGlzLmV4cGVjdChcIihcIixcIltcIixcIi5cIik7KVwiKFwiPT09Yi50ZXh0PyhhPXt0eXBlOnMuQ2FsbEV4cHJlc3Npb24sY2FsbGVlOmEsYXJndW1lbnRzOnRoaXMucGFyc2VBcmd1bWVudHMoKX0sdGhpcy5jb25zdW1lKFwiKVwiKSk6XG5cIltcIj09PWIudGV4dD8oYT17dHlwZTpzLk1lbWJlckV4cHJlc3Npb24sb2JqZWN0OmEscHJvcGVydHk6dGhpcy5leHByZXNzaW9uKCksY29tcHV0ZWQ6ITB9LHRoaXMuY29uc3VtZShcIl1cIikpOlwiLlwiPT09Yi50ZXh0P2E9e3R5cGU6cy5NZW1iZXJFeHByZXNzaW9uLG9iamVjdDphLHByb3BlcnR5OnRoaXMuaWRlbnRpZmllcigpLGNvbXB1dGVkOiExfTp0aGlzLnRocm93RXJyb3IoXCJJTVBPU1NJQkxFXCIpO3JldHVybiBhfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7YT1bYV07Zm9yKHZhciBiPXt0eXBlOnMuQ2FsbEV4cHJlc3Npb24sY2FsbGVlOnRoaXMuaWRlbnRpZmllcigpLGFyZ3VtZW50czphLGZpbHRlcjohMH07dGhpcy5leHBlY3QoXCI6XCIpOylhLnB1c2godGhpcy5leHByZXNzaW9uKCkpO3JldHVybiBifSxwYXJzZUFyZ3VtZW50czpmdW5jdGlvbigpe3ZhciBhPVtdO2lmKFwiKVwiIT09dGhpcy5wZWVrVG9rZW4oKS50ZXh0KXtkbyBhLnB1c2godGhpcy5maWx0ZXJDaGFpbigpKTt3aGlsZSh0aGlzLmV4cGVjdChcIixcIikpXG59cmV0dXJuIGF9LGlkZW50aWZpZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNvbnN1bWUoKTthLmlkZW50aWZpZXJ8fHRoaXMudGhyb3dFcnJvcihcImlzIG5vdCBhIHZhbGlkIGlkZW50aWZpZXJcIixhKTtyZXR1cm57dHlwZTpzLklkZW50aWZpZXIsbmFtZTphLnRleHR9fSxjb25zdGFudDpmdW5jdGlvbigpe3JldHVybnt0eXBlOnMuTGl0ZXJhbCx2YWx1ZTp0aGlzLmNvbnN1bWUoKS52YWx1ZX19LGFycmF5RGVjbGFyYXRpb246ZnVuY3Rpb24oKXt2YXIgYT1bXTtpZihcIl1cIiE9PXRoaXMucGVla1Rva2VuKCkudGV4dCl7ZG97aWYodGhpcy5wZWVrKFwiXVwiKSlicmVhazthLnB1c2godGhpcy5leHByZXNzaW9uKCkpfXdoaWxlKHRoaXMuZXhwZWN0KFwiLFwiKSl9dGhpcy5jb25zdW1lKFwiXVwiKTtyZXR1cm57dHlwZTpzLkFycmF5RXhwcmVzc2lvbixlbGVtZW50czphfX0sb2JqZWN0OmZ1bmN0aW9uKCl7dmFyIGE9W10sYjtpZihcIn1cIiE9PXRoaXMucGVla1Rva2VuKCkudGV4dCl7ZG97aWYodGhpcy5wZWVrKFwifVwiKSlicmVhaztcbmI9e3R5cGU6cy5Qcm9wZXJ0eSxraW5kOlwiaW5pdFwifTt0aGlzLnBlZWsoKS5jb25zdGFudD8oYi5rZXk9dGhpcy5jb25zdGFudCgpLGIuY29tcHV0ZWQ9ITEsdGhpcy5jb25zdW1lKFwiOlwiKSxiLnZhbHVlPXRoaXMuZXhwcmVzc2lvbigpKTp0aGlzLnBlZWsoKS5pZGVudGlmaWVyPyhiLmtleT10aGlzLmlkZW50aWZpZXIoKSxiLmNvbXB1dGVkPSExLHRoaXMucGVlayhcIjpcIik/KHRoaXMuY29uc3VtZShcIjpcIiksYi52YWx1ZT10aGlzLmV4cHJlc3Npb24oKSk6Yi52YWx1ZT1iLmtleSk6dGhpcy5wZWVrKFwiW1wiKT8odGhpcy5jb25zdW1lKFwiW1wiKSxiLmtleT10aGlzLmV4cHJlc3Npb24oKSx0aGlzLmNvbnN1bWUoXCJdXCIpLGIuY29tcHV0ZWQ9ITAsdGhpcy5jb25zdW1lKFwiOlwiKSxiLnZhbHVlPXRoaXMuZXhwcmVzc2lvbigpKTp0aGlzLnRocm93RXJyb3IoXCJpbnZhbGlkIGtleVwiLHRoaXMucGVlaygpKTthLnB1c2goYil9d2hpbGUodGhpcy5leHBlY3QoXCIsXCIpKX10aGlzLmNvbnN1bWUoXCJ9XCIpO1xucmV0dXJue3R5cGU6cy5PYmplY3RFeHByZXNzaW9uLHByb3BlcnRpZXM6YX19LHRocm93RXJyb3I6ZnVuY3Rpb24oYSxiKXt0aHJvdyBYKFwic3ludGF4XCIsYi50ZXh0LGEsYi5pbmRleCsxLHRoaXMudGV4dCx0aGlzLnRleHQuc3Vic3RyaW5nKGIuaW5kZXgpKTt9LGNvbnN1bWU6ZnVuY3Rpb24oYSl7aWYoMD09PXRoaXMudG9rZW5zLmxlbmd0aCl0aHJvdyBYKFwidWVvZVwiLHRoaXMudGV4dCk7dmFyIGI9dGhpcy5leHBlY3QoYSk7Ynx8dGhpcy50aHJvd0Vycm9yKFwiaXMgdW5leHBlY3RlZCwgZXhwZWN0aW5nIFtcIithK1wiXVwiLHRoaXMucGVlaygpKTtyZXR1cm4gYn0scGVla1Rva2VuOmZ1bmN0aW9uKCl7aWYoMD09PXRoaXMudG9rZW5zLmxlbmd0aCl0aHJvdyBYKFwidWVvZVwiLHRoaXMudGV4dCk7cmV0dXJuIHRoaXMudG9rZW5zWzBdfSxwZWVrOmZ1bmN0aW9uKGEsYixkLGMpe3JldHVybiB0aGlzLnBlZWtBaGVhZCgwLGEsYixkLGMpfSxwZWVrQWhlYWQ6ZnVuY3Rpb24oYSxiLGQsYyxlKXtpZih0aGlzLnRva2Vucy5sZW5ndGg+XG5hKXthPXRoaXMudG9rZW5zW2FdO3ZhciBmPWEudGV4dDtpZihmPT09Ynx8Zj09PWR8fGY9PT1jfHxmPT09ZXx8IShifHxkfHxjfHxlKSlyZXR1cm4gYX1yZXR1cm4hMX0sZXhwZWN0OmZ1bmN0aW9uKGEsYixkLGMpe3JldHVybihhPXRoaXMucGVlayhhLGIsZCxjKSk/KHRoaXMudG9rZW5zLnNoaWZ0KCksYSk6ITF9LHNlbGZSZWZlcmVudGlhbDp7XCJ0aGlzXCI6e3R5cGU6cy5UaGlzRXhwcmVzc2lvbn0sJGxvY2Fsczp7dHlwZTpzLkxvY2Fsc0V4cHJlc3Npb259fX07dGQucHJvdG90eXBlPXtjb21waWxlOmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcyxjPXRoaXMuYXN0QnVpbGRlci5hc3QoYSk7dGhpcy5zdGF0ZT17bmV4dElkOjAsZmlsdGVyczp7fSxleHBlbnNpdmVDaGVja3M6Yixmbjp7dmFyczpbXSxib2R5OltdLG93bjp7fX0sYXNzaWduOnt2YXJzOltdLGJvZHk6W10sb3duOnt9fSxpbnB1dHM6W119O1YoYyxkLiRmaWx0ZXIpO3ZhciBlPVwiXCIsZjt0aGlzLnN0YWdlPVwiYXNzaWduXCI7XG5pZihmPXJkKGMpKXRoaXMuc3RhdGUuY29tcHV0aW5nPVwiYXNzaWduXCIsZT10aGlzLm5leHRJZCgpLHRoaXMucmVjdXJzZShmLGUpLHRoaXMucmV0dXJuXyhlKSxlPVwiZm4uYXNzaWduPVwiK3RoaXMuZ2VuZXJhdGVGdW5jdGlvbihcImFzc2lnblwiLFwicyx2LGxcIik7Zj1wZChjLmJvZHkpO2Quc3RhZ2U9XCJpbnB1dHNcIjtxKGYsZnVuY3Rpb24oYSxiKXt2YXIgYz1cImZuXCIrYjtkLnN0YXRlW2NdPXt2YXJzOltdLGJvZHk6W10sb3duOnt9fTtkLnN0YXRlLmNvbXB1dGluZz1jO3ZhciBlPWQubmV4dElkKCk7ZC5yZWN1cnNlKGEsZSk7ZC5yZXR1cm5fKGUpO2Quc3RhdGUuaW5wdXRzLnB1c2goYyk7YS53YXRjaElkPWJ9KTt0aGlzLnN0YXRlLmNvbXB1dGluZz1cImZuXCI7dGhpcy5zdGFnZT1cIm1haW5cIjt0aGlzLnJlY3Vyc2UoYyk7ZT0nXCInK3RoaXMuVVNFK1wiIFwiK3RoaXMuU1RSSUNUKydcIjtcXG4nK3RoaXMuZmlsdGVyUHJlZml4KCkrXCJ2YXIgZm49XCIrdGhpcy5nZW5lcmF0ZUZ1bmN0aW9uKFwiZm5cIixcInMsbCxhLGlcIikrXG5lK3RoaXMud2F0Y2hGbnMoKStcInJldHVybiBmbjtcIjtlPShuZXcgRnVuY3Rpb24oXCIkZmlsdGVyXCIsXCJlbnN1cmVTYWZlTWVtYmVyTmFtZVwiLFwiZW5zdXJlU2FmZU9iamVjdFwiLFwiZW5zdXJlU2FmZUZ1bmN0aW9uXCIsXCJnZXRTdHJpbmdWYWx1ZVwiLFwiZW5zdXJlU2FmZUFzc2lnbkNvbnRleHRcIixcImlmRGVmaW5lZFwiLFwicGx1c1wiLFwidGV4dFwiLGUpKSh0aGlzLiRmaWx0ZXIsU2EscmEsbmQsaWcsSWIsbWcsb2QsYSk7dGhpcy5zdGF0ZT10aGlzLnN0YWdlPXZvaWQgMDtlLmxpdGVyYWw9c2QoYyk7ZS5jb25zdGFudD1jLmNvbnN0YW50O3JldHVybiBlfSxVU0U6XCJ1c2VcIixTVFJJQ1Q6XCJzdHJpY3RcIix3YXRjaEZuczpmdW5jdGlvbigpe3ZhciBhPVtdLGI9dGhpcy5zdGF0ZS5pbnB1dHMsZD10aGlzO3EoYixmdW5jdGlvbihiKXthLnB1c2goXCJ2YXIgXCIrYitcIj1cIitkLmdlbmVyYXRlRnVuY3Rpb24oYixcInNcIikpfSk7Yi5sZW5ndGgmJmEucHVzaChcImZuLmlucHV0cz1bXCIrYi5qb2luKFwiLFwiKStcIl07XCIpO1xucmV0dXJuIGEuam9pbihcIlwiKX0sZ2VuZXJhdGVGdW5jdGlvbjpmdW5jdGlvbihhLGIpe3JldHVyblwiZnVuY3Rpb24oXCIrYitcIil7XCIrdGhpcy52YXJzUHJlZml4KGEpK3RoaXMuYm9keShhKStcIn07XCJ9LGZpbHRlclByZWZpeDpmdW5jdGlvbigpe3ZhciBhPVtdLGI9dGhpcztxKHRoaXMuc3RhdGUuZmlsdGVycyxmdW5jdGlvbihkLGMpe2EucHVzaChkK1wiPSRmaWx0ZXIoXCIrYi5lc2NhcGUoYykrXCIpXCIpfSk7cmV0dXJuIGEubGVuZ3RoP1widmFyIFwiK2Euam9pbihcIixcIikrXCI7XCI6XCJcIn0sdmFyc1ByZWZpeDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zdGF0ZVthXS52YXJzLmxlbmd0aD9cInZhciBcIit0aGlzLnN0YXRlW2FdLnZhcnMuam9pbihcIixcIikrXCI7XCI6XCJcIn0sYm9keTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zdGF0ZVthXS5ib2R5LmpvaW4oXCJcIil9LHJlY3Vyc2U6ZnVuY3Rpb24oYSxiLGQsYyxlLGYpe3ZhciBnLGgsaz10aGlzLGwsbSxuO2M9Y3x8QTtpZighZiYmdyhhLndhdGNoSWQpKWI9XG5ifHx0aGlzLm5leHRJZCgpLHRoaXMuaWZfKFwiaVwiLHRoaXMubGF6eUFzc2lnbihiLHRoaXMuY29tcHV0ZWRNZW1iZXIoXCJpXCIsYS53YXRjaElkKSksdGhpcy5sYXp5UmVjdXJzZShhLGIsZCxjLGUsITApKTtlbHNlIHN3aXRjaChhLnR5cGUpe2Nhc2Ugcy5Qcm9ncmFtOnEoYS5ib2R5LGZ1bmN0aW9uKGIsYyl7ay5yZWN1cnNlKGIuZXhwcmVzc2lvbix2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKGEpe2g9YX0pO2MhPT1hLmJvZHkubGVuZ3RoLTE/ay5jdXJyZW50KCkuYm9keS5wdXNoKGgsXCI7XCIpOmsucmV0dXJuXyhoKX0pO2JyZWFrO2Nhc2Ugcy5MaXRlcmFsOm09dGhpcy5lc2NhcGUoYS52YWx1ZSk7dGhpcy5hc3NpZ24oYixtKTtjKG0pO2JyZWFrO2Nhc2Ugcy5VbmFyeUV4cHJlc3Npb246dGhpcy5yZWN1cnNlKGEuYXJndW1lbnQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbihhKXtoPWF9KTttPWEub3BlcmF0b3IrXCIoXCIrdGhpcy5pZkRlZmluZWQoaCwwKStcIilcIjt0aGlzLmFzc2lnbihiLG0pO1xuYyhtKTticmVhaztjYXNlIHMuQmluYXJ5RXhwcmVzc2lvbjp0aGlzLnJlY3Vyc2UoYS5sZWZ0LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oYSl7Zz1hfSk7dGhpcy5yZWN1cnNlKGEucmlnaHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbihhKXtoPWF9KTttPVwiK1wiPT09YS5vcGVyYXRvcj90aGlzLnBsdXMoZyxoKTpcIi1cIj09PWEub3BlcmF0b3I/dGhpcy5pZkRlZmluZWQoZywwKSthLm9wZXJhdG9yK3RoaXMuaWZEZWZpbmVkKGgsMCk6XCIoXCIrZytcIilcIithLm9wZXJhdG9yK1wiKFwiK2grXCIpXCI7dGhpcy5hc3NpZ24oYixtKTtjKG0pO2JyZWFrO2Nhc2Ugcy5Mb2dpY2FsRXhwcmVzc2lvbjpiPWJ8fHRoaXMubmV4dElkKCk7ay5yZWN1cnNlKGEubGVmdCxiKTtrLmlmXyhcIiYmXCI9PT1hLm9wZXJhdG9yP2I6ay5ub3QoYiksay5sYXp5UmVjdXJzZShhLnJpZ2h0LGIpKTtjKGIpO2JyZWFrO2Nhc2Ugcy5Db25kaXRpb25hbEV4cHJlc3Npb246Yj1ifHx0aGlzLm5leHRJZCgpO2sucmVjdXJzZShhLnRlc3QsXG5iKTtrLmlmXyhiLGsubGF6eVJlY3Vyc2UoYS5hbHRlcm5hdGUsYiksay5sYXp5UmVjdXJzZShhLmNvbnNlcXVlbnQsYikpO2MoYik7YnJlYWs7Y2FzZSBzLklkZW50aWZpZXI6Yj1ifHx0aGlzLm5leHRJZCgpO2QmJihkLmNvbnRleHQ9XCJpbnB1dHNcIj09PWsuc3RhZ2U/XCJzXCI6dGhpcy5hc3NpZ24odGhpcy5uZXh0SWQoKSx0aGlzLmdldEhhc093blByb3BlcnR5KFwibFwiLGEubmFtZSkrXCI/bDpzXCIpLGQuY29tcHV0ZWQ9ITEsZC5uYW1lPWEubmFtZSk7U2EoYS5uYW1lKTtrLmlmXyhcImlucHV0c1wiPT09ay5zdGFnZXx8ay5ub3Qoay5nZXRIYXNPd25Qcm9wZXJ0eShcImxcIixhLm5hbWUpKSxmdW5jdGlvbigpe2suaWZfKFwiaW5wdXRzXCI9PT1rLnN0YWdlfHxcInNcIixmdW5jdGlvbigpe2UmJjEhPT1lJiZrLmlmXyhrLm5vdChrLm5vbkNvbXB1dGVkTWVtYmVyKFwic1wiLGEubmFtZSkpLGsubGF6eUFzc2lnbihrLm5vbkNvbXB1dGVkTWVtYmVyKFwic1wiLGEubmFtZSksXCJ7fVwiKSk7ay5hc3NpZ24oYixrLm5vbkNvbXB1dGVkTWVtYmVyKFwic1wiLFxuYS5uYW1lKSl9KX0sYiYmay5sYXp5QXNzaWduKGIsay5ub25Db21wdXRlZE1lbWJlcihcImxcIixhLm5hbWUpKSk7KGsuc3RhdGUuZXhwZW5zaXZlQ2hlY2tzfHxKYihhLm5hbWUpKSYmay5hZGRFbnN1cmVTYWZlT2JqZWN0KGIpO2MoYik7YnJlYWs7Y2FzZSBzLk1lbWJlckV4cHJlc3Npb246Zz1kJiYoZC5jb250ZXh0PXRoaXMubmV4dElkKCkpfHx0aGlzLm5leHRJZCgpO2I9Ynx8dGhpcy5uZXh0SWQoKTtrLnJlY3Vyc2UoYS5vYmplY3QsZyx2b2lkIDAsZnVuY3Rpb24oKXtrLmlmXyhrLm5vdE51bGwoZyksZnVuY3Rpb24oKXtlJiYxIT09ZSYmay5hZGRFbnN1cmVTYWZlQXNzaWduQ29udGV4dChnKTtpZihhLmNvbXB1dGVkKWg9ay5uZXh0SWQoKSxrLnJlY3Vyc2UoYS5wcm9wZXJ0eSxoKSxrLmdldFN0cmluZ1ZhbHVlKGgpLGsuYWRkRW5zdXJlU2FmZU1lbWJlck5hbWUoaCksZSYmMSE9PWUmJmsuaWZfKGsubm90KGsuY29tcHV0ZWRNZW1iZXIoZyxoKSksay5sYXp5QXNzaWduKGsuY29tcHV0ZWRNZW1iZXIoZyxcbmgpLFwie31cIikpLG09ay5lbnN1cmVTYWZlT2JqZWN0KGsuY29tcHV0ZWRNZW1iZXIoZyxoKSksay5hc3NpZ24oYixtKSxkJiYoZC5jb21wdXRlZD0hMCxkLm5hbWU9aCk7ZWxzZXtTYShhLnByb3BlcnR5Lm5hbWUpO2UmJjEhPT1lJiZrLmlmXyhrLm5vdChrLm5vbkNvbXB1dGVkTWVtYmVyKGcsYS5wcm9wZXJ0eS5uYW1lKSksay5sYXp5QXNzaWduKGsubm9uQ29tcHV0ZWRNZW1iZXIoZyxhLnByb3BlcnR5Lm5hbWUpLFwie31cIikpO209ay5ub25Db21wdXRlZE1lbWJlcihnLGEucHJvcGVydHkubmFtZSk7aWYoay5zdGF0ZS5leHBlbnNpdmVDaGVja3N8fEpiKGEucHJvcGVydHkubmFtZSkpbT1rLmVuc3VyZVNhZmVPYmplY3QobSk7ay5hc3NpZ24oYixtKTtkJiYoZC5jb21wdXRlZD0hMSxkLm5hbWU9YS5wcm9wZXJ0eS5uYW1lKX19LGZ1bmN0aW9uKCl7ay5hc3NpZ24oYixcInVuZGVmaW5lZFwiKX0pO2MoYil9LCEhZSk7YnJlYWs7Y2FzZSBzLkNhbGxFeHByZXNzaW9uOmI9Ynx8dGhpcy5uZXh0SWQoKTtcbmEuZmlsdGVyPyhoPWsuZmlsdGVyKGEuY2FsbGVlLm5hbWUpLGw9W10scShhLmFyZ3VtZW50cyxmdW5jdGlvbihhKXt2YXIgYj1rLm5leHRJZCgpO2sucmVjdXJzZShhLGIpO2wucHVzaChiKX0pLG09aCtcIihcIitsLmpvaW4oXCIsXCIpK1wiKVwiLGsuYXNzaWduKGIsbSksYyhiKSk6KGg9ay5uZXh0SWQoKSxnPXt9LGw9W10say5yZWN1cnNlKGEuY2FsbGVlLGgsZyxmdW5jdGlvbigpe2suaWZfKGsubm90TnVsbChoKSxmdW5jdGlvbigpe2suYWRkRW5zdXJlU2FmZUZ1bmN0aW9uKGgpO3EoYS5hcmd1bWVudHMsZnVuY3Rpb24oYSl7ay5yZWN1cnNlKGEsay5uZXh0SWQoKSx2b2lkIDAsZnVuY3Rpb24oYSl7bC5wdXNoKGsuZW5zdXJlU2FmZU9iamVjdChhKSl9KX0pO2cubmFtZT8oay5zdGF0ZS5leHBlbnNpdmVDaGVja3N8fGsuYWRkRW5zdXJlU2FmZU9iamVjdChnLmNvbnRleHQpLG09ay5tZW1iZXIoZy5jb250ZXh0LGcubmFtZSxnLmNvbXB1dGVkKStcIihcIitsLmpvaW4oXCIsXCIpK1wiKVwiKTptPVxuaCtcIihcIitsLmpvaW4oXCIsXCIpK1wiKVwiO209ay5lbnN1cmVTYWZlT2JqZWN0KG0pO2suYXNzaWduKGIsbSl9LGZ1bmN0aW9uKCl7ay5hc3NpZ24oYixcInVuZGVmaW5lZFwiKX0pO2MoYil9KSk7YnJlYWs7Y2FzZSBzLkFzc2lnbm1lbnRFeHByZXNzaW9uOmg9dGhpcy5uZXh0SWQoKTtnPXt9O2lmKCFxZChhLmxlZnQpKXRocm93IFgoXCJsdmFsXCIpO3RoaXMucmVjdXJzZShhLmxlZnQsdm9pZCAwLGcsZnVuY3Rpb24oKXtrLmlmXyhrLm5vdE51bGwoZy5jb250ZXh0KSxmdW5jdGlvbigpe2sucmVjdXJzZShhLnJpZ2h0LGgpO2suYWRkRW5zdXJlU2FmZU9iamVjdChrLm1lbWJlcihnLmNvbnRleHQsZy5uYW1lLGcuY29tcHV0ZWQpKTtrLmFkZEVuc3VyZVNhZmVBc3NpZ25Db250ZXh0KGcuY29udGV4dCk7bT1rLm1lbWJlcihnLmNvbnRleHQsZy5uYW1lLGcuY29tcHV0ZWQpK2Eub3BlcmF0b3IraDtrLmFzc2lnbihiLG0pO2MoYnx8bSl9KX0sMSk7YnJlYWs7Y2FzZSBzLkFycmF5RXhwcmVzc2lvbjpsPVxuW107cShhLmVsZW1lbnRzLGZ1bmN0aW9uKGEpe2sucmVjdXJzZShhLGsubmV4dElkKCksdm9pZCAwLGZ1bmN0aW9uKGEpe2wucHVzaChhKX0pfSk7bT1cIltcIitsLmpvaW4oXCIsXCIpK1wiXVwiO3RoaXMuYXNzaWduKGIsbSk7YyhtKTticmVhaztjYXNlIHMuT2JqZWN0RXhwcmVzc2lvbjpsPVtdO249ITE7cShhLnByb3BlcnRpZXMsZnVuY3Rpb24oYSl7YS5jb21wdXRlZCYmKG49ITApfSk7bj8oYj1ifHx0aGlzLm5leHRJZCgpLHRoaXMuYXNzaWduKGIsXCJ7fVwiKSxxKGEucHJvcGVydGllcyxmdW5jdGlvbihhKXthLmNvbXB1dGVkPyhnPWsubmV4dElkKCksay5yZWN1cnNlKGEua2V5LGcpKTpnPWEua2V5LnR5cGU9PT1zLklkZW50aWZpZXI/YS5rZXkubmFtZTpcIlwiK2Eua2V5LnZhbHVlO2g9ay5uZXh0SWQoKTtrLnJlY3Vyc2UoYS52YWx1ZSxoKTtrLmFzc2lnbihrLm1lbWJlcihiLGcsYS5jb21wdXRlZCksaCl9KSk6KHEoYS5wcm9wZXJ0aWVzLGZ1bmN0aW9uKGIpe2sucmVjdXJzZShiLnZhbHVlLFxuYS5jb25zdGFudD92b2lkIDA6ay5uZXh0SWQoKSx2b2lkIDAsZnVuY3Rpb24oYSl7bC5wdXNoKGsuZXNjYXBlKGIua2V5LnR5cGU9PT1zLklkZW50aWZpZXI/Yi5rZXkubmFtZTpcIlwiK2Iua2V5LnZhbHVlKStcIjpcIithKX0pfSksbT1cIntcIitsLmpvaW4oXCIsXCIpK1wifVwiLHRoaXMuYXNzaWduKGIsbSkpO2MoYnx8bSk7YnJlYWs7Y2FzZSBzLlRoaXNFeHByZXNzaW9uOnRoaXMuYXNzaWduKGIsXCJzXCIpO2MoXCJzXCIpO2JyZWFrO2Nhc2Ugcy5Mb2NhbHNFeHByZXNzaW9uOnRoaXMuYXNzaWduKGIsXCJsXCIpO2MoXCJsXCIpO2JyZWFrO2Nhc2Ugcy5OR1ZhbHVlUGFyYW1ldGVyOnRoaXMuYXNzaWduKGIsXCJ2XCIpLGMoXCJ2XCIpfX0sZ2V0SGFzT3duUHJvcGVydHk6ZnVuY3Rpb24oYSxiKXt2YXIgZD1hK1wiLlwiK2IsYz10aGlzLmN1cnJlbnQoKS5vd247Yy5oYXNPd25Qcm9wZXJ0eShkKXx8KGNbZF09dGhpcy5uZXh0SWQoITEsYStcIiYmKFwiK3RoaXMuZXNjYXBlKGIpK1wiIGluIFwiK2ErXCIpXCIpKTtyZXR1cm4gY1tkXX0sXG5hc3NpZ246ZnVuY3Rpb24oYSxiKXtpZihhKXJldHVybiB0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2goYSxcIj1cIixiLFwiO1wiKSxhfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5zdGF0ZS5maWx0ZXJzLmhhc093blByb3BlcnR5KGEpfHwodGhpcy5zdGF0ZS5maWx0ZXJzW2FdPXRoaXMubmV4dElkKCEwKSk7cmV0dXJuIHRoaXMuc3RhdGUuZmlsdGVyc1thXX0saWZEZWZpbmVkOmZ1bmN0aW9uKGEsYil7cmV0dXJuXCJpZkRlZmluZWQoXCIrYStcIixcIit0aGlzLmVzY2FwZShiKStcIilcIn0scGx1czpmdW5jdGlvbihhLGIpe3JldHVyblwicGx1cyhcIithK1wiLFwiK2IrXCIpXCJ9LHJldHVybl86ZnVuY3Rpb24oYSl7dGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKFwicmV0dXJuIFwiLGEsXCI7XCIpfSxpZl86ZnVuY3Rpb24oYSxiLGQpe2lmKCEwPT09YSliKCk7ZWxzZXt2YXIgYz10aGlzLmN1cnJlbnQoKS5ib2R5O2MucHVzaChcImlmKFwiLGEsXCIpe1wiKTtiKCk7Yy5wdXNoKFwifVwiKTtkJiYoYy5wdXNoKFwiZWxzZXtcIiksXG5kKCksYy5wdXNoKFwifVwiKSl9fSxub3Q6ZnVuY3Rpb24oYSl7cmV0dXJuXCIhKFwiK2ErXCIpXCJ9LG5vdE51bGw6ZnVuY3Rpb24oYSl7cmV0dXJuIGErXCIhPW51bGxcIn0sbm9uQ29tcHV0ZWRNZW1iZXI6ZnVuY3Rpb24oYSxiKXt2YXIgZD0vW14kX2EtekEtWjAtOV0vZztyZXR1cm4vWyRfYS16QS1aXVskX2EtekEtWjAtOV0qLy50ZXN0KGIpP2ErXCIuXCIrYjphKydbXCInK2IucmVwbGFjZShkLHRoaXMuc3RyaW5nRXNjYXBlRm4pKydcIl0nfSxjb21wdXRlZE1lbWJlcjpmdW5jdGlvbihhLGIpe3JldHVybiBhK1wiW1wiK2IrXCJdXCJ9LG1lbWJlcjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGQ/dGhpcy5jb21wdXRlZE1lbWJlcihhLGIpOnRoaXMubm9uQ29tcHV0ZWRNZW1iZXIoYSxiKX0sYWRkRW5zdXJlU2FmZU9iamVjdDpmdW5jdGlvbihhKXt0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2godGhpcy5lbnN1cmVTYWZlT2JqZWN0KGEpLFwiO1wiKX0sYWRkRW5zdXJlU2FmZU1lbWJlck5hbWU6ZnVuY3Rpb24oYSl7dGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKHRoaXMuZW5zdXJlU2FmZU1lbWJlck5hbWUoYSksXG5cIjtcIil9LGFkZEVuc3VyZVNhZmVGdW5jdGlvbjpmdW5jdGlvbihhKXt0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2godGhpcy5lbnN1cmVTYWZlRnVuY3Rpb24oYSksXCI7XCIpfSxhZGRFbnN1cmVTYWZlQXNzaWduQ29udGV4dDpmdW5jdGlvbihhKXt0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2godGhpcy5lbnN1cmVTYWZlQXNzaWduQ29udGV4dChhKSxcIjtcIil9LGVuc3VyZVNhZmVPYmplY3Q6ZnVuY3Rpb24oYSl7cmV0dXJuXCJlbnN1cmVTYWZlT2JqZWN0KFwiK2ErXCIsdGV4dClcIn0sZW5zdXJlU2FmZU1lbWJlck5hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuXCJlbnN1cmVTYWZlTWVtYmVyTmFtZShcIithK1wiLHRleHQpXCJ9LGVuc3VyZVNhZmVGdW5jdGlvbjpmdW5jdGlvbihhKXtyZXR1cm5cImVuc3VyZVNhZmVGdW5jdGlvbihcIithK1wiLHRleHQpXCJ9LGdldFN0cmluZ1ZhbHVlOmZ1bmN0aW9uKGEpe3RoaXMuYXNzaWduKGEsXCJnZXRTdHJpbmdWYWx1ZShcIithK1wiKVwiKX0sZW5zdXJlU2FmZUFzc2lnbkNvbnRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuXCJlbnN1cmVTYWZlQXNzaWduQ29udGV4dChcIitcbmErXCIsdGV4dClcIn0sbGF6eVJlY3Vyc2U6ZnVuY3Rpb24oYSxiLGQsYyxlLGYpe3ZhciBnPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKCl7Zy5yZWN1cnNlKGEsYixkLGMsZSxmKX19LGxhenlBc3NpZ246ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzO3JldHVybiBmdW5jdGlvbigpe2QuYXNzaWduKGEsYil9fSxzdHJpbmdFc2NhcGVSZWdleDovW14gYS16QS1aMC05XS9nLHN0cmluZ0VzY2FwZUZuOmZ1bmN0aW9uKGEpe3JldHVyblwiXFxcXHVcIisoXCIwMDAwXCIrYS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpfSxlc2NhcGU6ZnVuY3Rpb24oYSl7aWYoRyhhKSlyZXR1cm5cIidcIithLnJlcGxhY2UodGhpcy5zdHJpbmdFc2NhcGVSZWdleCx0aGlzLnN0cmluZ0VzY2FwZUZuKStcIidcIjtpZihUKGEpKXJldHVybiBhLnRvU3RyaW5nKCk7aWYoITA9PT1hKXJldHVyblwidHJ1ZVwiO2lmKCExPT09YSlyZXR1cm5cImZhbHNlXCI7aWYobnVsbD09PWEpcmV0dXJuXCJudWxsXCI7aWYoXCJ1bmRlZmluZWRcIj09PVxudHlwZW9mIGEpcmV0dXJuXCJ1bmRlZmluZWRcIjt0aHJvdyBYKFwiZXNjXCIpO30sbmV4dElkOmZ1bmN0aW9uKGEsYil7dmFyIGQ9XCJ2XCIrdGhpcy5zdGF0ZS5uZXh0SWQrKzthfHx0aGlzLmN1cnJlbnQoKS52YXJzLnB1c2goZCsoYj9cIj1cIitiOlwiXCIpKTtyZXR1cm4gZH0sY3VycmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlW3RoaXMuc3RhdGUuY29tcHV0aW5nXX19O3VkLnByb3RvdHlwZT17Y29tcGlsZTpmdW5jdGlvbihhLGIpe3ZhciBkPXRoaXMsYz10aGlzLmFzdEJ1aWxkZXIuYXN0KGEpO3RoaXMuZXhwcmVzc2lvbj1hO3RoaXMuZXhwZW5zaXZlQ2hlY2tzPWI7VihjLGQuJGZpbHRlcik7dmFyIGUsZjtpZihlPXJkKGMpKWY9dGhpcy5yZWN1cnNlKGUpO2U9cGQoYy5ib2R5KTt2YXIgZztlJiYoZz1bXSxxKGUsZnVuY3Rpb24oYSxiKXt2YXIgYz1kLnJlY3Vyc2UoYSk7YS5pbnB1dD1jO2cucHVzaChjKTthLndhdGNoSWQ9Yn0pKTt2YXIgaD1bXTtxKGMuYm9keSxmdW5jdGlvbihhKXtoLnB1c2goZC5yZWN1cnNlKGEuZXhwcmVzc2lvbikpfSk7XG5lPTA9PT1jLmJvZHkubGVuZ3RoP0E6MT09PWMuYm9keS5sZW5ndGg/aFswXTpmdW5jdGlvbihhLGIpe3ZhciBjO3EoaCxmdW5jdGlvbihkKXtjPWQoYSxiKX0pO3JldHVybiBjfTtmJiYoZS5hc3NpZ249ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmKGEsYyxiKX0pO2cmJihlLmlucHV0cz1nKTtlLmxpdGVyYWw9c2QoYyk7ZS5jb25zdGFudD1jLmNvbnN0YW50O3JldHVybiBlfSxyZWN1cnNlOmZ1bmN0aW9uKGEsYixkKXt2YXIgYyxlLGY9dGhpcyxnO2lmKGEuaW5wdXQpcmV0dXJuIHRoaXMuaW5wdXRzKGEuaW5wdXQsYS53YXRjaElkKTtzd2l0Y2goYS50eXBlKXtjYXNlIHMuTGl0ZXJhbDpyZXR1cm4gdGhpcy52YWx1ZShhLnZhbHVlLGIpO2Nhc2Ugcy5VbmFyeUV4cHJlc3Npb246cmV0dXJuIGU9dGhpcy5yZWN1cnNlKGEuYXJndW1lbnQpLHRoaXNbXCJ1bmFyeVwiK2Eub3BlcmF0b3JdKGUsYik7Y2FzZSBzLkJpbmFyeUV4cHJlc3Npb246cmV0dXJuIGM9dGhpcy5yZWN1cnNlKGEubGVmdCksXG5lPXRoaXMucmVjdXJzZShhLnJpZ2h0KSx0aGlzW1wiYmluYXJ5XCIrYS5vcGVyYXRvcl0oYyxlLGIpO2Nhc2Ugcy5Mb2dpY2FsRXhwcmVzc2lvbjpyZXR1cm4gYz10aGlzLnJlY3Vyc2UoYS5sZWZ0KSxlPXRoaXMucmVjdXJzZShhLnJpZ2h0KSx0aGlzW1wiYmluYXJ5XCIrYS5vcGVyYXRvcl0oYyxlLGIpO2Nhc2Ugcy5Db25kaXRpb25hbEV4cHJlc3Npb246cmV0dXJuIHRoaXNbXCJ0ZXJuYXJ5PzpcIl0odGhpcy5yZWN1cnNlKGEudGVzdCksdGhpcy5yZWN1cnNlKGEuYWx0ZXJuYXRlKSx0aGlzLnJlY3Vyc2UoYS5jb25zZXF1ZW50KSxiKTtjYXNlIHMuSWRlbnRpZmllcjpyZXR1cm4gU2EoYS5uYW1lLGYuZXhwcmVzc2lvbiksZi5pZGVudGlmaWVyKGEubmFtZSxmLmV4cGVuc2l2ZUNoZWNrc3x8SmIoYS5uYW1lKSxiLGQsZi5leHByZXNzaW9uKTtjYXNlIHMuTWVtYmVyRXhwcmVzc2lvbjpyZXR1cm4gYz10aGlzLnJlY3Vyc2UoYS5vYmplY3QsITEsISFkKSxhLmNvbXB1dGVkfHwoU2EoYS5wcm9wZXJ0eS5uYW1lLFxuZi5leHByZXNzaW9uKSxlPWEucHJvcGVydHkubmFtZSksYS5jb21wdXRlZCYmKGU9dGhpcy5yZWN1cnNlKGEucHJvcGVydHkpKSxhLmNvbXB1dGVkP3RoaXMuY29tcHV0ZWRNZW1iZXIoYyxlLGIsZCxmLmV4cHJlc3Npb24pOnRoaXMubm9uQ29tcHV0ZWRNZW1iZXIoYyxlLGYuZXhwZW5zaXZlQ2hlY2tzLGIsZCxmLmV4cHJlc3Npb24pO2Nhc2Ugcy5DYWxsRXhwcmVzc2lvbjpyZXR1cm4gZz1bXSxxKGEuYXJndW1lbnRzLGZ1bmN0aW9uKGEpe2cucHVzaChmLnJlY3Vyc2UoYSkpfSksYS5maWx0ZXImJihlPXRoaXMuJGZpbHRlcihhLmNhbGxlZS5uYW1lKSksYS5maWx0ZXJ8fChlPXRoaXMucmVjdXJzZShhLmNhbGxlZSwhMCkpLGEuZmlsdGVyP2Z1bmN0aW9uKGEsYyxkLGYpe2Zvcih2YXIgbj1bXSxwPTA7cDxnLmxlbmd0aDsrK3Apbi5wdXNoKGdbcF0oYSxjLGQsZikpO2E9ZS5hcHBseSh2b2lkIDAsbixmKTtyZXR1cm4gYj97Y29udGV4dDp2b2lkIDAsbmFtZTp2b2lkIDAsdmFsdWU6YX06XG5hfTpmdW5jdGlvbihhLGMsZCxtKXt2YXIgbj1lKGEsYyxkLG0pLHA7aWYobnVsbCE9bi52YWx1ZSl7cmEobi5jb250ZXh0LGYuZXhwcmVzc2lvbik7bmQobi52YWx1ZSxmLmV4cHJlc3Npb24pO3A9W107Zm9yKHZhciBxPTA7cTxnLmxlbmd0aDsrK3EpcC5wdXNoKHJhKGdbcV0oYSxjLGQsbSksZi5leHByZXNzaW9uKSk7cD1yYShuLnZhbHVlLmFwcGx5KG4uY29udGV4dCxwKSxmLmV4cHJlc3Npb24pfXJldHVybiBiP3t2YWx1ZTpwfTpwfTtjYXNlIHMuQXNzaWdubWVudEV4cHJlc3Npb246cmV0dXJuIGM9dGhpcy5yZWN1cnNlKGEubGVmdCwhMCwxKSxlPXRoaXMucmVjdXJzZShhLnJpZ2h0KSxmdW5jdGlvbihhLGQsZyxtKXt2YXIgbj1jKGEsZCxnLG0pO2E9ZShhLGQsZyxtKTtyYShuLnZhbHVlLGYuZXhwcmVzc2lvbik7SWIobi5jb250ZXh0KTtuLmNvbnRleHRbbi5uYW1lXT1hO3JldHVybiBiP3t2YWx1ZTphfTphfTtjYXNlIHMuQXJyYXlFeHByZXNzaW9uOnJldHVybiBnPVtdLHEoYS5lbGVtZW50cyxcbmZ1bmN0aW9uKGEpe2cucHVzaChmLnJlY3Vyc2UoYSkpfSksZnVuY3Rpb24oYSxjLGQsZSl7Zm9yKHZhciBmPVtdLHA9MDtwPGcubGVuZ3RoOysrcClmLnB1c2goZ1twXShhLGMsZCxlKSk7cmV0dXJuIGI/e3ZhbHVlOmZ9OmZ9O2Nhc2Ugcy5PYmplY3RFeHByZXNzaW9uOnJldHVybiBnPVtdLHEoYS5wcm9wZXJ0aWVzLGZ1bmN0aW9uKGEpe2EuY29tcHV0ZWQ/Zy5wdXNoKHtrZXk6Zi5yZWN1cnNlKGEua2V5KSxjb21wdXRlZDohMCx2YWx1ZTpmLnJlY3Vyc2UoYS52YWx1ZSl9KTpnLnB1c2goe2tleTphLmtleS50eXBlPT09cy5JZGVudGlmaWVyP2Eua2V5Lm5hbWU6XCJcIithLmtleS52YWx1ZSxjb21wdXRlZDohMSx2YWx1ZTpmLnJlY3Vyc2UoYS52YWx1ZSl9KX0pLGZ1bmN0aW9uKGEsYyxkLGUpe2Zvcih2YXIgZj17fSxwPTA7cDxnLmxlbmd0aDsrK3ApZ1twXS5jb21wdXRlZD9mW2dbcF0ua2V5KGEsYyxkLGUpXT1nW3BdLnZhbHVlKGEsYyxkLGUpOmZbZ1twXS5rZXldPWdbcF0udmFsdWUoYSxcbmMsZCxlKTtyZXR1cm4gYj97dmFsdWU6Zn06Zn07Y2FzZSBzLlRoaXNFeHByZXNzaW9uOnJldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYj97dmFsdWU6YX06YX07Y2FzZSBzLkxvY2Fsc0V4cHJlc3Npb246cmV0dXJuIGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGI/e3ZhbHVlOmN9OmN9O2Nhc2Ugcy5OR1ZhbHVlUGFyYW1ldGVyOnJldHVybiBmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGI/e3ZhbHVlOmR9OmR9fX0sXCJ1bmFyeStcIjpmdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihkLGMsZSxmKXtkPWEoZCxjLGUsZik7ZD13KGQpPytkOjA7cmV0dXJuIGI/e3ZhbHVlOmR9OmR9fSxcInVuYXJ5LVwiOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGQsYyxlLGYpe2Q9YShkLGMsZSxmKTtkPXcoZCk/LWQ6MDtyZXR1cm4gYj97dmFsdWU6ZH06ZH19LFwidW5hcnkhXCI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oZCxjLGUsZil7ZD0hYShkLGMsZSxmKTtyZXR1cm4gYj97dmFsdWU6ZH06XG5kfX0sXCJiaW5hcnkrXCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXt2YXIgaD1hKGMsZSxmLGcpO2M9YihjLGUsZixnKTtoPW9kKGgsYyk7cmV0dXJuIGQ/e3ZhbHVlOmh9Omh9fSxcImJpbmFyeS1cIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe3ZhciBoPWEoYyxlLGYsZyk7Yz1iKGMsZSxmLGcpO2g9KHcoaCk/aDowKS0odyhjKT9jOjApO3JldHVybiBkP3t2YWx1ZTpofTpofX0sXCJiaW5hcnkqXCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZykqYihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5L1wiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLGcpL2IoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeSVcIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsXG5mLGcpJWIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeT09PVwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLGcpPT09YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5IT09XCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZykhPT1iKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sXCJiaW5hcnk9PVwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLGcpPT1iKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sXCJiaW5hcnkhPVwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLGcpIT1iKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sXCJiaW5hcnk8XCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLFxuZixnKTxiKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sXCJiaW5hcnk+XCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZyk+YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5PD1cIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKTw9YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5Pj1cIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKT49YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5JiZcIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKSYmYihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5fHxcIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKXx8XG5iKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sXCJ0ZXJuYXJ5PzpcIjpmdW5jdGlvbihhLGIsZCxjKXtyZXR1cm4gZnVuY3Rpb24oZSxmLGcsaCl7ZT1hKGUsZixnLGgpP2IoZSxmLGcsaCk6ZChlLGYsZyxoKTtyZXR1cm4gYz97dmFsdWU6ZX06ZX19LHZhbHVlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGI/e2NvbnRleHQ6dm9pZCAwLG5hbWU6dm9pZCAwLHZhbHVlOmF9OmF9fSxpZGVudGlmaWVyOmZ1bmN0aW9uKGEsYixkLGMsZSl7cmV0dXJuIGZ1bmN0aW9uKGYsZyxoLGspe2Y9ZyYmYSBpbiBnP2c6ZjtjJiYxIT09YyYmZiYmIWZbYV0mJihmW2FdPXt9KTtnPWY/ZlthXTp2b2lkIDA7YiYmcmEoZyxlKTtyZXR1cm4gZD97Y29udGV4dDpmLG5hbWU6YSx2YWx1ZTpnfTpnfX0sY29tcHV0ZWRNZW1iZXI6ZnVuY3Rpb24oYSxiLGQsYyxlKXtyZXR1cm4gZnVuY3Rpb24oZixnLGgsayl7dmFyIGw9YShmLGcsaCxrKSxtLG47bnVsbCE9bCYmKG09YihmLFxuZyxoLGspLG0rPVwiXCIsU2EobSxlKSxjJiYxIT09YyYmKEliKGwpLGwmJiFsW21dJiYobFttXT17fSkpLG49bFttXSxyYShuLGUpKTtyZXR1cm4gZD97Y29udGV4dDpsLG5hbWU6bSx2YWx1ZTpufTpufX0sbm9uQ29tcHV0ZWRNZW1iZXI6ZnVuY3Rpb24oYSxiLGQsYyxlLGYpe3JldHVybiBmdW5jdGlvbihnLGgsayxsKXtnPWEoZyxoLGssbCk7ZSYmMSE9PWUmJihJYihnKSxnJiYhZ1tiXSYmKGdbYl09e30pKTtoPW51bGwhPWc/Z1tiXTp2b2lkIDA7KGR8fEpiKGIpKSYmcmEoaCxmKTtyZXR1cm4gYz97Y29udGV4dDpnLG5hbWU6Yix2YWx1ZTpofTpofX0saW5wdXRzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGQsYyxlLGYpe3JldHVybiBmP2ZbYl06YShkLGMsZSl9fX07dmFyIGtjPWZ1bmN0aW9uKGEsYixkKXt0aGlzLmxleGVyPWE7dGhpcy4kZmlsdGVyPWI7dGhpcy5vcHRpb25zPWQ7dGhpcy5hc3Q9bmV3IHMoYSxkKTt0aGlzLmFzdENvbXBpbGVyPWQuY3NwP25ldyB1ZCh0aGlzLmFzdCxcbmIpOm5ldyB0ZCh0aGlzLmFzdCxiKX07a2MucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjprYyxwYXJzZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hc3RDb21waWxlci5jb21waWxlKGEsdGhpcy5vcHRpb25zLmV4cGVuc2l2ZUNoZWNrcyl9fTt2YXIgbmc9T2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mLHNhPU4oXCIkc2NlXCIpLGxhPXtIVE1MOlwiaHRtbFwiLENTUzpcImNzc1wiLFVSTDpcInVybFwiLFJFU09VUkNFX1VSTDpcInJlc291cmNlVXJsXCIsSlM6XCJqc1wifSxwZz1OKFwiJGNvbXBpbGVcIiksJD1DLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpLHlkPVkoQy5sb2NhdGlvbi5ocmVmKTt6ZC4kaW5qZWN0PVtcIiRkb2N1bWVudFwiXTtNYy4kaW5qZWN0PVtcIiRwcm92aWRlXCJdO3ZhciBHZD0yMixGZD1cIi5cIixtYz1cIjBcIjtBZC4kaW5qZWN0PVtcIiRsb2NhbGVcIl07Q2QuJGluamVjdD1bXCIkbG9jYWxlXCJdO3ZhciBBZz17eXl5eTpiYShcIkZ1bGxZZWFyXCIsNCwwLCExLCEwKSx5eTpiYShcIkZ1bGxZZWFyXCIsMiwwLFxuITAsITApLHk6YmEoXCJGdWxsWWVhclwiLDEsMCwhMSwhMCksTU1NTTprYihcIk1vbnRoXCIpLE1NTTprYihcIk1vbnRoXCIsITApLE1NOmJhKFwiTW9udGhcIiwyLDEpLE06YmEoXCJNb250aFwiLDEsMSksTExMTDprYihcIk1vbnRoXCIsITEsITApLGRkOmJhKFwiRGF0ZVwiLDIpLGQ6YmEoXCJEYXRlXCIsMSksSEg6YmEoXCJIb3Vyc1wiLDIpLEg6YmEoXCJIb3Vyc1wiLDEpLGhoOmJhKFwiSG91cnNcIiwyLC0xMiksaDpiYShcIkhvdXJzXCIsMSwtMTIpLG1tOmJhKFwiTWludXRlc1wiLDIpLG06YmEoXCJNaW51dGVzXCIsMSksc3M6YmEoXCJTZWNvbmRzXCIsMiksczpiYShcIlNlY29uZHNcIiwxKSxzc3M6YmEoXCJNaWxsaXNlY29uZHNcIiwzKSxFRUVFOmtiKFwiRGF5XCIpLEVFRTprYihcIkRheVwiLCEwKSxhOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDEyPmEuZ2V0SG91cnMoKT9iLkFNUE1TWzBdOmIuQU1QTVNbMV19LFo6ZnVuY3Rpb24oYSxiLGQpe2E9LTEqZDtyZXR1cm4gYT0oMDw9YT9cIitcIjpcIlwiKSsoS2IoTWF0aFswPGE/XCJmbG9vclwiOlwiY2VpbFwiXShhL1xuNjApLDIpK0tiKE1hdGguYWJzKGElNjApLDIpKX0sd3c6SWQoMiksdzpJZCgxKSxHOm5jLEdHOm5jLEdHRzpuYyxHR0dHOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDA+PWEuZ2V0RnVsbFllYXIoKT9iLkVSQU5BTUVTWzBdOmIuRVJBTkFNRVNbMV19fSx6Zz0vKCg/OlteeU1MZEhobXNhWkV3RyddKyl8KD86Jyg/OlteJ118JycpKicpfCg/OkUrfHkrfE0rfEwrfGQrfEgrfGgrfG0rfHMrfGF8WnxHK3x3KykpKC4qKS8seWc9L15cXC0/XFxkKyQvO0JkLiRpbmplY3Q9W1wiJGxvY2FsZVwiXTt2YXIgdGc9aGEoUSksdWc9aGEodWIpO0RkLiRpbmplY3Q9W1wiJHBhcnNlXCJdO3ZhciBvZT1oYSh7cmVzdHJpY3Q6XCJFXCIsY29tcGlsZTpmdW5jdGlvbihhLGIpe2lmKCFiLmhyZWYmJiFiLnhsaW5rSHJlZilyZXR1cm4gZnVuY3Rpb24oYSxiKXtpZihcImFcIj09PWJbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSl7dmFyIGU9XCJbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXVwiPT09bWEuY2FsbChiLnByb3AoXCJocmVmXCIpKT9cblwieGxpbms6aHJlZlwiOlwiaHJlZlwiO2Iub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2IuYXR0cihlKXx8YS5wcmV2ZW50RGVmYXVsdCgpfSl9fX19KSx2Yj17fTtxKEViLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZChhLGQsZSl7YS4kd2F0Y2goZVtjXSxmdW5jdGlvbihhKXtlLiRzZXQoYiwhIWEpfSl9aWYoXCJtdWx0aXBsZVwiIT1hKXt2YXIgYz1BYShcIm5nLVwiK2IpLGU9ZDtcImNoZWNrZWRcIj09PWEmJihlPWZ1bmN0aW9uKGEsYixlKXtlLm5nTW9kZWwhPT1lW2NdJiZkKGEsYixlKX0pO3ZiW2NdPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHByaW9yaXR5OjEwMCxsaW5rOmV9fX19KTtxKGJkLGZ1bmN0aW9uKGEsYil7dmJbYl09ZnVuY3Rpb24oKXtyZXR1cm57cHJpb3JpdHk6MTAwLGxpbms6ZnVuY3Rpb24oYSxjLGUpe2lmKFwibmdQYXR0ZXJuXCI9PT1iJiZcIi9cIj09ZS5uZ1BhdHRlcm4uY2hhckF0KDApJiYoYz1lLm5nUGF0dGVybi5tYXRjaChDZykpKXtlLiRzZXQoXCJuZ1BhdHRlcm5cIixcbm5ldyBSZWdFeHAoY1sxXSxjWzJdKSk7cmV0dXJufWEuJHdhdGNoKGVbYl0sZnVuY3Rpb24oYSl7ZS4kc2V0KGIsYSl9KX19fX0pO3EoW1wic3JjXCIsXCJzcmNzZXRcIixcImhyZWZcIl0sZnVuY3Rpb24oYSl7dmFyIGI9QWEoXCJuZy1cIithKTt2YltiXT1mdW5jdGlvbigpe3JldHVybntwcmlvcml0eTo5OSxsaW5rOmZ1bmN0aW9uKGQsYyxlKXt2YXIgZj1hLGc9YTtcImhyZWZcIj09PWEmJlwiW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ11cIj09PW1hLmNhbGwoYy5wcm9wKFwiaHJlZlwiKSkmJihnPVwieGxpbmtIcmVmXCIsZS4kYXR0cltnXT1cInhsaW5rOmhyZWZcIixmPW51bGwpO2UuJG9ic2VydmUoYixmdW5jdGlvbihiKXtiPyhlLiRzZXQoZyxiKSxFYSYmZiYmYy5wcm9wKGYsZVtnXSkpOlwiaHJlZlwiPT09YSYmZS4kc2V0KGcsbnVsbCl9KX19fX0pO3ZhciBMYj17JGFkZENvbnRyb2w6QSwkJHJlbmFtZUNvbnRyb2w6ZnVuY3Rpb24oYSxiKXthLiRuYW1lPWJ9LCRyZW1vdmVDb250cm9sOkEsJHNldFZhbGlkaXR5OkEsXG4kc2V0RGlydHk6QSwkc2V0UHJpc3RpbmU6QSwkc2V0U3VibWl0dGVkOkF9O0pkLiRpbmplY3Q9W1wiJGVsZW1lbnRcIixcIiRhdHRyc1wiLFwiJHNjb3BlXCIsXCIkYW5pbWF0ZVwiLFwiJGludGVycG9sYXRlXCJdO3ZhciBTZD1mdW5jdGlvbihhKXtyZXR1cm5bXCIkdGltZW91dFwiLFwiJHBhcnNlXCIsZnVuY3Rpb24oYixkKXtmdW5jdGlvbiBjKGEpe3JldHVyblwiXCI9PT1hP2QoJ3RoaXNbXCJcIl0nKS5hc3NpZ246ZChhKS5hc3NpZ258fEF9cmV0dXJue25hbWU6XCJmb3JtXCIscmVzdHJpY3Q6YT9cIkVBQ1wiOlwiRVwiLHJlcXVpcmU6W1wiZm9ybVwiLFwiXl4/Zm9ybVwiXSxjb250cm9sbGVyOkpkLGNvbXBpbGU6ZnVuY3Rpb24oZCxmKXtkLmFkZENsYXNzKFVhKS5hZGRDbGFzcyhvYik7dmFyIGc9Zi5uYW1lP1wibmFtZVwiOmEmJmYubmdGb3JtP1wibmdGb3JtXCI6ITE7cmV0dXJue3ByZTpmdW5jdGlvbihhLGQsZSxmKXt2YXIgbj1mWzBdO2lmKCEoXCJhY3Rpb25cImluIGUpKXt2YXIgcD1mdW5jdGlvbihiKXthLiRhcHBseShmdW5jdGlvbigpe24uJGNvbW1pdFZpZXdWYWx1ZSgpO1xubi4kc2V0U3VibWl0dGVkKCl9KTtiLnByZXZlbnREZWZhdWx0KCl9O2RbMF0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLHAsITEpO2Qub24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7YihmdW5jdGlvbigpe2RbMF0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLHAsITEpfSwwLCExKX0pfShmWzFdfHxuLiQkcGFyZW50Rm9ybSkuJGFkZENvbnRyb2wobik7dmFyIHE9Zz9jKG4uJG5hbWUpOkE7ZyYmKHEoYSxuKSxlLiRvYnNlcnZlKGcsZnVuY3Rpb24oYil7bi4kbmFtZSE9PWImJihxKGEsdm9pZCAwKSxuLiQkcGFyZW50Rm9ybS4kJHJlbmFtZUNvbnRyb2wobixiKSxxPWMobi4kbmFtZSkscShhLG4pKX0pKTtkLm9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe24uJCRwYXJlbnRGb3JtLiRyZW1vdmVDb250cm9sKG4pO3EoYSx2b2lkIDApO1MobixMYil9KX19fX19XX0scGU9U2QoKSxDZT1TZCghMCksQmc9L15cXGR7NCx9LVswMV1cXGQtWzAtM11cXGRUWzAtMl1cXGQ6WzAtNV1cXGQ6WzAtNV1cXGRcXC5cXGQrKD86WystXVswLTJdXFxkOlswLTVdXFxkfFopJC8sXG5LZz0vXlthLXpdW2EtelxcZC4rLV0qOlxcLyooPzpbXjpAXSsoPzo6W15AXSspP0ApPyg/OlteXFxzOi8/I10rfFxcW1thLWZcXGQ6XStcXF0pKD86OlxcZCspPyg/OlxcL1tePyNdKik/KD86XFw/W14jXSopPyg/OiMuKik/JC9pLExnPS9eKD89LnsxLDI1NH0kKSg/PS57MSw2NH1AKVstISMkJSYnKitcXC8wLTk9P0EtWl5fYGEtent8fX5dKyhcXC5bLSEjJCUmJyorXFwvMC05PT9BLVpeX2BhLXp7fH1+XSspKkBbQS1aYS16MC05XShbQS1aYS16MC05LV17MCw2MX1bQS1aYS16MC05XSk/KFxcLltBLVphLXowLTldKFtBLVphLXowLTktXXswLDYxfVtBLVphLXowLTldKT8pKiQvLE1nPS9eXFxzKihcXC18XFwrKT8oXFxkK3woXFxkKihcXC5cXGQqKSkpKFtlRV1bKy1dP1xcZCspP1xccyokLyxUZD0vXihcXGR7NCx9KS0oXFxkezJ9KS0oXFxkezJ9KSQvLFVkPS9eKFxcZHs0LH0pLShcXGRcXGQpLShcXGRcXGQpVChcXGRcXGQpOihcXGRcXGQpKD86OihcXGRcXGQpKFxcLlxcZHsxLDN9KT8pPyQvLHJjPS9eKFxcZHs0LH0pLVcoXFxkXFxkKSQvLFZkPS9eKFxcZHs0LH0pLShcXGRcXGQpJC8sXG5XZD0vXihcXGRcXGQpOihcXGRcXGQpKD86OihcXGRcXGQpKFxcLlxcZHsxLDN9KT8pPyQvLExkPVUoKTtxKFtcImRhdGVcIixcImRhdGV0aW1lLWxvY2FsXCIsXCJtb250aFwiLFwidGltZVwiLFwid2Vla1wiXSxmdW5jdGlvbihhKXtMZFthXT0hMH0pO3ZhciBYZD17dGV4dDpmdW5jdGlvbihhLGIsZCxjLGUsZil7bGIoYSxiLGQsYyxlLGYpO3BjKGMpfSxkYXRlOm1iKFwiZGF0ZVwiLFRkLE5iKFRkLFtcInl5eXlcIixcIk1NXCIsXCJkZFwiXSksXCJ5eXl5LU1NLWRkXCIpLFwiZGF0ZXRpbWUtbG9jYWxcIjptYihcImRhdGV0aW1lbG9jYWxcIixVZCxOYihVZCxcInl5eXkgTU0gZGQgSEggbW0gc3Mgc3NzXCIuc3BsaXQoXCIgXCIpKSxcInl5eXktTU0tZGRUSEg6bW06c3Muc3NzXCIpLHRpbWU6bWIoXCJ0aW1lXCIsV2QsTmIoV2QsW1wiSEhcIixcIm1tXCIsXCJzc1wiLFwic3NzXCJdKSxcIkhIOm1tOnNzLnNzc1wiKSx3ZWVrOm1iKFwid2Vla1wiLHJjLGZ1bmN0aW9uKGEsYil7aWYoZGEoYSkpcmV0dXJuIGE7aWYoRyhhKSl7cmMubGFzdEluZGV4PTA7dmFyIGQ9cmMuZXhlYyhhKTtcbmlmKGQpe3ZhciBjPStkWzFdLGU9K2RbMl0sZj1kPTAsZz0wLGg9MCxrPUhkKGMpLGU9NyooZS0xKTtiJiYoZD1iLmdldEhvdXJzKCksZj1iLmdldE1pbnV0ZXMoKSxnPWIuZ2V0U2Vjb25kcygpLGg9Yi5nZXRNaWxsaXNlY29uZHMoKSk7cmV0dXJuIG5ldyBEYXRlKGMsMCxrLmdldERhdGUoKStlLGQsZixnLGgpfX1yZXR1cm4gTmFOfSxcInl5eXktV3d3XCIpLG1vbnRoOm1iKFwibW9udGhcIixWZCxOYihWZCxbXCJ5eXl5XCIsXCJNTVwiXSksXCJ5eXl5LU1NXCIpLG51bWJlcjpmdW5jdGlvbihhLGIsZCxjLGUsZil7TWQoYSxiLGQsYyk7bGIoYSxiLGQsYyxlLGYpO2MuJCRwYXJzZXJOYW1lPVwibnVtYmVyXCI7Yy4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKGEpe2lmKGMuJGlzRW1wdHkoYSkpcmV0dXJuIG51bGw7aWYoTWcudGVzdChhKSlyZXR1cm4gcGFyc2VGbG9hdChhKX0pO2MuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihhKXtpZighYy4kaXNFbXB0eShhKSl7aWYoIVQoYSkpdGhyb3cgbmIoXCJudW1mbXRcIixcbmEpO2E9YS50b1N0cmluZygpfXJldHVybiBhfSk7aWYodyhkLm1pbil8fGQubmdNaW4pe3ZhciBnO2MuJHZhbGlkYXRvcnMubWluPWZ1bmN0aW9uKGEpe3JldHVybiBjLiRpc0VtcHR5KGEpfHx5KGcpfHxhPj1nfTtkLiRvYnNlcnZlKFwibWluXCIsZnVuY3Rpb24oYSl7dyhhKSYmIVQoYSkmJihhPXBhcnNlRmxvYXQoYSkpO2c9VChhKSYmIWlzTmFOKGEpP2E6dm9pZCAwO2MuJHZhbGlkYXRlKCl9KX1pZih3KGQubWF4KXx8ZC5uZ01heCl7dmFyIGg7Yy4kdmFsaWRhdG9ycy5tYXg9ZnVuY3Rpb24oYSl7cmV0dXJuIGMuJGlzRW1wdHkoYSl8fHkoaCl8fGE8PWh9O2QuJG9ic2VydmUoXCJtYXhcIixmdW5jdGlvbihhKXt3KGEpJiYhVChhKSYmKGE9cGFyc2VGbG9hdChhKSk7aD1UKGEpJiYhaXNOYU4oYSk/YTp2b2lkIDA7Yy4kdmFsaWRhdGUoKX0pfX0sdXJsOmZ1bmN0aW9uKGEsYixkLGMsZSxmKXtsYihhLGIsZCxjLGUsZik7cGMoYyk7Yy4kJHBhcnNlck5hbWU9XCJ1cmxcIjtjLiR2YWxpZGF0b3JzLnVybD1cbmZ1bmN0aW9uKGEsYil7dmFyIGQ9YXx8YjtyZXR1cm4gYy4kaXNFbXB0eShkKXx8S2cudGVzdChkKX19LGVtYWlsOmZ1bmN0aW9uKGEsYixkLGMsZSxmKXtsYihhLGIsZCxjLGUsZik7cGMoYyk7Yy4kJHBhcnNlck5hbWU9XCJlbWFpbFwiO2MuJHZhbGlkYXRvcnMuZW1haWw9ZnVuY3Rpb24oYSxiKXt2YXIgZD1hfHxiO3JldHVybiBjLiRpc0VtcHR5KGQpfHxMZy50ZXN0KGQpfX0scmFkaW86ZnVuY3Rpb24oYSxiLGQsYyl7eShkLm5hbWUpJiZiLmF0dHIoXCJuYW1lXCIsKytwYik7Yi5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7YlswXS5jaGVja2VkJiZjLiRzZXRWaWV3VmFsdWUoZC52YWx1ZSxhJiZhLnR5cGUpfSk7Yy4kcmVuZGVyPWZ1bmN0aW9uKCl7YlswXS5jaGVja2VkPWQudmFsdWU9PWMuJHZpZXdWYWx1ZX07ZC4kb2JzZXJ2ZShcInZhbHVlXCIsYy4kcmVuZGVyKX0sY2hlY2tib3g6ZnVuY3Rpb24oYSxiLGQsYyxlLGYsZyxoKXt2YXIgaz1OZChoLGEsXCJuZ1RydWVWYWx1ZVwiLGQubmdUcnVlVmFsdWUsXG4hMCksbD1OZChoLGEsXCJuZ0ZhbHNlVmFsdWVcIixkLm5nRmFsc2VWYWx1ZSwhMSk7Yi5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7Yy4kc2V0Vmlld1ZhbHVlKGJbMF0uY2hlY2tlZCxhJiZhLnR5cGUpfSk7Yy4kcmVuZGVyPWZ1bmN0aW9uKCl7YlswXS5jaGVja2VkPWMuJHZpZXdWYWx1ZX07Yy4kaXNFbXB0eT1mdW5jdGlvbihhKXtyZXR1cm4hMT09PWF9O2MuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihhKXtyZXR1cm4gbmEoYSxrKX0pO2MuJHBhcnNlcnMucHVzaChmdW5jdGlvbihhKXtyZXR1cm4gYT9rOmx9KX0saGlkZGVuOkEsYnV0dG9uOkEsc3VibWl0OkEscmVzZXQ6QSxmaWxlOkF9LEdjPVtcIiRicm93c2VyXCIsXCIkc25pZmZlclwiLFwiJGZpbHRlclwiLFwiJHBhcnNlXCIsZnVuY3Rpb24oYSxiLGQsYyl7cmV0dXJue3Jlc3RyaWN0OlwiRVwiLHJlcXVpcmU6W1wiP25nTW9kZWxcIl0sbGluazp7cHJlOmZ1bmN0aW9uKGUsZixnLGgpe2hbMF0mJihYZFtRKGcudHlwZSldfHxYZC50ZXh0KShlLGYsXG5nLGhbMF0sYixhLGQsYyl9fX19XSxOZz0vXih0cnVlfGZhbHNlfFxcZCspJC8sVWU9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscHJpb3JpdHk6MTAwLGNvbXBpbGU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gTmcudGVzdChiLm5nVmFsdWUpP2Z1bmN0aW9uKGEsYixlKXtlLiRzZXQoXCJ2YWx1ZVwiLGEuJGV2YWwoZS5uZ1ZhbHVlKSl9OmZ1bmN0aW9uKGEsYixlKXthLiR3YXRjaChlLm5nVmFsdWUsZnVuY3Rpb24oYSl7ZS4kc2V0KFwidmFsdWVcIixhKX0pfX19fSx1ZT1bXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDpcIkFDXCIsY29tcGlsZTpmdW5jdGlvbihiKXthLiQkYWRkQmluZGluZ0NsYXNzKGIpO3JldHVybiBmdW5jdGlvbihiLGMsZSl7YS4kJGFkZEJpbmRpbmdJbmZvKGMsZS5uZ0JpbmQpO2M9Y1swXTtiLiR3YXRjaChlLm5nQmluZCxmdW5jdGlvbihhKXtjLnRleHRDb250ZW50PXkoYSk/XCJcIjphfSl9fX19XSx3ZT1bXCIkaW50ZXJwb2xhdGVcIixcIiRjb21waWxlXCIsXG5mdW5jdGlvbihhLGIpe3JldHVybntjb21waWxlOmZ1bmN0aW9uKGQpe2IuJCRhZGRCaW5kaW5nQ2xhc3MoZCk7cmV0dXJuIGZ1bmN0aW9uKGMsZCxmKXtjPWEoZC5hdHRyKGYuJGF0dHIubmdCaW5kVGVtcGxhdGUpKTtiLiQkYWRkQmluZGluZ0luZm8oZCxjLmV4cHJlc3Npb25zKTtkPWRbMF07Zi4kb2JzZXJ2ZShcIm5nQmluZFRlbXBsYXRlXCIsZnVuY3Rpb24oYSl7ZC50ZXh0Q29udGVudD15KGEpP1wiXCI6YX0pfX19fV0sdmU9W1wiJHNjZVwiLFwiJHBhcnNlXCIsXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGEsYixkKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsY29tcGlsZTpmdW5jdGlvbihjLGUpe3ZhciBmPWIoZS5uZ0JpbmRIdG1sKSxnPWIoZS5uZ0JpbmRIdG1sLGZ1bmN0aW9uKGIpe3JldHVybiBhLnZhbHVlT2YoYil9KTtkLiQkYWRkQmluZGluZ0NsYXNzKGMpO3JldHVybiBmdW5jdGlvbihiLGMsZSl7ZC4kJGFkZEJpbmRpbmdJbmZvKGMsZS5uZ0JpbmRIdG1sKTtiLiR3YXRjaChnLGZ1bmN0aW9uKCl7dmFyIGQ9XG5mKGIpO2MuaHRtbChhLmdldFRydXN0ZWRIdG1sKGQpfHxcIlwiKX0pfX19fV0sVGU9aGEoe3Jlc3RyaWN0OlwiQVwiLHJlcXVpcmU6XCJuZ01vZGVsXCIsbGluazpmdW5jdGlvbihhLGIsZCxjKXtjLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLnB1c2goZnVuY3Rpb24oKXthLiRldmFsKGQubmdDaGFuZ2UpfSl9fSkseGU9cWMoXCJcIiwhMCksemU9cWMoXCJPZGRcIiwwKSx5ZT1xYyhcIkV2ZW5cIiwxKSxBZT1UYSh7Y29tcGlsZTpmdW5jdGlvbihhLGIpe2IuJHNldChcIm5nQ2xvYWtcIix2b2lkIDApO2EucmVtb3ZlQ2xhc3MoXCJuZy1jbG9ha1wiKX19KSxCZT1bZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsc2NvcGU6ITAsY29udHJvbGxlcjpcIkBcIixwcmlvcml0eTo1MDB9fV0sTGM9e30sT2c9e2JsdXI6ITAsZm9jdXM6ITB9O3EoXCJjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2Vtb3ZlIG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBrZXlkb3duIGtleXVwIGtleXByZXNzIHN1Ym1pdCBmb2N1cyBibHVyIGNvcHkgY3V0IHBhc3RlXCIuc3BsaXQoXCIgXCIpLFxuZnVuY3Rpb24oYSl7dmFyIGI9QWEoXCJuZy1cIithKTtMY1tiXT1bXCIkcGFyc2VcIixcIiRyb290U2NvcGVcIixmdW5jdGlvbihkLGMpe3JldHVybntyZXN0cmljdDpcIkFcIixjb21waWxlOmZ1bmN0aW9uKGUsZil7dmFyIGc9ZChmW2JdLG51bGwsITApO3JldHVybiBmdW5jdGlvbihiLGQpe2Qub24oYSxmdW5jdGlvbihkKXt2YXIgZT1mdW5jdGlvbigpe2coYix7JGV2ZW50OmR9KX07T2dbYV0mJmMuJCRwaGFzZT9iLiRldmFsQXN5bmMoZSk6Yi4kYXBwbHkoZSl9KX19fX1dfSk7dmFyIEVlPVtcIiRhbmltYXRlXCIsXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGEsYil7cmV0dXJue211bHRpRWxlbWVudDohMCx0cmFuc2NsdWRlOlwiZWxlbWVudFwiLHByaW9yaXR5OjYwMCx0ZXJtaW5hbDohMCxyZXN0cmljdDpcIkFcIiwkJHRsYjohMCxsaW5rOmZ1bmN0aW9uKGQsYyxlLGYsZyl7dmFyIGgsayxsO2QuJHdhdGNoKGUubmdJZixmdW5jdGlvbihkKXtkP2t8fGcoZnVuY3Rpb24oZCxmKXtrPWY7ZFtkLmxlbmd0aCsrXT1cbmIuJCRjcmVhdGVDb21tZW50KFwiZW5kIG5nSWZcIixlLm5nSWYpO2g9e2Nsb25lOmR9O2EuZW50ZXIoZCxjLnBhcmVudCgpLGMpfSk6KGwmJihsLnJlbW92ZSgpLGw9bnVsbCksayYmKGsuJGRlc3Ryb3koKSxrPW51bGwpLGgmJihsPXRiKGguY2xvbmUpLGEubGVhdmUobCkudGhlbihmdW5jdGlvbigpe2w9bnVsbH0pLGg9bnVsbCkpfSl9fX1dLEZlPVtcIiR0ZW1wbGF0ZVJlcXVlc3RcIixcIiRhbmNob3JTY3JvbGxcIixcIiRhbmltYXRlXCIsZnVuY3Rpb24oYSxiLGQpe3JldHVybntyZXN0cmljdDpcIkVDQVwiLHByaW9yaXR5OjQwMCx0ZXJtaW5hbDohMCx0cmFuc2NsdWRlOlwiZWxlbWVudFwiLGNvbnRyb2xsZXI6Y2Eubm9vcCxjb21waWxlOmZ1bmN0aW9uKGMsZSl7dmFyIGY9ZS5uZ0luY2x1ZGV8fGUuc3JjLGc9ZS5vbmxvYWR8fFwiXCIsaD1lLmF1dG9zY3JvbGw7cmV0dXJuIGZ1bmN0aW9uKGMsZSxtLG4scCl7dmFyIHE9MCxzLEIscix5PWZ1bmN0aW9uKCl7QiYmKEIucmVtb3ZlKCksQj1udWxsKTtzJiZcbihzLiRkZXN0cm95KCkscz1udWxsKTtyJiYoZC5sZWF2ZShyKS50aGVuKGZ1bmN0aW9uKCl7Qj1udWxsfSksQj1yLHI9bnVsbCl9O2MuJHdhdGNoKGYsZnVuY3Rpb24oZil7dmFyIG09ZnVuY3Rpb24oKXshdyhoKXx8aCYmIWMuJGV2YWwoaCl8fGIoKX0sdD0rK3E7Zj8oYShmLCEwKS50aGVuKGZ1bmN0aW9uKGEpe2lmKCFjLiQkZGVzdHJveWVkJiZ0PT09cSl7dmFyIGI9Yy4kbmV3KCk7bi50ZW1wbGF0ZT1hO2E9cChiLGZ1bmN0aW9uKGEpe3koKTtkLmVudGVyKGEsbnVsbCxlKS50aGVuKG0pfSk7cz1iO3I9YTtzLiRlbWl0KFwiJGluY2x1ZGVDb250ZW50TG9hZGVkXCIsZik7Yy4kZXZhbChnKX19LGZ1bmN0aW9uKCl7Yy4kJGRlc3Ryb3llZHx8dCE9PXF8fCh5KCksYy4kZW1pdChcIiRpbmNsdWRlQ29udGVudEVycm9yXCIsZikpfSksYy4kZW1pdChcIiRpbmNsdWRlQ29udGVudFJlcXVlc3RlZFwiLGYpKTooeSgpLG4udGVtcGxhdGU9bnVsbCl9KX19fX1dLFdlPVtcIiRjb21waWxlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiRUNBXCIsXG5wcmlvcml0eTotNDAwLHJlcXVpcmU6XCJuZ0luY2x1ZGVcIixsaW5rOmZ1bmN0aW9uKGIsZCxjLGUpe21hLmNhbGwoZFswXSkubWF0Y2goL1NWRy8pPyhkLmVtcHR5KCksYShPYyhlLnRlbXBsYXRlLEMuZG9jdW1lbnQpLmNoaWxkTm9kZXMpKGIsZnVuY3Rpb24oYSl7ZC5hcHBlbmQoYSl9LHtmdXR1cmVQYXJlbnRFbGVtZW50OmR9KSk6KGQuaHRtbChlLnRlbXBsYXRlKSxhKGQuY29udGVudHMoKSkoYikpfX19XSxHZT1UYSh7cHJpb3JpdHk6NDUwLGNvbXBpbGU6ZnVuY3Rpb24oKXtyZXR1cm57cHJlOmZ1bmN0aW9uKGEsYixkKXthLiRldmFsKGQubmdJbml0KX19fX0pLFNlPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHByaW9yaXR5OjEwMCxyZXF1aXJlOlwibmdNb2RlbFwiLGxpbms6ZnVuY3Rpb24oYSxiLGQsYyl7dmFyIGU9Yi5hdHRyKGQuJGF0dHIubmdMaXN0KXx8XCIsIFwiLGY9XCJmYWxzZVwiIT09ZC5uZ1RyaW0sZz1mP1coZSk6ZTtjLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24oYSl7aWYoIXkoYSkpe3ZhciBiPVxuW107YSYmcShhLnNwbGl0KGcpLGZ1bmN0aW9uKGEpe2EmJmIucHVzaChmP1coYSk6YSl9KTtyZXR1cm4gYn19KTtjLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oYSl7aWYoTChhKSlyZXR1cm4gYS5qb2luKGUpfSk7Yy4kaXNFbXB0eT1mdW5jdGlvbihhKXtyZXR1cm4hYXx8IWEubGVuZ3RofX19fSxvYj1cIm5nLXZhbGlkXCIsT2Q9XCJuZy1pbnZhbGlkXCIsVWE9XCJuZy1wcmlzdGluZVwiLE1iPVwibmctZGlydHlcIixRZD1cIm5nLXBlbmRpbmdcIixuYj1OKFwibmdNb2RlbFwiKSxQZz1bXCIkc2NvcGVcIixcIiRleGNlcHRpb25IYW5kbGVyXCIsXCIkYXR0cnNcIixcIiRlbGVtZW50XCIsXCIkcGFyc2VcIixcIiRhbmltYXRlXCIsXCIkdGltZW91dFwiLFwiJHJvb3RTY29wZVwiLFwiJHFcIixcIiRpbnRlcnBvbGF0ZVwiLGZ1bmN0aW9uKGEsYixkLGMsZSxmLGcsaCxrLGwpe3RoaXMuJG1vZGVsVmFsdWU9dGhpcy4kdmlld1ZhbHVlPU51bWJlci5OYU47dGhpcy4kJHJhd01vZGVsVmFsdWU9dm9pZCAwO3RoaXMuJHZhbGlkYXRvcnM9e307XG50aGlzLiRhc3luY1ZhbGlkYXRvcnM9e307dGhpcy4kcGFyc2Vycz1bXTt0aGlzLiRmb3JtYXR0ZXJzPVtdO3RoaXMuJHZpZXdDaGFuZ2VMaXN0ZW5lcnM9W107dGhpcy4kdW50b3VjaGVkPSEwO3RoaXMuJHRvdWNoZWQ9ITE7dGhpcy4kcHJpc3RpbmU9ITA7dGhpcy4kZGlydHk9ITE7dGhpcy4kdmFsaWQ9ITA7dGhpcy4kaW52YWxpZD0hMTt0aGlzLiRlcnJvcj17fTt0aGlzLiQkc3VjY2Vzcz17fTt0aGlzLiRwZW5kaW5nPXZvaWQgMDt0aGlzLiRuYW1lPWwoZC5uYW1lfHxcIlwiLCExKShhKTt0aGlzLiQkcGFyZW50Rm9ybT1MYjt2YXIgbT1lKGQubmdNb2RlbCksbj1tLmFzc2lnbixwPW0sdT1uLHM9bnVsbCxCLHI9dGhpczt0aGlzLiQkc2V0T3B0aW9ucz1mdW5jdGlvbihhKXtpZigoci4kb3B0aW9ucz1hKSYmYS5nZXR0ZXJTZXR0ZXIpe3ZhciBiPWUoZC5uZ01vZGVsK1wiKClcIiksZj1lKGQubmdNb2RlbCtcIigkJCRwKVwiKTtwPWZ1bmN0aW9uKGEpe3ZhciBjPW0oYSk7eihjKSYmKGM9YihhKSk7XG5yZXR1cm4gY307dT1mdW5jdGlvbihhLGIpe3oobShhKSk/ZihhLHskJCRwOmJ9KTpuKGEsYil9fWVsc2UgaWYoIW0uYXNzaWduKXRocm93IG5iKFwibm9uYXNzaWduXCIsZC5uZ01vZGVsLHlhKGMpKTt9O3RoaXMuJHJlbmRlcj1BO3RoaXMuJGlzRW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuIHkoYSl8fFwiXCI9PT1hfHxudWxsPT09YXx8YSE9PWF9O3RoaXMuJCR1cGRhdGVFbXB0eUNsYXNzZXM9ZnVuY3Rpb24oYSl7ci4kaXNFbXB0eShhKT8oZi5yZW1vdmVDbGFzcyhjLFwibmctbm90LWVtcHR5XCIpLGYuYWRkQ2xhc3MoYyxcIm5nLWVtcHR5XCIpKTooZi5yZW1vdmVDbGFzcyhjLFwibmctZW1wdHlcIiksZi5hZGRDbGFzcyhjLFwibmctbm90LWVtcHR5XCIpKX07dmFyIEo9MDtLZCh7Y3RybDp0aGlzLCRlbGVtZW50OmMsc2V0OmZ1bmN0aW9uKGEsYil7YVtiXT0hMH0sdW5zZXQ6ZnVuY3Rpb24oYSxiKXtkZWxldGUgYVtiXX0sJGFuaW1hdGU6Zn0pO3RoaXMuJHNldFByaXN0aW5lPWZ1bmN0aW9uKCl7ci4kZGlydHk9XG4hMTtyLiRwcmlzdGluZT0hMDtmLnJlbW92ZUNsYXNzKGMsTWIpO2YuYWRkQ2xhc3MoYyxVYSl9O3RoaXMuJHNldERpcnR5PWZ1bmN0aW9uKCl7ci4kZGlydHk9ITA7ci4kcHJpc3RpbmU9ITE7Zi5yZW1vdmVDbGFzcyhjLFVhKTtmLmFkZENsYXNzKGMsTWIpO3IuJCRwYXJlbnRGb3JtLiRzZXREaXJ0eSgpfTt0aGlzLiRzZXRVbnRvdWNoZWQ9ZnVuY3Rpb24oKXtyLiR0b3VjaGVkPSExO3IuJHVudG91Y2hlZD0hMDtmLnNldENsYXNzKGMsXCJuZy11bnRvdWNoZWRcIixcIm5nLXRvdWNoZWRcIil9O3RoaXMuJHNldFRvdWNoZWQ9ZnVuY3Rpb24oKXtyLiR0b3VjaGVkPSEwO3IuJHVudG91Y2hlZD0hMTtmLnNldENsYXNzKGMsXCJuZy10b3VjaGVkXCIsXCJuZy11bnRvdWNoZWRcIil9O3RoaXMuJHJvbGxiYWNrVmlld1ZhbHVlPWZ1bmN0aW9uKCl7Zy5jYW5jZWwocyk7ci4kdmlld1ZhbHVlPXIuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlO3IuJHJlbmRlcigpfTt0aGlzLiR2YWxpZGF0ZT1mdW5jdGlvbigpe2lmKCFUKHIuJG1vZGVsVmFsdWUpfHxcbiFpc05hTihyLiRtb2RlbFZhbHVlKSl7dmFyIGE9ci4kJHJhd01vZGVsVmFsdWUsYj1yLiR2YWxpZCxjPXIuJG1vZGVsVmFsdWUsZD1yLiRvcHRpb25zJiZyLiRvcHRpb25zLmFsbG93SW52YWxpZDtyLiQkcnVuVmFsaWRhdG9ycyhhLHIuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlLGZ1bmN0aW9uKGUpe2R8fGI9PT1lfHwoci4kbW9kZWxWYWx1ZT1lP2E6dm9pZCAwLHIuJG1vZGVsVmFsdWUhPT1jJiZyLiQkd3JpdGVNb2RlbFRvU2NvcGUoKSl9KX19O3RoaXMuJCRydW5WYWxpZGF0b3JzPWZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKCl7dmFyIGM9ITA7cShyLiR2YWxpZGF0b3JzLGZ1bmN0aW9uKGQsZSl7dmFyIGc9ZChhLGIpO2M9YyYmZztmKGUsZyl9KTtyZXR1cm4gYz8hMDoocShyLiRhc3luY1ZhbGlkYXRvcnMsZnVuY3Rpb24oYSxiKXtmKGIsbnVsbCl9KSwhMSl9ZnVuY3Rpb24gZSgpe3ZhciBjPVtdLGQ9ITA7cShyLiRhc3luY1ZhbGlkYXRvcnMsZnVuY3Rpb24oZSxnKXt2YXIgaD1cbmUoYSxiKTtpZighaHx8IXooaC50aGVuKSl0aHJvdyBuYihcIm5vcHJvbWlzZVwiLGgpO2YoZyx2b2lkIDApO2MucHVzaChoLnRoZW4oZnVuY3Rpb24oKXtmKGcsITApfSxmdW5jdGlvbigpe2Q9ITE7ZihnLCExKX0pKX0pO2MubGVuZ3RoP2suYWxsKGMpLnRoZW4oZnVuY3Rpb24oKXtnKGQpfSxBKTpnKCEwKX1mdW5jdGlvbiBmKGEsYil7aD09PUomJnIuJHNldFZhbGlkaXR5KGEsYil9ZnVuY3Rpb24gZyhhKXtoPT09SiYmYyhhKX1KKys7dmFyIGg9SjsoZnVuY3Rpb24oKXt2YXIgYT1yLiQkcGFyc2VyTmFtZXx8XCJwYXJzZVwiO2lmKHkoQikpZihhLG51bGwpO2Vsc2UgcmV0dXJuIEJ8fChxKHIuJHZhbGlkYXRvcnMsZnVuY3Rpb24oYSxiKXtmKGIsbnVsbCl9KSxxKHIuJGFzeW5jVmFsaWRhdG9ycyxmdW5jdGlvbihhLGIpe2YoYixudWxsKX0pKSxmKGEsQiksQjtyZXR1cm4hMH0pKCk/ZCgpP2UoKTpnKCExKTpnKCExKX07dGhpcy4kY29tbWl0Vmlld1ZhbHVlPWZ1bmN0aW9uKCl7dmFyIGE9XG5yLiR2aWV3VmFsdWU7Zy5jYW5jZWwocyk7aWYoci4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUhPT1hfHxcIlwiPT09YSYmci4kJGhhc05hdGl2ZVZhbGlkYXRvcnMpci4kJHVwZGF0ZUVtcHR5Q2xhc3NlcyhhKSxyLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZT1hLHIuJHByaXN0aW5lJiZ0aGlzLiRzZXREaXJ0eSgpLHRoaXMuJCRwYXJzZUFuZFZhbGlkYXRlKCl9O3RoaXMuJCRwYXJzZUFuZFZhbGlkYXRlPWZ1bmN0aW9uKCl7dmFyIGI9ci4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU7aWYoQj15KGIpP3ZvaWQgMDohMClmb3IodmFyIGM9MDtjPHIuJHBhcnNlcnMubGVuZ3RoO2MrKylpZihiPXIuJHBhcnNlcnNbY10oYikseShiKSl7Qj0hMTticmVha31UKHIuJG1vZGVsVmFsdWUpJiZpc05hTihyLiRtb2RlbFZhbHVlKSYmKHIuJG1vZGVsVmFsdWU9cChhKSk7dmFyIGQ9ci4kbW9kZWxWYWx1ZSxlPXIuJG9wdGlvbnMmJnIuJG9wdGlvbnMuYWxsb3dJbnZhbGlkO3IuJCRyYXdNb2RlbFZhbHVlPVxuYjtlJiYoci4kbW9kZWxWYWx1ZT1iLHIuJG1vZGVsVmFsdWUhPT1kJiZyLiQkd3JpdGVNb2RlbFRvU2NvcGUoKSk7ci4kJHJ1blZhbGlkYXRvcnMoYixyLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSxmdW5jdGlvbihhKXtlfHwoci4kbW9kZWxWYWx1ZT1hP2I6dm9pZCAwLHIuJG1vZGVsVmFsdWUhPT1kJiZyLiQkd3JpdGVNb2RlbFRvU2NvcGUoKSl9KX07dGhpcy4kJHdyaXRlTW9kZWxUb1Njb3BlPWZ1bmN0aW9uKCl7dShhLHIuJG1vZGVsVmFsdWUpO3Eoci4kdmlld0NoYW5nZUxpc3RlbmVycyxmdW5jdGlvbihhKXt0cnl7YSgpfWNhdGNoKGMpe2IoYyl9fSl9O3RoaXMuJHNldFZpZXdWYWx1ZT1mdW5jdGlvbihhLGIpe3IuJHZpZXdWYWx1ZT1hO3IuJG9wdGlvbnMmJiFyLiRvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdHx8ci4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0KGIpfTt0aGlzLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQ9ZnVuY3Rpb24oYil7dmFyIGM9MCxkPXIuJG9wdGlvbnM7XG5kJiZ3KGQuZGVib3VuY2UpJiYoZD1kLmRlYm91bmNlLFQoZCk/Yz1kOlQoZFtiXSk/Yz1kW2JdOlQoZFtcImRlZmF1bHRcIl0pJiYoYz1kW1wiZGVmYXVsdFwiXSkpO2cuY2FuY2VsKHMpO2M/cz1nKGZ1bmN0aW9uKCl7ci4kY29tbWl0Vmlld1ZhbHVlKCl9LGMpOmguJCRwaGFzZT9yLiRjb21taXRWaWV3VmFsdWUoKTphLiRhcHBseShmdW5jdGlvbigpe3IuJGNvbW1pdFZpZXdWYWx1ZSgpfSl9O2EuJHdhdGNoKGZ1bmN0aW9uKCl7dmFyIGI9cChhKTtpZihiIT09ci4kbW9kZWxWYWx1ZSYmKHIuJG1vZGVsVmFsdWU9PT1yLiRtb2RlbFZhbHVlfHxiPT09Yikpe3IuJG1vZGVsVmFsdWU9ci4kJHJhd01vZGVsVmFsdWU9YjtCPXZvaWQgMDtmb3IodmFyIGM9ci4kZm9ybWF0dGVycyxkPWMubGVuZ3RoLGU9YjtkLS07KWU9Y1tkXShlKTtyLiR2aWV3VmFsdWUhPT1lJiYoci4kJHVwZGF0ZUVtcHR5Q2xhc3NlcyhlKSxyLiR2aWV3VmFsdWU9ci4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU9ZSxyLiRyZW5kZXIoKSxcbnIuJCRydW5WYWxpZGF0b3JzKGIsZSxBKSl9cmV0dXJuIGJ9KX1dLFJlPVtcIiRyb290U2NvcGVcIixmdW5jdGlvbihhKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpbXCJuZ01vZGVsXCIsXCJeP2Zvcm1cIixcIl4/bmdNb2RlbE9wdGlvbnNcIl0sY29udHJvbGxlcjpQZyxwcmlvcml0eToxLGNvbXBpbGU6ZnVuY3Rpb24oYil7Yi5hZGRDbGFzcyhVYSkuYWRkQ2xhc3MoXCJuZy11bnRvdWNoZWRcIikuYWRkQ2xhc3Mob2IpO3JldHVybntwcmU6ZnVuY3Rpb24oYSxiLGUsZil7dmFyIGc9ZlswXTtiPWZbMV18fGcuJCRwYXJlbnRGb3JtO2cuJCRzZXRPcHRpb25zKGZbMl0mJmZbMl0uJG9wdGlvbnMpO2IuJGFkZENvbnRyb2woZyk7ZS4kb2JzZXJ2ZShcIm5hbWVcIixmdW5jdGlvbihhKXtnLiRuYW1lIT09YSYmZy4kJHBhcmVudEZvcm0uJCRyZW5hbWVDb250cm9sKGcsYSl9KTthLiRvbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtnLiQkcGFyZW50Rm9ybS4kcmVtb3ZlQ29udHJvbChnKX0pfSxwb3N0OmZ1bmN0aW9uKGIsXG5jLGUsZil7dmFyIGc9ZlswXTtpZihnLiRvcHRpb25zJiZnLiRvcHRpb25zLnVwZGF0ZU9uKWMub24oZy4kb3B0aW9ucy51cGRhdGVPbixmdW5jdGlvbihhKXtnLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQoYSYmYS50eXBlKX0pO2Mub24oXCJibHVyXCIsZnVuY3Rpb24oKXtnLiR0b3VjaGVkfHwoYS4kJHBoYXNlP2IuJGV2YWxBc3luYyhnLiRzZXRUb3VjaGVkKTpiLiRhcHBseShnLiRzZXRUb3VjaGVkKSl9KX19fX19XSxRZz0vKFxccyt8XilkZWZhdWx0KFxccyt8JCkvLFZlPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLGNvbnRyb2xsZXI6W1wiJHNjb3BlXCIsXCIkYXR0cnNcIixmdW5jdGlvbihhLGIpe3ZhciBkPXRoaXM7dGhpcy4kb3B0aW9ucz1wYShhLiRldmFsKGIubmdNb2RlbE9wdGlvbnMpKTt3KHRoaXMuJG9wdGlvbnMudXBkYXRlT24pPyh0aGlzLiRvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdD0hMSx0aGlzLiRvcHRpb25zLnVwZGF0ZU9uPVcodGhpcy4kb3B0aW9ucy51cGRhdGVPbi5yZXBsYWNlKFFnLFxuZnVuY3Rpb24oKXtkLiRvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdD0hMDtyZXR1cm5cIiBcIn0pKSk6dGhpcy4kb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQ9ITB9XX19LEhlPVRhKHt0ZXJtaW5hbDohMCxwcmlvcml0eToxRTN9KSxSZz1OKFwibmdPcHRpb25zXCIpLFNnPS9eXFxzKihbXFxzXFxTXSs/KSg/Olxccythc1xccysoW1xcc1xcU10rPykpPyg/Olxccytncm91cFxccytieVxccysoW1xcc1xcU10rPykpPyg/OlxccytkaXNhYmxlXFxzK3doZW5cXHMrKFtcXHNcXFNdKz8pKT9cXHMrZm9yXFxzKyg/OihbXFwkXFx3XVtcXCRcXHddKil8KD86XFwoXFxzKihbXFwkXFx3XVtcXCRcXHddKilcXHMqLFxccyooW1xcJFxcd11bXFwkXFx3XSopXFxzKlxcKSkpXFxzK2luXFxzKyhbXFxzXFxTXSs/KSg/Olxccyt0cmFja1xccytieVxccysoW1xcc1xcU10rPykpPyQvLFBlPVtcIiRjb21waWxlXCIsXCIkZG9jdW1lbnRcIixcIiRwYXJzZVwiLGZ1bmN0aW9uKGEsYixkKXtmdW5jdGlvbiBjKGEsYixjKXtmdW5jdGlvbiBlKGEsYixjLGQsZil7dGhpcy5zZWxlY3RWYWx1ZT1hO3RoaXMudmlld1ZhbHVlPVxuYjt0aGlzLmxhYmVsPWM7dGhpcy5ncm91cD1kO3RoaXMuZGlzYWJsZWQ9Zn1mdW5jdGlvbiBmKGEpe3ZhciBiO2lmKCFxJiZ0YShhKSliPWE7ZWxzZXtiPVtdO2Zvcih2YXIgYyBpbiBhKWEuaGFzT3duUHJvcGVydHkoYykmJlwiJFwiIT09Yy5jaGFyQXQoMCkmJmIucHVzaChjKX1yZXR1cm4gYn12YXIgbj1hLm1hdGNoKFNnKTtpZighbil0aHJvdyBSZyhcImlleHBcIixhLHlhKGIpKTt2YXIgcD1uWzVdfHxuWzddLHE9bls2XTthPS8gYXMgLy50ZXN0KG5bMF0pJiZuWzFdO3ZhciBzPW5bOV07Yj1kKG5bMl0/blsxXTpwKTt2YXIgdz1hJiZkKGEpfHxiLHI9cyYmZChzKSx5PXM/ZnVuY3Rpb24oYSxiKXtyZXR1cm4gcihjLGIpfTpmdW5jdGlvbihhKXtyZXR1cm4gQ2EoYSl9LHY9ZnVuY3Rpb24oYSxiKXtyZXR1cm4geShhLEUoYSxiKSl9LEE9ZChuWzJdfHxuWzFdKSx0PWQoblszXXx8XCJcIiksSz1kKG5bNF18fFwiXCIpLHo9ZChuWzhdKSxIPXt9LEU9cT9mdW5jdGlvbihhLGIpe0hbcV09YjtIW3BdPVxuYTtyZXR1cm4gSH06ZnVuY3Rpb24oYSl7SFtwXT1hO3JldHVybiBIfTtyZXR1cm57dHJhY2tCeTpzLGdldFRyYWNrQnlWYWx1ZTp2LGdldFdhdGNoYWJsZXM6ZCh6LGZ1bmN0aW9uKGEpe3ZhciBiPVtdO2E9YXx8W107Zm9yKHZhciBkPWYoYSksZT1kLmxlbmd0aCxnPTA7ZzxlO2crKyl7dmFyIGg9YT09PWQ/ZzpkW2ddLGw9YVtoXSxoPUUobCxoKSxsPXkobCxoKTtiLnB1c2gobCk7aWYoblsyXXx8blsxXSlsPUEoYyxoKSxiLnB1c2gobCk7bls0XSYmKGg9SyhjLGgpLGIucHVzaChoKSl9cmV0dXJuIGJ9KSxnZXRPcHRpb25zOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPVtdLGI9e30sZD16KGMpfHxbXSxnPWYoZCksaD1nLmxlbmd0aCxuPTA7bjxoO24rKyl7dmFyIHA9ZD09PWc/bjpnW25dLHE9RShkW3BdLHApLHI9dyhjLHEpLHA9eShyLHEpLHU9QShjLHEpLEg9dChjLHEpLHE9SyhjLHEpLHI9bmV3IGUocCxyLHUsSCxxKTthLnB1c2gocik7YltwXT1yfXJldHVybntpdGVtczphLHNlbGVjdFZhbHVlTWFwOmIsXG5nZXRPcHRpb25Gcm9tVmlld1ZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybiBiW3YoYSldfSxnZXRWaWV3VmFsdWVGcm9tT3B0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiBzP2NhLmNvcHkoYS52aWV3VmFsdWUpOmEudmlld1ZhbHVlfX19fX12YXIgZT1DLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIiksZj1DLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRncm91cFwiKTtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsdGVybWluYWw6ITAscmVxdWlyZTpbXCJzZWxlY3RcIixcIm5nTW9kZWxcIl0sbGluazp7cHJlOmZ1bmN0aW9uKGEsYixjLGQpe2RbMF0ucmVnaXN0ZXJPcHRpb249QX0scG9zdDpmdW5jdGlvbihkLGgsayxsKXtmdW5jdGlvbiBtKGEsYil7YS5lbGVtZW50PWI7Yi5kaXNhYmxlZD1hLmRpc2FibGVkO2EubGFiZWwhPT1iLmxhYmVsJiYoYi5sYWJlbD1hLmxhYmVsLGIudGV4dENvbnRlbnQ9YS5sYWJlbCk7YS52YWx1ZSE9PWIudmFsdWUmJihiLnZhbHVlPWEuc2VsZWN0VmFsdWUpfWZ1bmN0aW9uIG4oKXt2YXIgYT1cbnQmJnAucmVhZFZhbHVlKCk7aWYodClmb3IodmFyIGI9dC5pdGVtcy5sZW5ndGgtMTswPD1iO2ItLSl7dmFyIGM9dC5pdGVtc1tiXTt3KGMuZ3JvdXApP0RiKGMuZWxlbWVudC5wYXJlbnROb2RlKTpEYihjLmVsZW1lbnQpfXQ9Sy5nZXRPcHRpb25zKCk7dmFyIGQ9e307diYmaC5wcmVwZW5kKEIpO3QuaXRlbXMuZm9yRWFjaChmdW5jdGlvbihhKXt2YXIgYjtpZih3KGEuZ3JvdXApKXtiPWRbYS5ncm91cF07Ynx8KGI9Zi5jbG9uZU5vZGUoITEpLEMuYXBwZW5kQ2hpbGQoYiksYi5sYWJlbD1udWxsPT09YS5ncm91cD9cIm51bGxcIjphLmdyb3VwLGRbYS5ncm91cF09Yik7dmFyIGM9ZS5jbG9uZU5vZGUoITEpfWVsc2UgYj1DLGM9ZS5jbG9uZU5vZGUoITEpO2IuYXBwZW5kQ2hpbGQoYyk7bShhLGMpfSk7aFswXS5hcHBlbmRDaGlsZChDKTtzLiRyZW5kZXIoKTtzLiRpc0VtcHR5KGEpfHwoYj1wLnJlYWRWYWx1ZSgpLChLLnRyYWNrQnl8fHk/bmEoYSxiKTphPT09Yil8fChzLiRzZXRWaWV3VmFsdWUoYiksXG5zLiRyZW5kZXIoKSkpfXZhciBwPWxbMF0scz1sWzFdLHk9ay5tdWx0aXBsZSxCO2w9MDtmb3IodmFyIHI9aC5jaGlsZHJlbigpLEE9ci5sZW5ndGg7bDxBO2wrKylpZihcIlwiPT09cltsXS52YWx1ZSl7Qj1yLmVxKGwpO2JyZWFrfXZhciB2PSEhQix6PUYoZS5jbG9uZU5vZGUoITEpKTt6LnZhbChcIj9cIik7dmFyIHQsSz1jKGsubmdPcHRpb25zLGgsZCksQz1iWzBdLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTt5PyhzLiRpc0VtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiFhfHwwPT09YS5sZW5ndGh9LHAud3JpdGVWYWx1ZT1mdW5jdGlvbihhKXt0Lml0ZW1zLmZvckVhY2goZnVuY3Rpb24oYSl7YS5lbGVtZW50LnNlbGVjdGVkPSExfSk7YSYmYS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2lmKGE9dC5nZXRPcHRpb25Gcm9tVmlld1ZhbHVlKGEpKWEuZWxlbWVudC5zZWxlY3RlZD0hMH0pfSxwLnJlYWRWYWx1ZT1mdW5jdGlvbigpe3ZhciBhPWgudmFsKCl8fFtdLGI9W107cShhLGZ1bmN0aW9uKGEpeyhhPVxudC5zZWxlY3RWYWx1ZU1hcFthXSkmJiFhLmRpc2FibGVkJiZiLnB1c2godC5nZXRWaWV3VmFsdWVGcm9tT3B0aW9uKGEpKX0pO3JldHVybiBifSxLLnRyYWNrQnkmJmQuJHdhdGNoQ29sbGVjdGlvbihmdW5jdGlvbigpe2lmKEwocy4kdmlld1ZhbHVlKSlyZXR1cm4gcy4kdmlld1ZhbHVlLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gSy5nZXRUcmFja0J5VmFsdWUoYSl9KX0sZnVuY3Rpb24oKXtzLiRyZW5kZXIoKX0pKToocC53cml0ZVZhbHVlPWZ1bmN0aW9uKGEpe3ZhciBiPXQuZ2V0T3B0aW9uRnJvbVZpZXdWYWx1ZShhKTtiPyhoWzBdLnZhbHVlIT09Yi5zZWxlY3RWYWx1ZSYmKHoucmVtb3ZlKCksdnx8Qi5yZW1vdmUoKSxoWzBdLnZhbHVlPWIuc2VsZWN0VmFsdWUsYi5lbGVtZW50LnNlbGVjdGVkPSEwKSxiLmVsZW1lbnQuc2V0QXR0cmlidXRlKFwic2VsZWN0ZWRcIixcInNlbGVjdGVkXCIpKTpudWxsPT09YXx8dj8oei5yZW1vdmUoKSx2fHxoLnByZXBlbmQoQiksaC52YWwoXCJcIiksQi5wcm9wKFwic2VsZWN0ZWRcIixcbiEwKSxCLmF0dHIoXCJzZWxlY3RlZFwiLCEwKSk6KHZ8fEIucmVtb3ZlKCksaC5wcmVwZW5kKHopLGgudmFsKFwiP1wiKSx6LnByb3AoXCJzZWxlY3RlZFwiLCEwKSx6LmF0dHIoXCJzZWxlY3RlZFwiLCEwKSl9LHAucmVhZFZhbHVlPWZ1bmN0aW9uKCl7dmFyIGE9dC5zZWxlY3RWYWx1ZU1hcFtoLnZhbCgpXTtyZXR1cm4gYSYmIWEuZGlzYWJsZWQ/KHZ8fEIucmVtb3ZlKCksei5yZW1vdmUoKSx0LmdldFZpZXdWYWx1ZUZyb21PcHRpb24oYSkpOm51bGx9LEsudHJhY2tCeSYmZC4kd2F0Y2goZnVuY3Rpb24oKXtyZXR1cm4gSy5nZXRUcmFja0J5VmFsdWUocy4kdmlld1ZhbHVlKX0sZnVuY3Rpb24oKXtzLiRyZW5kZXIoKX0pKTt2PyhCLnJlbW92ZSgpLGEoQikoZCksQi5yZW1vdmVDbGFzcyhcIm5nLXNjb3BlXCIpKTpCPUYoZS5jbG9uZU5vZGUoITEpKTtoLmVtcHR5KCk7bigpO2QuJHdhdGNoQ29sbGVjdGlvbihLLmdldFdhdGNoYWJsZXMsbil9fX19XSxJZT1bXCIkbG9jYWxlXCIsXCIkaW50ZXJwb2xhdGVcIixcblwiJGxvZ1wiLGZ1bmN0aW9uKGEsYixkKXt2YXIgYz0ve30vZyxlPS9ed2hlbihNaW51cyk/KC4rKSQvO3JldHVybntsaW5rOmZ1bmN0aW9uKGYsZyxoKXtmdW5jdGlvbiBrKGEpe2cudGV4dChhfHxcIlwiKX12YXIgbD1oLmNvdW50LG09aC4kYXR0ci53aGVuJiZnLmF0dHIoaC4kYXR0ci53aGVuKSxuPWgub2Zmc2V0fHwwLHA9Zi4kZXZhbChtKXx8e30scz17fSx3PWIuc3RhcnRTeW1ib2woKSxCPWIuZW5kU3ltYm9sKCkscj13K2wrXCItXCIrbitCLHo9Y2Eubm9vcCx2O3EoaCxmdW5jdGlvbihhLGIpe3ZhciBjPWUuZXhlYyhiKTtjJiYoYz0oY1sxXT9cIi1cIjpcIlwiKStRKGNbMl0pLHBbY109Zy5hdHRyKGguJGF0dHJbYl0pKX0pO3EocCxmdW5jdGlvbihhLGQpe3NbZF09YihhLnJlcGxhY2UoYyxyKSl9KTtmLiR3YXRjaChsLGZ1bmN0aW9uKGIpe3ZhciBjPXBhcnNlRmxvYXQoYiksZT1pc05hTihjKTtlfHxjIGluIHB8fChjPWEucGx1cmFsQ2F0KGMtbikpO2M9PT12fHxlJiZUKHYpJiZpc05hTih2KXx8XG4oeigpLGU9c1tjXSx5KGUpPyhudWxsIT1iJiZkLmRlYnVnKFwibmdQbHVyYWxpemU6IG5vIHJ1bGUgZGVmaW5lZCBmb3IgJ1wiK2MrXCInIGluIFwiK20pLHo9QSxrKCkpOno9Zi4kd2F0Y2goZSxrKSx2PWMpfSl9fX1dLEplPVtcIiRwYXJzZVwiLFwiJGFuaW1hdGVcIixcIiRjb21waWxlXCIsZnVuY3Rpb24oYSxiLGQpe3ZhciBjPU4oXCJuZ1JlcGVhdFwiKSxlPWZ1bmN0aW9uKGEsYixjLGQsZSxtLG4pe2FbY109ZDtlJiYoYVtlXT1tKTthLiRpbmRleD1iO2EuJGZpcnN0PTA9PT1iO2EuJGxhc3Q9Yj09PW4tMTthLiRtaWRkbGU9IShhLiRmaXJzdHx8YS4kbGFzdCk7YS4kb2RkPSEoYS4kZXZlbj0wPT09KGImMSkpfTtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsbXVsdGlFbGVtZW50OiEwLHRyYW5zY2x1ZGU6XCJlbGVtZW50XCIscHJpb3JpdHk6MUUzLHRlcm1pbmFsOiEwLCQkdGxiOiEwLGNvbXBpbGU6ZnVuY3Rpb24oZixnKXt2YXIgaD1nLm5nUmVwZWF0LGs9ZC4kJGNyZWF0ZUNvbW1lbnQoXCJlbmQgbmdSZXBlYXRcIixcbmgpLGw9aC5tYXRjaCgvXlxccyooW1xcc1xcU10rPylcXHMraW5cXHMrKFtcXHNcXFNdKz8pKD86XFxzK2FzXFxzKyhbXFxzXFxTXSs/KSk/KD86XFxzK3RyYWNrXFxzK2J5XFxzKyhbXFxzXFxTXSs/KSk/XFxzKiQvKTtpZighbCl0aHJvdyBjKFwiaWV4cFwiLGgpO3ZhciBtPWxbMV0sbj1sWzJdLHA9bFszXSxzPWxbNF0sbD1tLm1hdGNoKC9eKD86KFxccypbXFwkXFx3XSspfFxcKFxccyooW1xcJFxcd10rKVxccyosXFxzKihbXFwkXFx3XSspXFxzKlxcKSkkLyk7aWYoIWwpdGhyb3cgYyhcImlpZGV4cFwiLG0pO3ZhciB3PWxbM118fGxbMV0seT1sWzJdO2lmKHAmJighL15bJGEtekEtWl9dWyRhLXpBLVowLTlfXSokLy50ZXN0KHApfHwvXihudWxsfHVuZGVmaW5lZHx0aGlzfFxcJGluZGV4fFxcJGZpcnN0fFxcJG1pZGRsZXxcXCRsYXN0fFxcJGV2ZW58XFwkb2RkfFxcJHBhcmVudHxcXCRyb290fFxcJGlkKSQvLnRlc3QocCkpKXRocm93IGMoXCJiYWRpZGVudFwiLHApO3ZhciByLHosdixBLHQ9eyRpZDpDYX07cz9yPWEocyk6KHY9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gQ2EoYil9LFxuQT1mdW5jdGlvbihhKXtyZXR1cm4gYX0pO3JldHVybiBmdW5jdGlvbihhLGQsZixnLGwpe3ImJih6PWZ1bmN0aW9uKGIsYyxkKXt5JiYodFt5XT1iKTt0W3ddPWM7dC4kaW5kZXg9ZDtyZXR1cm4gcihhLHQpfSk7dmFyIG09VSgpO2EuJHdhdGNoQ29sbGVjdGlvbihuLGZ1bmN0aW9uKGYpe3ZhciBnLG4scj1kWzBdLHMsdT1VKCksdCxDLEYsRSxHLEQsSDtwJiYoYVtwXT1mKTtpZih0YShmKSlHPWYsbj16fHx2O2Vsc2UgZm9yKEggaW4gbj16fHxBLEc9W10sZil1YS5jYWxsKGYsSCkmJlwiJFwiIT09SC5jaGFyQXQoMCkmJkcucHVzaChIKTt0PUcubGVuZ3RoO0g9QXJyYXkodCk7Zm9yKGc9MDtnPHQ7ZysrKWlmKEM9Zj09PUc/ZzpHW2ddLEY9ZltDXSxFPW4oQyxGLGcpLG1bRV0pRD1tW0VdLGRlbGV0ZSBtW0VdLHVbRV09RCxIW2ddPUQ7ZWxzZXtpZih1W0VdKXRocm93IHEoSCxmdW5jdGlvbihhKXthJiZhLnNjb3BlJiYobVthLmlkXT1hKX0pLGMoXCJkdXBlc1wiLGgsRSxGKTtIW2ddPXtpZDpFLFxuc2NvcGU6dm9pZCAwLGNsb25lOnZvaWQgMH07dVtFXT0hMH1mb3IocyBpbiBtKXtEPW1bc107RT10YihELmNsb25lKTtiLmxlYXZlKEUpO2lmKEVbMF0ucGFyZW50Tm9kZSlmb3IoZz0wLG49RS5sZW5ndGg7ZzxuO2crKylFW2ddLiQkTkdfUkVNT1ZFRD0hMDtELnNjb3BlLiRkZXN0cm95KCl9Zm9yKGc9MDtnPHQ7ZysrKWlmKEM9Zj09PUc/ZzpHW2ddLEY9ZltDXSxEPUhbZ10sRC5zY29wZSl7cz1yO2RvIHM9cy5uZXh0U2libGluZzt3aGlsZShzJiZzLiQkTkdfUkVNT1ZFRCk7RC5jbG9uZVswXSE9cyYmYi5tb3ZlKHRiKEQuY2xvbmUpLG51bGwscik7cj1ELmNsb25lW0QuY2xvbmUubGVuZ3RoLTFdO2UoRC5zY29wZSxnLHcsRix5LEMsdCl9ZWxzZSBsKGZ1bmN0aW9uKGEsYyl7RC5zY29wZT1jO3ZhciBkPWsuY2xvbmVOb2RlKCExKTthW2EubGVuZ3RoKytdPWQ7Yi5lbnRlcihhLG51bGwscik7cj1kO0QuY2xvbmU9YTt1W0QuaWRdPUQ7ZShELnNjb3BlLGcsdyxGLHksQyx0KX0pO209XG51fSl9fX19XSxLZT1bXCIkYW5pbWF0ZVwiLGZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDpcIkFcIixtdWx0aUVsZW1lbnQ6ITAsbGluazpmdW5jdGlvbihiLGQsYyl7Yi4kd2F0Y2goYy5uZ1Nob3csZnVuY3Rpb24oYil7YVtiP1wicmVtb3ZlQ2xhc3NcIjpcImFkZENsYXNzXCJdKGQsXCJuZy1oaWRlXCIse3RlbXBDbGFzc2VzOlwibmctaGlkZS1hbmltYXRlXCJ9KX0pfX19XSxEZT1bXCIkYW5pbWF0ZVwiLGZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDpcIkFcIixtdWx0aUVsZW1lbnQ6ITAsbGluazpmdW5jdGlvbihiLGQsYyl7Yi4kd2F0Y2goYy5uZ0hpZGUsZnVuY3Rpb24oYil7YVtiP1wiYWRkQ2xhc3NcIjpcInJlbW92ZUNsYXNzXCJdKGQsXCJuZy1oaWRlXCIse3RlbXBDbGFzc2VzOlwibmctaGlkZS1hbmltYXRlXCJ9KX0pfX19XSxMZT1UYShmdW5jdGlvbihhLGIsZCl7YS4kd2F0Y2goZC5uZ1N0eWxlLGZ1bmN0aW9uKGEsZCl7ZCYmYSE9PWQmJnEoZCxmdW5jdGlvbihhLGMpe2IuY3NzKGMsXCJcIil9KTthJiZiLmNzcyhhKX0sXG4hMCl9KSxNZT1bXCIkYW5pbWF0ZVwiLFwiJGNvbXBpbGVcIixmdW5jdGlvbihhLGIpe3JldHVybntyZXF1aXJlOlwibmdTd2l0Y2hcIixjb250cm9sbGVyOltcIiRzY29wZVwiLGZ1bmN0aW9uKCl7dGhpcy5jYXNlcz17fX1dLGxpbms6ZnVuY3Rpb24oZCxjLGUsZil7dmFyIGc9W10saD1bXSxrPVtdLGw9W10sbT1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbigpe2Euc3BsaWNlKGIsMSl9fTtkLiR3YXRjaChlLm5nU3dpdGNofHxlLm9uLGZ1bmN0aW9uKGMpe3ZhciBkLGU7ZD0wO2ZvcihlPWsubGVuZ3RoO2Q8ZTsrK2QpYS5jYW5jZWwoa1tkXSk7ZD1rLmxlbmd0aD0wO2ZvcihlPWwubGVuZ3RoO2Q8ZTsrK2Qpe3ZhciBzPXRiKGhbZF0uY2xvbmUpO2xbZF0uJGRlc3Ryb3koKTsoa1tkXT1hLmxlYXZlKHMpKS50aGVuKG0oayxkKSl9aC5sZW5ndGg9MDtsLmxlbmd0aD0wOyhnPWYuY2FzZXNbXCIhXCIrY118fGYuY2FzZXNbXCI/XCJdKSYmcShnLGZ1bmN0aW9uKGMpe2MudHJhbnNjbHVkZShmdW5jdGlvbihkLFxuZSl7bC5wdXNoKGUpO3ZhciBmPWMuZWxlbWVudDtkW2QubGVuZ3RoKytdPWIuJCRjcmVhdGVDb21tZW50KFwiZW5kIG5nU3dpdGNoV2hlblwiKTtoLnB1c2goe2Nsb25lOmR9KTthLmVudGVyKGQsZi5wYXJlbnQoKSxmKX0pfSl9KX19fV0sTmU9VGEoe3RyYW5zY2x1ZGU6XCJlbGVtZW50XCIscHJpb3JpdHk6MTIwMCxyZXF1aXJlOlwiXm5nU3dpdGNoXCIsbXVsdGlFbGVtZW50OiEwLGxpbms6ZnVuY3Rpb24oYSxiLGQsYyxlKXtjLmNhc2VzW1wiIVwiK2QubmdTd2l0Y2hXaGVuXT1jLmNhc2VzW1wiIVwiK2QubmdTd2l0Y2hXaGVuXXx8W107Yy5jYXNlc1tcIiFcIitkLm5nU3dpdGNoV2hlbl0ucHVzaCh7dHJhbnNjbHVkZTplLGVsZW1lbnQ6Yn0pfX0pLE9lPVRhKHt0cmFuc2NsdWRlOlwiZWxlbWVudFwiLHByaW9yaXR5OjEyMDAscmVxdWlyZTpcIl5uZ1N3aXRjaFwiLG11bHRpRWxlbWVudDohMCxsaW5rOmZ1bmN0aW9uKGEsYixkLGMsZSl7Yy5jYXNlc1tcIj9cIl09Yy5jYXNlc1tcIj9cIl18fFtdO2MuY2FzZXNbXCI/XCJdLnB1c2goe3RyYW5zY2x1ZGU6ZSxcbmVsZW1lbnQ6Yn0pfX0pLFRnPU4oXCJuZ1RyYW5zY2x1ZGVcIiksUWU9W1wiJGNvbXBpbGVcIixmdW5jdGlvbihhKXtyZXR1cm57cmVzdHJpY3Q6XCJFQUNcIix0ZXJtaW5hbDohMCxjb21waWxlOmZ1bmN0aW9uKGIpe3ZhciBkPWEoYi5jb250ZW50cygpKTtiLmVtcHR5KCk7cmV0dXJuIGZ1bmN0aW9uKGEsYixmLGcsaCl7ZnVuY3Rpb24gaygpe2QoYSxmdW5jdGlvbihhKXtiLmFwcGVuZChhKX0pfWlmKCFoKXRocm93IFRnKFwib3JwaGFuXCIseWEoYikpO2YubmdUcmFuc2NsdWRlPT09Zi4kYXR0ci5uZ1RyYW5zY2x1ZGUmJihmLm5nVHJhbnNjbHVkZT1cIlwiKTtmPWYubmdUcmFuc2NsdWRlfHxmLm5nVHJhbnNjbHVkZVNsb3Q7aChmdW5jdGlvbihhLGMpe2EubGVuZ3RoP2IuYXBwZW5kKGEpOihrKCksYy4kZGVzdHJveSgpKX0sbnVsbCxmKTtmJiYhaC5pc1Nsb3RGaWxsZWQoZikmJmsoKX19fX1dLHFlPVtcIiR0ZW1wbGF0ZUNhY2hlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiRVwiLHRlcm1pbmFsOiEwLFxuY29tcGlsZTpmdW5jdGlvbihiLGQpe1widGV4dC9uZy10ZW1wbGF0ZVwiPT1kLnR5cGUmJmEucHV0KGQuaWQsYlswXS50ZXh0KX19fV0sVWc9eyRzZXRWaWV3VmFsdWU6QSwkcmVuZGVyOkF9LFZnPVtcIiRlbGVtZW50XCIsXCIkc2NvcGVcIixmdW5jdGlvbihhLGIpe3ZhciBkPXRoaXMsYz1uZXcgUmE7ZC5uZ01vZGVsQ3RybD1VZztkLnVua25vd25PcHRpb249RihDLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIikpO2QucmVuZGVyVW5rbm93bk9wdGlvbj1mdW5jdGlvbihiKXtiPVwiPyBcIitDYShiKStcIiA/XCI7ZC51bmtub3duT3B0aW9uLnZhbChiKTthLnByZXBlbmQoZC51bmtub3duT3B0aW9uKTthLnZhbChiKX07Yi4kb24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7ZC5yZW5kZXJVbmtub3duT3B0aW9uPUF9KTtkLnJlbW92ZVVua25vd25PcHRpb249ZnVuY3Rpb24oKXtkLnVua25vd25PcHRpb24ucGFyZW50KCkmJmQudW5rbm93bk9wdGlvbi5yZW1vdmUoKX07ZC5yZWFkVmFsdWU9ZnVuY3Rpb24oKXtkLnJlbW92ZVVua25vd25PcHRpb24oKTtcbnJldHVybiBhLnZhbCgpfTtkLndyaXRlVmFsdWU9ZnVuY3Rpb24oYil7ZC5oYXNPcHRpb24oYik/KGQucmVtb3ZlVW5rbm93bk9wdGlvbigpLGEudmFsKGIpLFwiXCI9PT1iJiZkLmVtcHR5T3B0aW9uLnByb3AoXCJzZWxlY3RlZFwiLCEwKSk6bnVsbD09YiYmZC5lbXB0eU9wdGlvbj8oZC5yZW1vdmVVbmtub3duT3B0aW9uKCksYS52YWwoXCJcIikpOmQucmVuZGVyVW5rbm93bk9wdGlvbihiKX07ZC5hZGRPcHRpb249ZnVuY3Rpb24oYSxiKXtpZig4IT09YlswXS5ub2RlVHlwZSl7UWEoYSwnXCJvcHRpb24gdmFsdWVcIicpO1wiXCI9PT1hJiYoZC5lbXB0eU9wdGlvbj1iKTt2YXIgZz1jLmdldChhKXx8MDtjLnB1dChhLGcrMSk7ZC5uZ01vZGVsQ3RybC4kcmVuZGVyKCk7YlswXS5oYXNBdHRyaWJ1dGUoXCJzZWxlY3RlZFwiKSYmKGJbMF0uc2VsZWN0ZWQ9ITApfX07ZC5yZW1vdmVPcHRpb249ZnVuY3Rpb24oYSl7dmFyIGI9Yy5nZXQoYSk7YiYmKDE9PT1iPyhjLnJlbW92ZShhKSxcIlwiPT09YSYmKGQuZW1wdHlPcHRpb249XG52b2lkIDApKTpjLnB1dChhLGItMSkpfTtkLmhhc09wdGlvbj1mdW5jdGlvbihhKXtyZXR1cm4hIWMuZ2V0KGEpfTtkLnJlZ2lzdGVyT3B0aW9uPWZ1bmN0aW9uKGEsYixjLGgsayl7aWYoaCl7dmFyIGw7Yy4kb2JzZXJ2ZShcInZhbHVlXCIsZnVuY3Rpb24oYSl7dyhsKSYmZC5yZW1vdmVPcHRpb24obCk7bD1hO2QuYWRkT3B0aW9uKGEsYil9KX1lbHNlIGs/YS4kd2F0Y2goayxmdW5jdGlvbihhLGUpe2MuJHNldChcInZhbHVlXCIsYSk7ZSE9PWEmJmQucmVtb3ZlT3B0aW9uKGUpO2QuYWRkT3B0aW9uKGEsYil9KTpkLmFkZE9wdGlvbihjLnZhbHVlLGIpO2Iub24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7ZC5yZW1vdmVPcHRpb24oYy52YWx1ZSk7ZC5uZ01vZGVsQ3RybC4kcmVuZGVyKCl9KX19XSxyZT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkVcIixyZXF1aXJlOltcInNlbGVjdFwiLFwiP25nTW9kZWxcIl0sY29udHJvbGxlcjpWZyxwcmlvcml0eToxLGxpbms6e3ByZTpmdW5jdGlvbihhLGIsXG5kLGMpe3ZhciBlPWNbMV07aWYoZSl7dmFyIGY9Y1swXTtmLm5nTW9kZWxDdHJsPWU7Yi5vbihcImNoYW5nZVwiLGZ1bmN0aW9uKCl7YS4kYXBwbHkoZnVuY3Rpb24oKXtlLiRzZXRWaWV3VmFsdWUoZi5yZWFkVmFsdWUoKSl9KX0pO2lmKGQubXVsdGlwbGUpe2YucmVhZFZhbHVlPWZ1bmN0aW9uKCl7dmFyIGE9W107cShiLmZpbmQoXCJvcHRpb25cIiksZnVuY3Rpb24oYil7Yi5zZWxlY3RlZCYmYS5wdXNoKGIudmFsdWUpfSk7cmV0dXJuIGF9O2Yud3JpdGVWYWx1ZT1mdW5jdGlvbihhKXt2YXIgYz1uZXcgUmEoYSk7cShiLmZpbmQoXCJvcHRpb25cIiksZnVuY3Rpb24oYSl7YS5zZWxlY3RlZD13KGMuZ2V0KGEudmFsdWUpKX0pfTt2YXIgZyxoPU5hTjthLiR3YXRjaChmdW5jdGlvbigpe2ghPT1lLiR2aWV3VmFsdWV8fG5hKGcsZS4kdmlld1ZhbHVlKXx8KGc9aWEoZS4kdmlld1ZhbHVlKSxlLiRyZW5kZXIoKSk7aD1lLiR2aWV3VmFsdWV9KTtlLiRpc0VtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiFhfHxcbjA9PT1hLmxlbmd0aH19fX0scG9zdDpmdW5jdGlvbihhLGIsZCxjKXt2YXIgZT1jWzFdO2lmKGUpe3ZhciBmPWNbMF07ZS4kcmVuZGVyPWZ1bmN0aW9uKCl7Zi53cml0ZVZhbHVlKGUuJHZpZXdWYWx1ZSl9fX19fX0sdGU9W1wiJGludGVycG9sYXRlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiRVwiLHByaW9yaXR5OjEwMCxjb21waWxlOmZ1bmN0aW9uKGIsZCl7aWYodyhkLnZhbHVlKSl2YXIgYz1hKGQudmFsdWUsITApO2Vsc2V7dmFyIGU9YShiLnRleHQoKSwhMCk7ZXx8ZC4kc2V0KFwidmFsdWVcIixiLnRleHQoKSl9cmV0dXJuIGZ1bmN0aW9uKGEsYixkKXt2YXIgaz1iLnBhcmVudCgpOyhrPWsuZGF0YShcIiRzZWxlY3RDb250cm9sbGVyXCIpfHxrLnBhcmVudCgpLmRhdGEoXCIkc2VsZWN0Q29udHJvbGxlclwiKSkmJmsucmVnaXN0ZXJPcHRpb24oYSxiLGQsYyxlKX19fX1dLHNlPWhhKHtyZXN0cmljdDpcIkVcIix0ZXJtaW5hbDohMX0pLEljPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLFxucmVxdWlyZTpcIj9uZ01vZGVsXCIsbGluazpmdW5jdGlvbihhLGIsZCxjKXtjJiYoZC5yZXF1aXJlZD0hMCxjLiR2YWxpZGF0b3JzLnJlcXVpcmVkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIWQucmVxdWlyZWR8fCFjLiRpc0VtcHR5KGIpfSxkLiRvYnNlcnZlKFwicmVxdWlyZWRcIixmdW5jdGlvbigpe2MuJHZhbGlkYXRlKCl9KSl9fX0sSGM9ZnVuY3Rpb24oKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpcIj9uZ01vZGVsXCIsbGluazpmdW5jdGlvbihhLGIsZCxjKXtpZihjKXt2YXIgZSxmPWQubmdQYXR0ZXJufHxkLnBhdHRlcm47ZC4kb2JzZXJ2ZShcInBhdHRlcm5cIixmdW5jdGlvbihhKXtHKGEpJiYwPGEubGVuZ3RoJiYoYT1uZXcgUmVnRXhwKFwiXlwiK2ErXCIkXCIpKTtpZihhJiYhYS50ZXN0KXRocm93IE4oXCJuZ1BhdHRlcm5cIikoXCJub3JlZ2V4cFwiLGYsYSx5YShiKSk7ZT1hfHx2b2lkIDA7Yy4kdmFsaWRhdGUoKX0pO2MuJHZhbGlkYXRvcnMucGF0dGVybj1mdW5jdGlvbihhLGIpe3JldHVybiBjLiRpc0VtcHR5KGIpfHxcbnkoZSl8fGUudGVzdChiKX19fX19LEtjPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHJlcXVpcmU6XCI/bmdNb2RlbFwiLGxpbms6ZnVuY3Rpb24oYSxiLGQsYyl7aWYoYyl7dmFyIGU9LTE7ZC4kb2JzZXJ2ZShcIm1heGxlbmd0aFwiLGZ1bmN0aW9uKGEpe2E9WihhKTtlPWlzTmFOKGEpPy0xOmE7Yy4kdmFsaWRhdGUoKX0pO2MuJHZhbGlkYXRvcnMubWF4bGVuZ3RoPWZ1bmN0aW9uKGEsYil7cmV0dXJuIDA+ZXx8Yy4kaXNFbXB0eShiKXx8Yi5sZW5ndGg8PWV9fX19fSxKYz1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixyZXF1aXJlOlwiP25nTW9kZWxcIixsaW5rOmZ1bmN0aW9uKGEsYixkLGMpe2lmKGMpe3ZhciBlPTA7ZC4kb2JzZXJ2ZShcIm1pbmxlbmd0aFwiLGZ1bmN0aW9uKGEpe2U9WihhKXx8MDtjLiR2YWxpZGF0ZSgpfSk7Yy4kdmFsaWRhdG9ycy5taW5sZW5ndGg9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYy4kaXNFbXB0eShiKXx8Yi5sZW5ndGg+PWV9fX19fTtDLmFuZ3VsYXIuYm9vdHN0cmFwP1xuQy5jb25zb2xlJiZjb25zb2xlLmxvZyhcIldBUk5JTkc6IFRyaWVkIHRvIGxvYWQgYW5ndWxhciBtb3JlIHRoYW4gb25jZS5cIik6KGplKCksbGUoY2EpLGNhLm1vZHVsZShcIm5nTG9jYWxlXCIsW10sW1wiJHByb3ZpZGVcIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGEpe2ErPVwiXCI7dmFyIGI9YS5pbmRleE9mKFwiLlwiKTtyZXR1cm4tMT09Yj8wOmEubGVuZ3RoLWItMX1hLnZhbHVlKFwiJGxvY2FsZVwiLHtEQVRFVElNRV9GT1JNQVRTOntBTVBNUzpbXCJBTVwiLFwiUE1cIl0sREFZOlwiU3VuZGF5IE1vbmRheSBUdWVzZGF5IFdlZG5lc2RheSBUaHVyc2RheSBGcmlkYXkgU2F0dXJkYXlcIi5zcGxpdChcIiBcIiksRVJBTkFNRVM6W1wiQmVmb3JlIENocmlzdFwiLFwiQW5ubyBEb21pbmlcIl0sRVJBUzpbXCJCQ1wiLFwiQURcIl0sRklSU1REQVlPRldFRUs6NixNT05USDpcIkphbnVhcnkgRmVicnVhcnkgTWFyY2ggQXByaWwgTWF5IEp1bmUgSnVseSBBdWd1c3QgU2VwdGVtYmVyIE9jdG9iZXIgTm92ZW1iZXIgRGVjZW1iZXJcIi5zcGxpdChcIiBcIiksXG5TSE9SVERBWTpcIlN1biBNb24gVHVlIFdlZCBUaHUgRnJpIFNhdFwiLnNwbGl0KFwiIFwiKSxTSE9SVE1PTlRIOlwiSmFuIEZlYiBNYXIgQXByIE1heSBKdW4gSnVsIEF1ZyBTZXAgT2N0IE5vdiBEZWNcIi5zcGxpdChcIiBcIiksU1RBTkRBTE9ORU1PTlRIOlwiSmFudWFyeSBGZWJydWFyeSBNYXJjaCBBcHJpbCBNYXkgSnVuZSBKdWx5IEF1Z3VzdCBTZXB0ZW1iZXIgT2N0b2JlciBOb3ZlbWJlciBEZWNlbWJlclwiLnNwbGl0KFwiIFwiKSxXRUVLRU5EUkFOR0U6WzUsNl0sZnVsbERhdGU6XCJFRUVFLCBNTU1NIGQsIHlcIixsb25nRGF0ZTpcIk1NTU0gZCwgeVwiLG1lZGl1bTpcIk1NTSBkLCB5IGg6bW06c3MgYVwiLG1lZGl1bURhdGU6XCJNTU0gZCwgeVwiLG1lZGl1bVRpbWU6XCJoOm1tOnNzIGFcIixcInNob3J0XCI6XCJNL2QveXkgaDptbSBhXCIsc2hvcnREYXRlOlwiTS9kL3l5XCIsc2hvcnRUaW1lOlwiaDptbSBhXCJ9LE5VTUJFUl9GT1JNQVRTOntDVVJSRU5DWV9TWU06XCIkXCIsREVDSU1BTF9TRVA6XCIuXCIsR1JPVVBfU0VQOlwiLFwiLFxuUEFUVEVSTlM6W3tnU2l6ZTozLGxnU2l6ZTozLG1heEZyYWM6MyxtaW5GcmFjOjAsbWluSW50OjEsbmVnUHJlOlwiLVwiLG5lZ1N1ZjpcIlwiLHBvc1ByZTpcIlwiLHBvc1N1ZjpcIlwifSx7Z1NpemU6MyxsZ1NpemU6MyxtYXhGcmFjOjIsbWluRnJhYzoyLG1pbkludDoxLG5lZ1ByZTpcIi1cXHUwMGE0XCIsbmVnU3VmOlwiXCIscG9zUHJlOlwiXFx1MDBhNFwiLHBvc1N1ZjpcIlwifV19LGlkOlwiZW4tdXNcIixsb2NhbGVJRDpcImVuX1VTXCIscGx1cmFsQ2F0OmZ1bmN0aW9uKGEsYyl7dmFyIGU9YXwwLGY9Yzt2b2lkIDA9PT1mJiYoZj1NYXRoLm1pbihiKGEpLDMpKTtNYXRoLnBvdygxMCxmKTtyZXR1cm4gMT09ZSYmMD09Zj9cIm9uZVwiOlwib3RoZXJcIn19KX1dKSxGKEMuZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7ZmUoQy5kb2N1bWVudCxCYyl9KSl9KSh3aW5kb3cpOyF3aW5kb3cuYW5ndWxhci4kJGNzcCgpLm5vSW5saW5lU3R5bGUmJndpbmRvdy5hbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuaGVhZCkucHJlcGVuZCgnPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPkBjaGFyc2V0IFwiVVRGLThcIjtbbmdcXFxcOmNsb2FrXSxbbmctY2xvYWtdLFtkYXRhLW5nLWNsb2FrXSxbeC1uZy1jbG9ha10sLm5nLWNsb2FrLC54LW5nLWNsb2FrLC5uZy1oaWRlOm5vdCgubmctaGlkZS1hbmltYXRlKXtkaXNwbGF5Om5vbmUgIWltcG9ydGFudDt9bmdcXFxcOmZvcm17ZGlzcGxheTpibG9jazt9Lm5nLWFuaW1hdGUtc2hpbXt2aXNpYmlsaXR5OmhpZGRlbjt9Lm5nLWFuY2hvcntwb3NpdGlvbjphYnNvbHV0ZTt9PC9zdHlsZT4nKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuZ3VsYXIubWluLmpzLm1hcFxuIiwiLyohXG4gKiBTdGF0ZS1iYXNlZCByb3V0aW5nIGZvciBBbmd1bGFySlNcbiAqIEB2ZXJzaW9uIHYxLjAuMC1iZXRhLjNcbiAqIEBsaW5rIGh0dHBzOi8vdWktcm91dGVyLmdpdGh1Yi5pb1xuICogQGxpY2Vuc2UgTUlUIExpY2Vuc2UsIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4gKi9cbiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUocmVxdWlyZShcImFuZ3VsYXJcIikpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoXCJhbmd1bGFyLXVpLXJvdXRlclwiLFtcImFuZ3VsYXJcIl0sZSk6XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0c1tcImFuZ3VsYXItdWktcm91dGVyXCJdPWUocmVxdWlyZShcImFuZ3VsYXJcIikpOnRbXCJhbmd1bGFyLXVpLXJvdXRlclwiXT1lKHQuYW5ndWxhcil9KHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUobil7aWYocltuXSlyZXR1cm4gcltuXS5leHBvcnRzO3ZhciBpPXJbbl09e2V4cG9ydHM6e30saWQ6bixsb2FkZWQ6ITF9O3JldHVybiB0W25dLmNhbGwoaS5leHBvcnRzLGksaS5leHBvcnRzLGUpLGkubG9hZGVkPSEwLGkuZXhwb3J0c312YXIgcj17fTtyZXR1cm4gZS5tPXQsZS5jPXIsZS5wPVwiXCIsZSgwKX0oW2Z1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe2Zvcih2YXIgciBpbiB0KWUuaGFzT3duUHJvcGVydHkocil8fChlW3JdPXRbcl0pfW4ocigxKSksbihyKDUzKSksbihyKDU1KSksbihyKDU4KSkscig2MCkscig2MSkscig2Mikscig2MyksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZVtcImRlZmF1bHRcIl09XCJ1aS5yb3V0ZXJcIn0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7Zm9yKHZhciByIGluIHQpZS5oYXNPd25Qcm9wZXJ0eShyKXx8KGVbcl09dFtyXSl9bihyKDIpKSxuKHIoNDYpKSxuKHIoNDcpKSxuKHIoNDgpKSxuKHIoNDkpKSxuKHIoNTApKSxuKHIoNTEpKSxuKHIoNTIpKSxuKHIoNDQpKTt2YXIgaT1yKDI1KTtlLlVJUm91dGVyPWkuVUlSb3V0ZXJ9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe2Zvcih2YXIgciBpbiB0KWUuaGFzT3duUHJvcGVydHkocil8fChlW3JdPXRbcl0pfW4ocigzKSksbihyKDYpKSxuKHIoNykpLG4ocig1KSksbihyKDQpKSxuKHIoOCkpLG4ocig5KSksbihyKDEyKSl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSxyLG4pe3JldHVybiB2b2lkIDA9PT1uJiYobj1PYmplY3Qua2V5cyh0KSksbi5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdFtlXX0pLmZvckVhY2goZnVuY3Rpb24obil7cmV0dXJuIGVbbl09dFtuXS5iaW5kKHIpfSl9ZnVuY3Rpb24gaSh0KXt2b2lkIDA9PT10JiYodD17fSk7Zm9yKHZhciByPVtdLG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXJbbi0xXT1hcmd1bWVudHNbbl07dmFyIGk9by5hcHBseShudWxsLFt7fV0uY29uY2F0KHIpKTtyZXR1cm4gZS5leHRlbmQoe30saSxjKHR8fHt9LE9iamVjdC5rZXlzKGkpKSl9ZnVuY3Rpb24gbyh0KXtmb3IodmFyIHI9W10sbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspcltuLTFdPWFyZ3VtZW50c1tuXTtyZXR1cm4gZS5mb3JFYWNoKHIsZnVuY3Rpb24ocil7ZS5mb3JFYWNoKHIsZnVuY3Rpb24oZSxyKXt0Lmhhc093blByb3BlcnR5KHIpfHwodFtyXT1lKX0pfSksdH1mdW5jdGlvbiBhKHQsZSl7dmFyIHI9W107Zm9yKHZhciBuIGluIHQucGF0aCl7aWYodC5wYXRoW25dIT09ZS5wYXRoW25dKWJyZWFrO3IucHVzaCh0LnBhdGhbbl0pfXJldHVybiByfWZ1bmN0aW9uIHModCxlLHIpe3ZvaWQgMD09PXImJihyPU9iamVjdC5rZXlzKHQpKTtmb3IodmFyIG49MDtuPHIubGVuZ3RoO24rKyl7dmFyIGk9cltuXTtpZih0W2ldIT1lW2ldKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIHUodCxlKXtmb3IodmFyIHI9W10sbj0yO248YXJndW1lbnRzLmxlbmd0aDtuKyspcltuLTJdPWFyZ3VtZW50c1tuXTt2YXIgaT17fTtmb3IodmFyIG8gaW4gZSl0KHIsbykmJihpW29dPWVbb10pO3JldHVybiBpfWZ1bmN0aW9uIGModCl7cmV0dXJuIHUuYXBwbHkobnVsbCxbZS5pbkFycmF5XS5jb25jYXQoVChhcmd1bWVudHMpKSl9ZnVuY3Rpb24gZih0KXt2YXIgcj1mdW5jdGlvbih0LHIpe3JldHVybiFlLmluQXJyYXkodCxyKX07cmV0dXJuIHUuYXBwbHkobnVsbCxbcl0uY29uY2F0KFQoYXJndW1lbnRzKSkpfWZ1bmN0aW9uIGwodCxlKXtyZXR1cm4gdih0LFAucHJvcChlKSl9ZnVuY3Rpb24gcCh0LHIpe3ZhciBuPWsuaXNBcnJheSh0KSxpPW4/W106e30sbz1uP2Z1bmN0aW9uKHQpe3JldHVybiBpLnB1c2godCl9OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGlbZV09dH07cmV0dXJuIGUuZm9yRWFjaCh0LGZ1bmN0aW9uKHQsZSl7cih0LGUpJiZvKHQsZSl9KSxpfWZ1bmN0aW9uIGgodCxyKXt2YXIgbjtyZXR1cm4gZS5mb3JFYWNoKHQsZnVuY3Rpb24odCxlKXtufHxyKHQsZSkmJihuPXQpfSksbn1mdW5jdGlvbiB2KHQscil7dmFyIG49ay5pc0FycmF5KHQpP1tdOnt9O3JldHVybiBlLmZvckVhY2godCxmdW5jdGlvbih0LGUpe3JldHVybiBuW2VdPXIodCxlKX0pLG59ZnVuY3Rpb24gZCh0LGUpe3JldHVybiB0LnB1c2goZSksdH1mdW5jdGlvbiBtKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPVwiYXNzZXJ0IGZhaWx1cmVcIiksZnVuY3Rpb24ocil7aWYoIXQocikpdGhyb3cgbmV3IEVycm9yKGsuaXNGdW5jdGlvbihlKT9lKHIpOmUpO3JldHVybiEwfX1mdW5jdGlvbiBnKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZS0wXT1hcmd1bWVudHNbZV07aWYoMD09PXQubGVuZ3RoKXJldHVybltdO3ZhciByPXQucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgubWluKGUubGVuZ3RoLHQpfSw5MDA3MTk5MjU0NzQwOTkxKTtyZXR1cm4gQXJyYXkuYXBwbHkobnVsbCxBcnJheShyKSkubWFwKGZ1bmN0aW9uKGUscil7cmV0dXJuIHQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0W3JdfSl9KX1mdW5jdGlvbiB5KHQsZSl7dmFyIHIsbjtpZihrLmlzQXJyYXkoZSkmJihyPWVbMF0sbj1lWzFdKSwhay5pc1N0cmluZyhyKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHBhcmFtZXRlcnMgdG8gYXBwbHlQYWlyc1wiKTtyZXR1cm4gdFtyXT1uLHR9ZnVuY3Rpb24gdyh0KXtyZXR1cm4gdC5sZW5ndGgmJnRbdC5sZW5ndGgtMV18fHZvaWQgMH1mdW5jdGlvbiBiKHQscil7cmV0dXJuIHImJk9iamVjdC5rZXlzKHIpLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGRlbGV0ZSByW3RdfSkscnx8KHI9e30pLGUuZXh0ZW5kKHIsdCl9ZnVuY3Rpb24gJCh0LGUscil7cmV0dXJuIGsuaXNBcnJheSh0KT90LmZvckVhY2goZSxyKTp2b2lkIE9iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24ocil7cmV0dXJuIGUodFtyXSxyKX0pfWZ1bmN0aW9uIFIodCxlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihyKXtyZXR1cm4gdFtyXT1lW3JdfSksdH1mdW5jdGlvbiBTKHQpe3JldHVybiBUKGFyZ3VtZW50cywxKS5maWx0ZXIoZS5pZGVudGl0eSkucmVkdWNlKFIsdCl9ZnVuY3Rpb24gRSh0LGUpe2lmKHQ9PT1lKXJldHVybiEwO2lmKG51bGw9PT10fHxudWxsPT09ZSlyZXR1cm4hMTtpZih0IT09dCYmZSE9PWUpcmV0dXJuITA7dmFyIHI9dHlwZW9mIHQsbj10eXBlb2YgZTtpZihyIT09bnx8XCJvYmplY3RcIiE9PXIpcmV0dXJuITE7dmFyIGk9W3QsZV07aWYoUC5hbGwoay5pc0FycmF5KShpKSlyZXR1cm4geCh0LGUpO2lmKFAuYWxsKGsuaXNEYXRlKShpKSlyZXR1cm4gdC5nZXRUaW1lKCk9PT1lLmdldFRpbWUoKTtpZihQLmFsbChrLmlzUmVnRXhwKShpKSlyZXR1cm4gdC50b1N0cmluZygpPT09ZS50b1N0cmluZygpO2lmKFAuYWxsKGsuaXNGdW5jdGlvbikoaSkpcmV0dXJuITA7dmFyIG89W2suaXNGdW5jdGlvbixrLmlzQXJyYXksay5pc0RhdGUsay5pc1JlZ0V4cF07aWYoby5tYXAoUC5hbnkpLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0fHwhIWUoaSl9LCExKSlyZXR1cm4hMTt2YXIgYSxzPXt9O2ZvcihhIGluIHQpe2lmKCFFKHRbYV0sZVthXSkpcmV0dXJuITE7c1thXT0hMH1mb3IoYSBpbiBlKWlmKCFzW2FdKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHgodCxlKXtyZXR1cm4gdC5sZW5ndGg9PT1lLmxlbmd0aCYmZyh0LGUpLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0JiZFKGVbMF0sZVsxXSl9LCEwKX12YXIgaz1yKDQpLFA9cig1KSxfPXIoNiksQz1cInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93P3t9OndpbmRvdyxPPUMuYW5ndWxhcnx8e307ZS5mcm9tSnNvbj1PLmZyb21Kc29ufHxKU09OLnBhcnNlLmJpbmQoSlNPTiksZS50b0pzb249Ty50b0pzb258fEpTT04uc3RyaW5naWZ5LmJpbmQoSlNPTiksZS5jb3B5PU8uY29weXx8YixlLmZvckVhY2g9Ty5mb3JFYWNofHwkLGUuZXh0ZW5kPU8uZXh0ZW5kfHxTLGUuZXF1YWxzPU8uZXF1YWxzfHxFLGUuaWRlbnRpdHk9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LGUubm9vcD1mdW5jdGlvbigpe30sZS5iaW5kRnVuY3Rpb25zPW4sZS5pbmhlcml0PWZ1bmN0aW9uKHQscil7cmV0dXJuIGUuZXh0ZW5kKG5ldyhlLmV4dGVuZChmdW5jdGlvbigpe30se3Byb3RvdHlwZTp0fSkpLHIpfTt2YXIgVD1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0wKSxBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KEFycmF5LnByb3RvdHlwZSxBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LGUpKX07ZS5pbkFycmF5PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuaW5kZXhPZihlKSE9PS0xfSxlLnJlbW92ZUZyb209UC5jdXJyeShmdW5jdGlvbih0LGUpe3ZhciByPXQuaW5kZXhPZihlKTtyZXR1cm4gcj49MCYmdC5zcGxpY2UociwxKSx0fSksZS5kZWZhdWx0cz1pLGUubWVyZ2U9byxlLm1lcmdlUj1mdW5jdGlvbih0LHIpe3JldHVybiBlLmV4dGVuZCh0LHIpfSxlLmFuY2VzdG9ycz1hLGUuZXF1YWxGb3JLZXlzPXMsZS5waWNrPWMsZS5vbWl0PWYsZS5wbHVjaz1sLGUuZmlsdGVyPXAsZS5maW5kPWgsZS5tYXBPYmo9dixlLm1hcD12LGUudmFsdWVzPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qua2V5cyh0KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19KX0sZS5hbGxUcnVlUj1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZlfSxlLmFueVRydWVSPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHR8fGV9LGUudW5uZXN0Uj1mdW5jdGlvbih0LGUpe3JldHVybiB0LmNvbmNhdChlKX0sZS5mbGF0dGVuUj1mdW5jdGlvbih0LHIpe3JldHVybiBrLmlzQXJyYXkocik/dC5jb25jYXQoci5yZWR1Y2UoZS5mbGF0dGVuUixbXSkpOmQodCxyKX0sZS5wdXNoUj1kLGUudW5pcVI9ZnVuY3Rpb24odCxyKXtyZXR1cm4gZS5pbkFycmF5KHQscik/dDpkKHQscil9LGUudW5uZXN0PWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlZHVjZShlLnVubmVzdFIsW10pfSxlLmZsYXR0ZW49ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVkdWNlKGUuZmxhdHRlblIsW10pfSxlLmFzc2VydFByZWRpY2F0ZT1tLGUucGFpcnM9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5rZXlzKHQpLm1hcChmdW5jdGlvbihlKXtyZXR1cm5bZSx0W2VdXX0pfSxlLmFycmF5VHVwbGVzPWcsZS5hcHBseVBhaXJzPXksZS50YWlsPXcsZS5zaWxlbmNlVW5jYXVnaHRJblByb21pc2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRbXCJjYXRjaFwiXShmdW5jdGlvbih0KXtyZXR1cm4gMH0pJiZ0fSxlLnNpbGVudFJlamVjdGlvbj1mdW5jdGlvbih0KXtyZXR1cm4gZS5zaWxlbmNlVW5jYXVnaHRJblByb21pc2UoXy5zZXJ2aWNlcy4kcS5yZWplY3QodCkpfX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7aWYoZS5pc0FycmF5KHQpJiZ0Lmxlbmd0aCl7dmFyIHI9dC5zbGljZSgwLC0xKSxuPXQuc2xpY2UoLTEpO3JldHVybiEoci5maWx0ZXIoaS5ub3QoZS5pc1N0cmluZykpLmxlbmd0aHx8bi5maWx0ZXIoaS5ub3QoZS5pc0Z1bmN0aW9uKSkubGVuZ3RoKX1yZXR1cm4gZS5pc0Z1bmN0aW9uKHQpfXZhciBpPXIoNSksbz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZT09PXR9fTtlLmlzVW5kZWZpbmVkPWEoXCJ1bmRlZmluZWRcIiksZS5pc0RlZmluZWQ9aS5ub3QoZS5pc1VuZGVmaW5lZCksZS5pc051bGw9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PT10fSxlLmlzRnVuY3Rpb249YShcImZ1bmN0aW9uXCIpLGUuaXNOdW1iZXI9YShcIm51bWJlclwiKSxlLmlzU3RyaW5nPWEoXCJzdHJpbmdcIiksZS5pc09iamVjdD1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXQmJlwib2JqZWN0XCI9PXR5cGVvZiB0fSxlLmlzQXJyYXk9QXJyYXkuaXNBcnJheSxlLmlzRGF0ZT1mdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgRGF0ZV1cIj09PW8uY2FsbCh0KX0sZS5pc1JlZ0V4cD1mdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgUmVnRXhwXVwiPT09by5jYWxsKHQpfSxlLmlzSW5qZWN0YWJsZT1uLGUuaXNQcm9taXNlPWkuYW5kKGUuaXNPYmplY3QsaS5waXBlKGkucHJvcChcInRoZW5cIiksZS5pc0Z1bmN0aW9uKSl9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtmdW5jdGlvbiBlKHIpe3JldHVybiByLmxlbmd0aD49bj90LmFwcGx5KG51bGwscik6ZnVuY3Rpb24oKXtyZXR1cm4gZShyLmNvbmNhdChbXS5zbGljZS5hcHBseShhcmd1bWVudHMpKSl9fXZhciByPVtdLnNsaWNlLmFwcGx5KGFyZ3VtZW50cyxbMV0pLG49dC5sZW5ndGg7cmV0dXJuIGUocil9ZnVuY3Rpb24gbigpe3ZhciB0PWFyZ3VtZW50cyxlPXQubGVuZ3RoLTE7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciByPWUsbj10W2VdLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyLS07KW49dFtyXS5jYWxsKHRoaXMsbik7cmV0dXJuIG59fWZ1bmN0aW9uIGkoKXtmb3IodmFyIHQ9W10sZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspdFtlLTBdPWFyZ3VtZW50c1tlXTtyZXR1cm4gbi5hcHBseShudWxsLFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5yZXZlcnNlKCkpfWZ1bmN0aW9uIG8odCxlKXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHI9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspcltuLTBdPWFyZ3VtZW50c1tuXTtyZXR1cm4gdC5hcHBseShudWxsLHIpJiZlLmFwcGx5KG51bGwscil9fWZ1bmN0aW9uIGEodCxlKXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHI9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspcltuLTBdPWFyZ3VtZW50c1tuXTtyZXR1cm4gdC5hcHBseShudWxsLHIpfHxlLmFwcGx5KG51bGwscil9fWZ1bmN0aW9uIHModCxlKXtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHJbdF0uYXBwbHkocixlKX19ZnVuY3Rpb24gdSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7Zm9yKHZhciByPTA7cjx0Lmxlbmd0aDtyKyspaWYodFtyXVswXShlKSlyZXR1cm4gdFtyXVsxXShlKX19ZS5jdXJyeT1yLGUuY29tcG9zZT1uLGUucGlwZT1pLGUucHJvcD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmVbdF19fSxlLnByb3BFcT1yKGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gciYmclt0XT09PWV9KSxlLnBhcnNlPWZ1bmN0aW9uKHQpe3JldHVybiBpLmFwcGx5KG51bGwsdC5zcGxpdChcIi5cIikubWFwKGUucHJvcCkpfSxlLm5vdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9W10scj0wO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspZVtyLTBdPWFyZ3VtZW50c1tyXTtyZXR1cm4hdC5hcHBseShudWxsLGUpfX0sZS5hbmQ9byxlLm9yPWEsZS5hbGw9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLHIpe3JldHVybiBlJiYhIXQocil9LCEwKX19LGUuYW55PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5yZWR1Y2UoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZXx8ISF0KHIpfSwhMSl9fSxlLmlzPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gbnVsbCE9ZSYmZS5jb25zdHJ1Y3Rvcj09PXR8fGUgaW5zdGFuY2VvZiB0fX0sZS5lcT1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQ9PT1lfX0sZS52YWw9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSxlLmludm9rZT1zLGUucGF0dGVybj11fSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3ZhciByPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcih0K1wiKCk6IE5vIGNvcmVzZXJ2aWNlcyBpbXBsZW1lbnRhdGlvbiBmb3IgVUktUm91dGVyIGlzIGxvYWRlZC4gWW91IHNob3VsZCBpbmNsdWRlIG9uZSBvZjogWydhbmd1bGFyMS5qcyddXCIpfX0sbj17JHE6dm9pZCAwLCRpbmplY3Rvcjp2b2lkIDAsbG9jYXRpb246e30sbG9jYXRpb25Db25maWc6e30sdGVtcGxhdGU6e319O2Uuc2VydmljZXM9bixbXCJzZXRVcmxcIixcInBhdGhcIixcInNlYXJjaFwiLFwiaGFzaFwiLFwib25DaGFuZ2VcIl0uZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gbi5sb2NhdGlvblt0XT1yKHQpfSksW1wicG9ydFwiLFwicHJvdG9jb2xcIixcImhvc3RcIixcImJhc2VIcmVmXCIsXCJodG1sNU1vZGVcIixcImhhc2hQcmVmaXhcIl0uZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gbi5sb2NhdGlvbkNvbmZpZ1t0XT1yKHQpfSl9LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMudGV4dD10LHRoaXMuZ2xvYj10LnNwbGl0KFwiLlwiKTt2YXIgZT10aGlzLnRleHQuc3BsaXQoXCIuXCIpLm1hcChmdW5jdGlvbih0KXtyZXR1cm5cIioqXCI9PT10P1wiKD86fCg/OlxcXFwuW14uXSopKilcIjpcIipcIj09PXQ/XCJcXFxcLlteLl0qXCI6XCJcXFxcLlwiK3R9KS5qb2luKFwiXCIpO3RoaXMucmVnZXhwPW5ldyBSZWdFeHAoXCJeXCIrZStcIiRcIil9cmV0dXJuIHQucHJvdG90eXBlLm1hdGNoZXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMucmVnZXhwLnRlc3QoXCIuXCIrdCl9LHQuaXM9ZnVuY3Rpb24odCl7cmV0dXJuIHQuaW5kZXhPZihcIipcIik+LTF9LHQuZnJvbVN0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5pcyhlKT9uZXcgdChlKTpudWxsfSx0fSgpO2UuR2xvYj1yfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3ZhciByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZvaWQgMD09PXQmJih0PVtdKSx2b2lkIDA9PT1lJiYoZT1udWxsKSx0aGlzLl9pdGVtcz10LHRoaXMuX2xpbWl0PWV9cmV0dXJuIHQucHJvdG90eXBlLmVucXVldWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5faXRlbXM7cmV0dXJuIGUucHVzaCh0KSx0aGlzLl9saW1pdCYmZS5sZW5ndGg+dGhpcy5fbGltaXQmJmUuc2hpZnQoKSx0fSx0LnByb3RvdHlwZS5kZXF1ZXVlPWZ1bmN0aW9uKCl7aWYodGhpcy5zaXplKCkpcmV0dXJuIHRoaXMuX2l0ZW1zLnNwbGljZSgwLDEpWzBdfSx0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2l0ZW1zO3JldHVybiB0aGlzLl9pdGVtcz1bXSx0fSx0LnByb3RvdHlwZS5zaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2l0ZW1zLmxlbmd0aH0sdC5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2l0ZW1zLmluZGV4T2YodCk7cmV0dXJuIGU+LTEmJnRoaXMuX2l0ZW1zLnNwbGljZShlLDEpWzBdfSx0LnByb3RvdHlwZS5wZWVrVGFpbD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pdGVtc1t0aGlzLl9pdGVtcy5sZW5ndGgtMV19LHQucHJvdG90eXBlLnBlZWtIZWFkPWZ1bmN0aW9uKCl7aWYodGhpcy5zaXplKCkpcmV0dXJuIHRoaXMuX2l0ZW1zWzBdfSx0fSgpO2UuUXVldWU9cn0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXtyZXR1cm4gZS5sZW5ndGg8PXQ/ZTplLnN1YnN0cigwLHQtMykrXCIuLi5cIn1mdW5jdGlvbiBpKHQsZSl7Zm9yKDtlLmxlbmd0aDx0OyllKz1cIiBcIjtyZXR1cm4gZX1mdW5jdGlvbiBvKHQpe3JldHVybiB0LnJlcGxhY2UoL14oW0EtWl0pLyxmdW5jdGlvbih0KXtyZXR1cm4gdC50b0xvd2VyQ2FzZSgpfSkucmVwbGFjZSgvKFtBLVpdKS9nLGZ1bmN0aW9uKHQpe3JldHVyblwiLVwiK3QudG9Mb3dlckNhc2UoKX0pfWZ1bmN0aW9uIGEodCl7dmFyIGU9cyh0KSxyPWUubWF0Y2goL14oZnVuY3Rpb24gW14gXStcXChbXildKlxcKSkvKSxuPXI/clsxXTplLGk9dC5uYW1lfHxcIlwiO3JldHVybiBpJiZuLm1hdGNoKC9mdW5jdGlvbiBcXCgvKT9cImZ1bmN0aW9uIFwiK2krbi5zdWJzdHIoOSk6bn1mdW5jdGlvbiBzKHQpe3ZhciBlPWMuaXNBcnJheSh0KT90LnNsaWNlKC0xKVswXTp0O3JldHVybiBlJiZlLnRvU3RyaW5nKCl8fFwidW5kZWZpbmVkXCJ9ZnVuY3Rpb24gdSh0KXtmdW5jdGlvbiBlKHQpe2lmKGMuaXNPYmplY3QodCkpe2lmKHIuaW5kZXhPZih0KSE9PS0xKXJldHVyblwiW2NpcmN1bGFyIHJlZl1cIjtyLnB1c2godCl9cmV0dXJuIG0odCl9dmFyIHI9W107cmV0dXJuIEpTT04uc3RyaW5naWZ5KHQsZnVuY3Rpb24odCxyKXtyZXR1cm4gZShyKX0pLnJlcGxhY2UoL1xcXFxcIi9nLCdcIicpfXZhciBjPXIoNCksZj1yKDEwKSxsPXIoMykscD1yKDUpLGg9cigxMSksdj1yKDE5KTtlLm1heExlbmd0aD1uLGUucGFkU3RyaW5nPWksZS5rZWJvYlN0cmluZz1vLGUuZnVuY3Rpb25Ub1N0cmluZz1hLGUuZm5Ub1N0cmluZz1zO3ZhciBkPW51bGwsbT1mdW5jdGlvbih0KXt2YXIgZT1mLlJlamVjdGlvbi5pc1RyYW5zaXRpb25SZWplY3Rpb25Qcm9taXNlO3JldHVybihkPWR8fHAucGF0dGVybihbW3Aubm90KGMuaXNEZWZpbmVkKSxwLnZhbChcInVuZGVmaW5lZFwiKV0sW2MuaXNOdWxsLHAudmFsKFwibnVsbFwiKV0sW2MuaXNQcm9taXNlLHAudmFsKFwiW1Byb21pc2VdXCIpXSxbZSxmdW5jdGlvbih0KXtyZXR1cm4gdC5fdHJhbnNpdGlvblJlamVjdGlvbi50b1N0cmluZygpfV0sW3AuaXMoZi5SZWplY3Rpb24pLHAuaW52b2tlKFwidG9TdHJpbmdcIildLFtwLmlzKGguVHJhbnNpdGlvbikscC5pbnZva2UoXCJ0b1N0cmluZ1wiKV0sW3AuaXModi5SZXNvbHZhYmxlKSxwLmludm9rZShcInRvU3RyaW5nXCIpXSxbYy5pc0luamVjdGFibGUsYV0sW3AudmFsKCEwKSxsLmlkZW50aXR5XV0pKSh0KX07ZS5zdHJpbmdpZnk9dSxlLmJlZm9yZUFmdGVyU3Vic3RyPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtpZighZSlyZXR1cm5bXCJcIixcIlwiXTt2YXIgcj1lLmluZGV4T2YodCk7cmV0dXJuIHI9PT0tMT9bZSxcIlwiXTpbZS5zdWJzdHIoMCxyKSxlLnN1YnN0cihyKzEpXX19fSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigzKSxpPXIoOSk7IWZ1bmN0aW9uKHQpe3RbdC5TVVBFUlNFREVEPTJdPVwiU1VQRVJTRURFRFwiLHRbdC5BQk9SVEVEPTNdPVwiQUJPUlRFRFwiLHRbdC5JTlZBTElEPTRdPVwiSU5WQUxJRFwiLHRbdC5JR05PUkVEPTVdPVwiSUdOT1JFRFwiLHRbdC5FUlJPUj02XT1cIkVSUk9SXCJ9KGUuUmVqZWN0VHlwZXx8KGUuUmVqZWN0VHlwZT17fSkpO3ZhciBvPWUuUmVqZWN0VHlwZSxhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUscil7dGhpcy50eXBlPXQsdGhpcy5tZXNzYWdlPWUsdGhpcy5kZXRhaWw9cn1yZXR1cm4gdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC50b1N0cmluZyE9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc/dC50b1N0cmluZygpOmkuc3RyaW5naWZ5KHQpfSxlPXRoaXMudHlwZSxyPXRoaXMubWVzc2FnZSxuPXQodGhpcy5kZXRhaWwpO3JldHVyblwiVHJhbnNpdGlvblJlamVjdGlvbih0eXBlOiBcIitlK1wiLCBtZXNzYWdlOiBcIityK1wiLCBkZXRhaWw6IFwiK24rXCIpXCJ9LHQucHJvdG90eXBlLnRvUHJvbWlzZT1mdW5jdGlvbigpe3JldHVybiBuLmV4dGVuZChuLnNpbGVudFJlamVjdGlvbih0aGlzKSx7X3RyYW5zaXRpb25SZWplY3Rpb246dGhpc30pfSx0LmlzVHJhbnNpdGlvblJlamVjdGlvblByb21pc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUudGhlbiYmZS5fdHJhbnNpdGlvblJlamVjdGlvbiBpbnN0YW5jZW9mIHR9LHQuc3VwZXJzZWRlZD1mdW5jdGlvbihlLHIpe3ZhciBuPVwiVGhlIHRyYW5zaXRpb24gaGFzIGJlZW4gc3VwZXJzZWRlZCBieSBhIGRpZmZlcmVudCB0cmFuc2l0aW9uXCIsaT1uZXcgdChvLlNVUEVSU0VERUQsbixlKTtyZXR1cm4gciYmci5yZWRpcmVjdGVkJiYoaS5yZWRpcmVjdGVkPSEwKSxpfSx0LnJlZGlyZWN0ZWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuc3VwZXJzZWRlZChlLHtyZWRpcmVjdGVkOiEwfSl9LHQuaW52YWxpZD1mdW5jdGlvbihlKXt2YXIgcj1cIlRoaXMgdHJhbnNpdGlvbiBpcyBpbnZhbGlkXCI7cmV0dXJuIG5ldyB0KG8uSU5WQUxJRCxyLGUpfSx0Lmlnbm9yZWQ9ZnVuY3Rpb24oZSl7dmFyIHI9XCJUaGUgdHJhbnNpdGlvbiB3YXMgaWdub3JlZFwiO3JldHVybiBuZXcgdChvLklHTk9SRUQscixlKX0sdC5hYm9ydGVkPWZ1bmN0aW9uKGUpe3ZhciByPVwiVGhlIHRyYW5zaXRpb24gaGFzIGJlZW4gYWJvcnRlZFwiO3JldHVybiBuZXcgdChvLkFCT1JURUQscixlKX0sdC5lcnJvcmVkPWZ1bmN0aW9uKGUpe3ZhciByPVwiVGhlIHRyYW5zaXRpb24gZXJyb3JlZFwiO3JldHVybiBuZXcgdChvLkVSUk9SLHIsZSl9LHR9KCk7ZS5SZWplY3Rpb249YX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoOSksaT1yKDEyKSxvPXIoNiksYT1yKDMpLHM9cig0KSx1PXIoNSksYz1yKDEzKSxmPXIoMTUpLGw9cigxNikscD1yKDIxKSxoPXIoMjApLHY9cigxNCksZD1yKDIyKSxtPXIoMTkpLGc9cigxMCkseT1yKDE3KSx3PXIoMjUpLGI9MCwkPXUucHJvcChcInNlbGZcIiksUj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxyLG4pe3ZhciBpPXRoaXM7aWYodGhpcy5fZGVmZXJyZWQ9by5zZXJ2aWNlcy4kcS5kZWZlcigpLHRoaXMucHJvbWlzZT10aGlzLl9kZWZlcnJlZC5wcm9taXNlLHRoaXMudHJlZUNoYW5nZXM9ZnVuY3Rpb24oKXtyZXR1cm4gaS5fdHJlZUNoYW5nZXN9LHRoaXMuaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gaT09PWkuX29wdGlvbnMuY3VycmVudCgpfSx0aGlzLnJvdXRlcj1uLHRoaXMuX3RhcmdldFN0YXRlPXIsIXIudmFsaWQoKSl0aHJvdyBuZXcgRXJyb3Ioci5lcnJvcigpKTtmLkhvb2tSZWdpc3RyeS5taXhpbihuZXcgZi5Ib29rUmVnaXN0cnksdGhpcyksdGhpcy5fb3B0aW9ucz1hLmV4dGVuZCh7Y3VycmVudDp1LnZhbCh0aGlzKX0sci5vcHRpb25zKCkpLHRoaXMuJGlkPWIrKzt2YXIgcz1oLlBhdGhGYWN0b3J5LmJ1aWxkVG9QYXRoKGUscik7dGhpcy5fdHJlZUNoYW5nZXM9aC5QYXRoRmFjdG9yeS50cmVlQ2hhbmdlcyhlLHMsdGhpcy5fb3B0aW9ucy5yZWxvYWRTdGF0ZSk7dmFyIGM9dGhpcy5fdHJlZUNoYW5nZXMuZW50ZXJpbmcubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXRlfSk7aC5QYXRoRmFjdG9yeS5hcHBseVZpZXdDb25maWdzKG4udHJhbnNpdGlvblNlcnZpY2UuJHZpZXcsdGhpcy5fdHJlZUNoYW5nZXMudG8sYyk7dmFyIGw9W25ldyBtLlJlc29sdmFibGUody5VSVJvdXRlcixmdW5jdGlvbigpe3JldHVybiBufSxbXSwodm9pZCAwKSxuKSxuZXcgbS5SZXNvbHZhYmxlKHQsZnVuY3Rpb24oKXtyZXR1cm4gaX0sW10sKHZvaWQgMCksdGhpcyksbmV3IG0uUmVzb2x2YWJsZShcIiR0cmFuc2l0aW9uJFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGl9LFtdLCh2b2lkIDApLHRoaXMpLG5ldyBtLlJlc29sdmFibGUoXCIkc3RhdGVQYXJhbXNcIixmdW5jdGlvbigpe3JldHVybiBpLnBhcmFtcygpfSxbXSwodm9pZCAwKSx0aGlzLnBhcmFtcygpKV0scD10aGlzLl90cmVlQ2hhbmdlcy50b1swXSx2PW5ldyB5LlJlc29sdmVDb250ZXh0KHRoaXMuX3RyZWVDaGFuZ2VzLnRvKTt2LmFkZFJlc29sdmFibGVzKGwscC5zdGF0ZSl9cmV0dXJuIHQucHJvdG90eXBlLm9uQmVmb3JlPWZ1bmN0aW9uKHQsZSxyKXt0aHJvd1wiXCJ9LHQucHJvdG90eXBlLm9uU3RhcnQ9ZnVuY3Rpb24odCxlLHIpe3Rocm93XCJcIn0sdC5wcm90b3R5cGUub25FeGl0PWZ1bmN0aW9uKHQsZSxyKXt0aHJvd1wiXCJ9LHQucHJvdG90eXBlLm9uUmV0YWluPWZ1bmN0aW9uKHQsZSxyKXt0aHJvd1wiXCJ9LHQucHJvdG90eXBlLm9uRW50ZXI9ZnVuY3Rpb24odCxlLHIpe3Rocm93XCJcIn0sdC5wcm90b3R5cGUub25GaW5pc2g9ZnVuY3Rpb24odCxlLHIpe3Rocm93XCJcIn0sdC5wcm90b3R5cGUub25TdWNjZXNzPWZ1bmN0aW9uKHQsZSxyKXt0aHJvd1wiXCJ9LHQucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24odCxlLHIpe3Rocm93XCJcIn0sdC5wcm90b3R5cGUuJGZyb209ZnVuY3Rpb24oKXtyZXR1cm4gYS50YWlsKHRoaXMuX3RyZWVDaGFuZ2VzLmZyb20pLnN0YXRlfSx0LnByb3RvdHlwZS4kdG89ZnVuY3Rpb24oKXtyZXR1cm4gYS50YWlsKHRoaXMuX3RyZWVDaGFuZ2VzLnRvKS5zdGF0ZX0sdC5wcm90b3R5cGUuZnJvbT1mdW5jdGlvbigpe3JldHVybiB0aGlzLiRmcm9tKCkuc2VsZn0sdC5wcm90b3R5cGUudG89ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kdG8oKS5zZWxmfSx0LnByb3RvdHlwZS50YXJnZXRTdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl90YXJnZXRTdGF0ZX0sdC5wcm90b3R5cGUuaXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiB0P3RoaXMuaXMoe3RvOmUuJHRvKCkubmFtZSxmcm9tOmUuJGZyb20oKS5uYW1lfSk6IShlLnRvJiYhZi5tYXRjaFN0YXRlKHRoaXMuJHRvKCksZS50byl8fGUuZnJvbSYmIWYubWF0Y2hTdGF0ZSh0aGlzLiRmcm9tKCksZS5mcm9tKSl9LHQucHJvdG90eXBlLnBhcmFtcz1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9XCJ0b1wiKSx0aGlzLl90cmVlQ2hhbmdlc1t0XS5tYXAodS5wcm9wKFwicGFyYW1WYWx1ZXNcIikpLnJlZHVjZShhLm1lcmdlUix7fSl9LHQucHJvdG90eXBlLmluamVjdG9yPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMudHJlZUNoYW5nZXMoKS50bztyZXR1cm4gdCYmKGU9aC5QYXRoRmFjdG9yeS5zdWJQYXRoKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhdGU9PT10fHxlLnN0YXRlLm5hbWU9PT10fSkpLG5ldyB5LlJlc29sdmVDb250ZXh0KGUpLmluamVjdG9yKCl9LHQucHJvdG90eXBlLmdldFJlc29sdmVUb2tlbnM9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHkuUmVzb2x2ZUNvbnRleHQodGhpcy5fdHJlZUNoYW5nZXMudG8pLmdldFRva2VucygpfSx0LnByb3RvdHlwZS5nZXRSZXNvbHZlVmFsdWU9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHkuUmVzb2x2ZUNvbnRleHQodGhpcy5fdHJlZUNoYW5nZXMudG8pLHI9ZnVuY3Rpb24odCl7dmFyIHI9ZS5nZXRSZXNvbHZhYmxlKHQpO2lmKHZvaWQgMD09PXIpdGhyb3cgbmV3IEVycm9yKFwiRGVwZW5kZW5jeSBJbmplY3Rpb24gdG9rZW4gbm90IGZvdW5kOiBcIituLnN0cmluZ2lmeSh0KSk7cmV0dXJuIHIuZGF0YX07cmV0dXJuIHMuaXNBcnJheSh0KT90Lm1hcChyKTpyKHQpfSx0LnByb3RvdHlwZS5nZXRSZXNvbHZhYmxlPWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgeS5SZXNvbHZlQ29udGV4dCh0aGlzLl90cmVlQ2hhbmdlcy50bykuZ2V0UmVzb2x2YWJsZSh0KX0sdC5wcm90b3R5cGUuYWRkUmVzb2x2YWJsZT1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPVwiXCIpO3ZhciByPVwic3RyaW5nXCI9PXR5cGVvZiBlP2U6ZS5uYW1lLG49dGhpcy5fdHJlZUNoYW5nZXMudG8saT1hLmZpbmQobixmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0ZS5uYW1lPT09cn0pLG89bmV3IHkuUmVzb2x2ZUNvbnRleHQobik7by5hZGRSZXNvbHZhYmxlcyhbdF0saS5zdGF0ZSl9LHQucHJvdG90eXBlLnJlZGlyZWN0ZWRGcm9tPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29wdGlvbnMucmVkaXJlY3RlZEZyb218fG51bGx9LHQucHJvdG90eXBlLm9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3B0aW9uc30sdC5wcm90b3R5cGUuZW50ZXJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gYS5tYXAodGhpcy5fdHJlZUNoYW5nZXMuZW50ZXJpbmcsdS5wcm9wKFwic3RhdGVcIikpLm1hcCgkKX0sdC5wcm90b3R5cGUuZXhpdGluZz1mdW5jdGlvbigpe3JldHVybiBhLm1hcCh0aGlzLl90cmVlQ2hhbmdlcy5leGl0aW5nLHUucHJvcChcInN0YXRlXCIpKS5tYXAoJCkucmV2ZXJzZSgpfSx0LnByb3RvdHlwZS5yZXRhaW5lZD1mdW5jdGlvbigpe3JldHVybiBhLm1hcCh0aGlzLl90cmVlQ2hhbmdlcy5yZXRhaW5lZCx1LnByb3AoXCJzdGF0ZVwiKSkubWFwKCQpfSx0LnByb3RvdHlwZS52aWV3cz1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PXQmJih0PVwiZW50ZXJpbmdcIik7dmFyIHI9dGhpcy5fdHJlZUNoYW5nZXNbdF07cmV0dXJuIHI9ZT9yLmZpbHRlcih1LnByb3BFcShcInN0YXRlXCIsZSkpOnIsci5tYXAodS5wcm9wKFwidmlld3NcIikpLmZpbHRlcihhLmlkZW50aXR5KS5yZWR1Y2UoYS51bm5lc3RSLFtdKX0sdC5wcm90b3R5cGUucmVkaXJlY3Q9ZnVuY3Rpb24odCl7dmFyIGU9YS5leHRlbmQoe30sdGhpcy5vcHRpb25zKCksdC5vcHRpb25zKCkse3JlZGlyZWN0ZWRGcm9tOnRoaXMsc291cmNlOlwicmVkaXJlY3RcIn0pO3Q9bmV3IHYuVGFyZ2V0U3RhdGUodC5pZGVudGlmaWVyKCksdC4kc3RhdGUoKSx0LnBhcmFtcygpLGUpO3ZhciByPXRoaXMucm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlLmNyZWF0ZSh0aGlzLl90cmVlQ2hhbmdlcy5mcm9tLHQpLG49dGhpcy50cmVlQ2hhbmdlcygpLmVudGVyaW5nLGk9ci50cmVlQ2hhbmdlcygpLmVudGVyaW5nLG89ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0JiZlLnN0YXRlLmluY2x1ZGVzW3QubmFtZV19fSxzPXAuUGF0aE5vZGUubWF0Y2hpbmcoaSxuKS5maWx0ZXIodS5ub3Qobyh0Lm9wdGlvbnMoKS5yZWxvYWRTdGF0ZSkpKTtyZXR1cm4gcy5mb3JFYWNoKGZ1bmN0aW9uKHQsZSl7dC5yZXNvbHZhYmxlcz1uW2VdLnJlc29sdmFibGVzfSkscn0sdC5wcm90b3R5cGUuX2NoYW5nZWRQYXJhbXM9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl90cmVlQ2hhbmdlcyxlPXQudG8scj10LmZyb207aWYoIXRoaXMuX29wdGlvbnMucmVsb2FkJiZhLnRhaWwoZSkuc3RhdGU9PT1hLnRhaWwocikuc3RhdGUpe3ZhciBuPWUubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBhcmFtU2NoZW1hfSksaT1bZSxyXS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBhcmFtVmFsdWVzfSl9KSxvPWlbMF0scz1pWzFdLHU9YS5hcnJheVR1cGxlcyhuLG8scyk7cmV0dXJuIHUubWFwKGZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0scj10WzFdLG49dFsyXTtyZXR1cm4gZC5QYXJhbS5jaGFuZ2VkKGUscixuKX0pLnJlZHVjZShhLnVubmVzdFIsW10pfX0sdC5wcm90b3R5cGUuZHluYW1pYz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NoYW5nZWRQYXJhbXMoKTtyZXR1cm4hIXQmJnQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmR5bmFtaWN9KS5yZWR1Y2UoYS5hbnlUcnVlUiwhMSl9LHQucHJvdG90eXBlLmlnbm9yZWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9jaGFuZ2VkUGFyYW1zKCk7cmV0dXJuISF0JiYwPT09dC5sZW5ndGh9LHQucHJvdG90eXBlLmhvb2tCdWlsZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBsLkhvb2tCdWlsZGVyKHRoaXMucm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlLHRoaXMse3RyYW5zaXRpb246dGhpcyxjdXJyZW50OnRoaXMuX29wdGlvbnMuY3VycmVudH0pfSx0LnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9Yy5UcmFuc2l0aW9uSG9vay5ydW5TeW5jaHJvbm91c0hvb2tzLHI9dGhpcy5ob29rQnVpbGRlcigpLG49dGhpcy5yb3V0ZXIuZ2xvYmFscztuLnRyYW5zaXRpb25IaXN0b3J5LmVucXVldWUodGhpcyk7dmFyIG89ZShyLmdldE9uQmVmb3JlSG9va3MoKSk7aWYoZy5SZWplY3Rpb24uaXNUcmFuc2l0aW9uUmVqZWN0aW9uUHJvbWlzZShvKSl7b1tcImNhdGNoXCJdKGZ1bmN0aW9uKCl7cmV0dXJuIDB9KTt2YXIgYT1vLl90cmFuc2l0aW9uUmVqZWN0aW9uO3JldHVybiB0aGlzLl9kZWZlcnJlZC5yZWplY3QoYSksdGhpcy5wcm9taXNlfWlmKCF0aGlzLnZhbGlkKCkpe3ZhciBzPW5ldyBFcnJvcih0aGlzLmVycm9yKCkpO3JldHVybiB0aGlzLl9kZWZlcnJlZC5yZWplY3QocyksdGhpcy5wcm9taXNlfWlmKHRoaXMuaWdub3JlZCgpKXJldHVybiBpLnRyYWNlLnRyYWNlVHJhbnNpdGlvbklnbm9yZWQodGhpcyksdGhpcy5fZGVmZXJyZWQucmVqZWN0KGcuUmVqZWN0aW9uLmlnbm9yZWQoKSksdGhpcy5wcm9taXNlO3ZhciB1PWZ1bmN0aW9uKCl7aS50cmFjZS50cmFjZVN1Y2Nlc3ModC4kdG8oKSx0KSx0LnN1Y2Nlc3M9ITAsdC5fZGVmZXJyZWQucmVzb2x2ZSh0LnRvKCkpLGUoci5nZXRPblN1Y2Nlc3NIb29rcygpLCEwKX0sZj1mdW5jdGlvbihuKXtpLnRyYWNlLnRyYWNlRXJyb3Iobix0KSx0LnN1Y2Nlc3M9ITEsdC5fZGVmZXJyZWQucmVqZWN0KG4pLHQuX2Vycm9yPW4sZShyLmdldE9uRXJyb3JIb29rcygpLCEwKX07aS50cmFjZS50cmFjZVRyYW5zaXRpb25TdGFydCh0aGlzKTt2YXIgbD1mdW5jdGlvbih0LGUpe3JldHVybiB0LnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZS5pbnZva2VIb29rKCl9KX07cmV0dXJuIHIuYXN5bmNIb29rcygpLnJlZHVjZShsLG8pLnRoZW4odSxmKSx0aGlzLnByb21pc2V9LHQucHJvdG90eXBlLnZhbGlkPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuZXJyb3IoKXx8dm9pZCAwIT09dGhpcy5zdWNjZXNzfSx0LnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLiR0bygpLGU9MCxyPXRoaXM7bnVsbCE9KHI9ci5yZWRpcmVjdGVkRnJvbSgpKTspaWYoKytlPjIwKXJldHVyblwiVG9vIG1hbnkgVHJhbnNpdGlvbiByZWRpcmVjdHMgKDIwKylcIjtyZXR1cm4gdC5zZWxmW1wiYWJzdHJhY3RcIl0/XCJDYW5ub3QgdHJhbnNpdGlvbiB0byBhYnN0cmFjdCBzdGF0ZSAnXCIrdC5uYW1lK1wiJ1wiOmQuUGFyYW0udmFsaWRhdGVzKHQucGFyYW1ldGVycygpLHRoaXMucGFyYW1zKCkpP3RoaXMuc3VjY2Vzcz09PSExP3RoaXMuX2Vycm9yOnZvaWQgMDpcIlBhcmFtIHZhbHVlcyBub3QgdmFsaWQgZm9yIHN0YXRlICdcIit0Lm5hbWUrXCInXCJ9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5mcm9tKCksZT10aGlzLnRvKCkscj1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9PXRbXCIjXCJdJiZ2b2lkIDAhPT10W1wiI1wiXT90OmEub21pdCh0LFwiI1wiKX0sbj10aGlzLiRpZCxpPXMuaXNPYmplY3QodCk/dC5uYW1lOnQsbz1hLnRvSnNvbihyKHRoaXMuX3RyZWVDaGFuZ2VzLmZyb20ubWFwKHUucHJvcChcInBhcmFtVmFsdWVzXCIpKS5yZWR1Y2UoYS5tZXJnZVIse30pKSksYz10aGlzLnZhbGlkKCk/XCJcIjpcIihYKSBcIixmPXMuaXNPYmplY3QoZSk/ZS5uYW1lOmUsbD1hLnRvSnNvbihyKHRoaXMucGFyYW1zKCkpKTtyZXR1cm5cIlRyYW5zaXRpb24jXCIrbitcIiggJ1wiK2krXCInXCIrbytcIiAtPiBcIitjK1wiJ1wiK2YrXCInXCIrbCtcIiApXCJ9LHQuZGlUb2tlbj10LHR9KCk7ZS5UcmFuc2l0aW9uPVJ9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0P1wiW3VpLXZpZXcjXCIrdC5pZCtcIiB0YWcgXCIrKFwiaW4gdGVtcGxhdGUgZnJvbSAnXCIrKHQuY3JlYXRpb25Db250ZXh0JiZ0LmNyZWF0aW9uQ29udGV4dC5uYW1lfHxcIihyb290KVwiKStcIicgc3RhdGVdOiBcIikrKFwiZnFuOiAnXCIrdC5mcW4rXCInLCBcIikrKFwibmFtZTogJ1wiK3QubmFtZStcIkBcIit0LmNyZWF0aW9uQ29udGV4dCtcIicpXCIpOlwidWktdmlldyAoZGVmdW5jdClcIn1mdW5jdGlvbiBpKHQpe3JldHVybiBhLmlzTnVtYmVyKHQpP2NbdF06Y1tjW3RdXX12YXIgbz1yKDUpLGE9cig0KSxzPXIoOSksdT1mdW5jdGlvbih0KXtyZXR1cm5cIltWaWV3Q29uZmlnI1wiK3QuJGlkK1wiIGZyb20gJ1wiKyh0LnZpZXdEZWNsLiRjb250ZXh0Lm5hbWV8fFwiKHJvb3QpXCIpK1wiJyBzdGF0ZV06IHRhcmdldCB1aS12aWV3OiAnXCIrdC52aWV3RGVjbC4kdWlWaWV3TmFtZStcIkBcIit0LnZpZXdEZWNsLiR1aVZpZXdDb250ZXh0QW5jaG9yK1wiJ1wifTshZnVuY3Rpb24odCl7dFt0LlJFU09MVkU9MF09XCJSRVNPTFZFXCIsdFt0LlRSQU5TSVRJT049MV09XCJUUkFOU0lUSU9OXCIsdFt0LkhPT0s9Ml09XCJIT09LXCIsdFt0LlVJVklFVz0zXT1cIlVJVklFV1wiLHRbdC5WSUVXQ09ORklHPTRdPVwiVklFV0NPTkZJR1wifShlLkNhdGVnb3J5fHwoZS5DYXRlZ29yeT17fSkpO3ZhciBjPWUuQ2F0ZWdvcnksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLl9lbmFibGVkPXt9LHRoaXMuYXBwcm94aW1hdGVEaWdlc3RzPTB9cmV0dXJuIHQucHJvdG90eXBlLl9zZXQ9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzO2UubGVuZ3RofHwoZT1PYmplY3Qua2V5cyhjKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHBhcnNlSW50KHQsMTApfSkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiFpc05hTih0KX0pLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gY1t0XX0pKSxlLm1hcChpKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiByLl9lbmFibGVkW2VdPXR9KX0sdC5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZS0wXT1hcmd1bWVudHNbZV07dGhpcy5fc2V0KCEwLHQpfSx0LnByb3RvdHlwZS5kaXNhYmxlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZS0wXT1hcmd1bWVudHNbZV07dGhpcy5fc2V0KCExLHQpfSx0LnByb3RvdHlwZS5lbmFibGVkPWZ1bmN0aW9uKHQpe3JldHVybiEhdGhpcy5fZW5hYmxlZFtpKHQpXX0sdC5wcm90b3R5cGUudHJhY2VUcmFuc2l0aW9uU3RhcnQ9ZnVuY3Rpb24odCl7aWYodGhpcy5lbmFibGVkKGMuVFJBTlNJVElPTikpe3ZhciBlPXQuJGlkLHI9dGhpcy5hcHByb3hpbWF0ZURpZ2VzdHMsbj1zLnN0cmluZ2lmeSh0KTtjb25zb2xlLmxvZyhcIlRyYW5zaXRpb24gI1wiK2UrXCIgRGlnZXN0ICNcIityK1wiOiBTdGFydGVkICAtPiBcIituKX19LHQucHJvdG90eXBlLnRyYWNlVHJhbnNpdGlvbklnbm9yZWQ9ZnVuY3Rpb24odCl7aWYodGhpcy5lbmFibGVkKGMuVFJBTlNJVElPTikpe3ZhciBlPXQmJnQuJGlkLHI9dGhpcy5hcHByb3hpbWF0ZURpZ2VzdHMsbj1zLnN0cmluZ2lmeSh0KTtjb25zb2xlLmxvZyhcIlRyYW5zaXRpb24gI1wiK2UrXCIgRGlnZXN0ICNcIityK1wiOiBJZ25vcmVkICA8PiBcIituKX19LHQucHJvdG90eXBlLnRyYWNlSG9va0ludm9jYXRpb249ZnVuY3Rpb24odCxlKXtpZih0aGlzLmVuYWJsZWQoYy5IT09LKSl7dmFyIHI9by5wYXJzZShcInRyYW5zaXRpb24uJGlkXCIpKGUpLG49dGhpcy5hcHByb3hpbWF0ZURpZ2VzdHMsaT1vLnBhcnNlKFwidHJhY2VEYXRhLmhvb2tUeXBlXCIpKGUpfHxcImludGVybmFsXCIsYT1vLnBhcnNlKFwidHJhY2VEYXRhLmNvbnRleHQuc3RhdGUubmFtZVwiKShlKXx8by5wYXJzZShcInRyYWNlRGF0YS5jb250ZXh0XCIpKGUpfHxcInVua25vd25cIix1PXMuZnVuY3Rpb25Ub1N0cmluZyh0LmV2ZW50SG9vay5jYWxsYmFjayk7Y29uc29sZS5sb2coXCJUcmFuc2l0aW9uICNcIityK1wiIERpZ2VzdCAjXCIrbitcIjogICBIb29rIC0+IFwiK2krXCIgY29udGV4dDogXCIrYStcIiwgXCIrcy5tYXhMZW5ndGgoMjAwLHUpKX19LHQucHJvdG90eXBlLnRyYWNlSG9va1Jlc3VsdD1mdW5jdGlvbih0LGUpe2lmKHRoaXMuZW5hYmxlZChjLkhPT0spKXt2YXIgcj1vLnBhcnNlKFwidHJhbnNpdGlvbi4kaWRcIikoZSksbj10aGlzLmFwcHJveGltYXRlRGlnZXN0cyxpPXMuc3RyaW5naWZ5KHQpO2NvbnNvbGUubG9nKFwiVHJhbnNpdGlvbiAjXCIrcitcIiBEaWdlc3QgI1wiK24rXCI6ICAgPC0gSG9vayByZXR1cm5lZDogXCIrcy5tYXhMZW5ndGgoMjAwLGkpKX19LHQucHJvdG90eXBlLnRyYWNlUmVzb2x2ZVBhdGg9ZnVuY3Rpb24odCxlLHIpe2lmKHRoaXMuZW5hYmxlZChjLlJFU09MVkUpKXt2YXIgbj1yJiZyLiRpZCxpPXRoaXMuYXBwcm94aW1hdGVEaWdlc3RzLG89dCYmdC50b1N0cmluZygpO2NvbnNvbGUubG9nKFwiVHJhbnNpdGlvbiAjXCIrbitcIiBEaWdlc3QgI1wiK2krXCI6ICAgICAgICAgUmVzb2x2aW5nIFwiK28rXCIgKFwiK2UrXCIpXCIpfX0sdC5wcm90b3R5cGUudHJhY2VSZXNvbHZhYmxlUmVzb2x2ZWQ9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmVuYWJsZWQoYy5SRVNPTFZFKSl7dmFyIHI9ZSYmZS4kaWQsbj10aGlzLmFwcHJveGltYXRlRGlnZXN0cyxpPXQmJnQudG9TdHJpbmcoKSxvPXMuc3RyaW5naWZ5KHQuZGF0YSk7Y29uc29sZS5sb2coXCJUcmFuc2l0aW9uICNcIityK1wiIERpZ2VzdCAjXCIrbitcIjogICAgICAgICAgICAgICA8LSBSZXNvbHZlZCAgXCIraStcIiB0bzogXCIrcy5tYXhMZW5ndGgoMjAwLG8pKX19LHQucHJvdG90eXBlLnRyYWNlRXJyb3I9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmVuYWJsZWQoYy5UUkFOU0lUSU9OKSl7dmFyIHI9ZSYmZS4kaWQsbj10aGlzLmFwcHJveGltYXRlRGlnZXN0cyxpPXMuc3RyaW5naWZ5KGUpO2NvbnNvbGUubG9nKFwiVHJhbnNpdGlvbiAjXCIrcitcIiBEaWdlc3QgI1wiK24rXCI6IDwtIFJlamVjdGVkIFwiK2krXCIsIHJlYXNvbjogXCIrdCl9fSx0LnByb3RvdHlwZS50cmFjZVN1Y2Nlc3M9ZnVuY3Rpb24odCxlKXtpZih0aGlzLmVuYWJsZWQoYy5UUkFOU0lUSU9OKSl7dmFyIHI9ZSYmZS4kaWQsbj10aGlzLmFwcHJveGltYXRlRGlnZXN0cyxpPXQubmFtZSxvPXMuc3RyaW5naWZ5KGUpO2NvbnNvbGUubG9nKFwiVHJhbnNpdGlvbiAjXCIrcitcIiBEaWdlc3QgI1wiK24rXCI6IDwtIFN1Y2Nlc3MgIFwiK28rXCIsIGZpbmFsIHN0YXRlOiBcIitpKX19LHQucHJvdG90eXBlLnRyYWNlVUlWaWV3RXZlbnQ9ZnVuY3Rpb24odCxlLHIpe3ZvaWQgMD09PXImJihyPVwiXCIpLHRoaXMuZW5hYmxlZChjLlVJVklFVykmJmNvbnNvbGUubG9nKFwidWktdmlldzogXCIrcy5wYWRTdHJpbmcoMzAsdCkrXCIgXCIrbihlKStyKX0sdC5wcm90b3R5cGUudHJhY2VVSVZpZXdDb25maWdVcGRhdGVkPWZ1bmN0aW9uKHQsZSl7dGhpcy5lbmFibGVkKGMuVUlWSUVXKSYmdGhpcy50cmFjZVVJVmlld0V2ZW50KFwiVXBkYXRpbmdcIix0LFwiIHdpdGggVmlld0NvbmZpZyBmcm9tIGNvbnRleHQ9J1wiK2UrXCInXCIpfSx0LnByb3RvdHlwZS50cmFjZVVJVmlld0ZpbGw9ZnVuY3Rpb24odCxlKXt0aGlzLmVuYWJsZWQoYy5VSVZJRVcpJiZ0aGlzLnRyYWNlVUlWaWV3RXZlbnQoXCJGaWxsXCIsdCxcIiB3aXRoOiBcIitzLm1heExlbmd0aCgyMDAsZSkpfSx0LnByb3RvdHlwZS50cmFjZVZpZXdTZXJ2aWNlRXZlbnQ9ZnVuY3Rpb24odCxlKXt0aGlzLmVuYWJsZWQoYy5WSUVXQ09ORklHKSYmY29uc29sZS5sb2coXCJWSUVXQ09ORklHOiBcIit0K1wiIFwiK3UoZSkpfSx0LnByb3RvdHlwZS50cmFjZVZpZXdTZXJ2aWNlVUlWaWV3RXZlbnQ9ZnVuY3Rpb24odCxlKXt0aGlzLmVuYWJsZWQoYy5WSUVXQ09ORklHKSYmY29uc29sZS5sb2coXCJWSUVXQ09ORklHOiBcIit0K1wiIFwiK24oZSkpfSx0fSgpO2UuVHJhY2U9Zjt2YXIgbD1uZXcgZjtlLnRyYWNlPWx9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDMpLGk9cig5KSxvPXIoNCksYT1yKDUpLHM9cigxMiksdT1yKDYpLGM9cigxMCksZj1yKDE0KSxsPXthc3luYzohMCxyZWplY3RJZlN1cGVyc2VkZWQ6ITAsY3VycmVudDpuLm5vb3AsdHJhbnNpdGlvbjpudWxsLHRyYWNlRGF0YTp7fSxiaW5kOm51bGx9LHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxyLGkpe3ZhciBvPXRoaXM7dGhpcy50cmFuc2l0aW9uPXQsdGhpcy5zdGF0ZUNvbnRleHQ9ZSx0aGlzLmV2ZW50SG9vaz1yLHRoaXMub3B0aW9ucz1pLHRoaXMuaXNTdXBlcnNlZGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG8ub3B0aW9ucy5jdXJyZW50KCkhPT1vLm9wdGlvbnMudHJhbnNpdGlvbn0sdGhpcy5vcHRpb25zPW4uZGVmYXVsdHMoaSxsKX1yZXR1cm4gdC5wcm90b3R5cGUuaW52b2tlSG9vaz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10Lm9wdGlvbnMscj10LmV2ZW50SG9vaztpZihzLnRyYWNlLnRyYWNlSG9va0ludm9jYXRpb24odGhpcyxlKSxlLnJlamVjdElmU3VwZXJzZWRlZCYmdGhpcy5pc1N1cGVyc2VkZWQoKSlyZXR1cm4gYy5SZWplY3Rpb24uc3VwZXJzZWRlZChlLmN1cnJlbnQoKSkudG9Qcm9taXNlKCk7dmFyIG49ci5fZGVyZWdpc3RlcmVkP3ZvaWQgMDpyLmNhbGxiYWNrLmNhbGwoZS5iaW5kLHRoaXMudHJhbnNpdGlvbix0aGlzLnN0YXRlQ29udGV4dCk7cmV0dXJuIHRoaXMuaGFuZGxlSG9va1Jlc3VsdChuKX0sdC5wcm90b3R5cGUuaGFuZGxlSG9va1Jlc3VsdD1mdW5jdGlvbih0KXtpZih0aGlzLmlzU3VwZXJzZWRlZCgpKXJldHVybiBjLlJlamVjdGlvbi5zdXBlcnNlZGVkKHRoaXMub3B0aW9ucy5jdXJyZW50KCkpLnRvUHJvbWlzZSgpO2lmKG8uaXNQcm9taXNlKHQpKXJldHVybiB0LnRoZW4odGhpcy5oYW5kbGVIb29rUmVzdWx0LmJpbmQodGhpcykpO2lmKHMudHJhY2UudHJhY2VIb29rUmVzdWx0KHQsdGhpcy5vcHRpb25zKSx0PT09ITEpcmV0dXJuIGMuUmVqZWN0aW9uLmFib3J0ZWQoXCJIb29rIGFib3J0ZWQgdHJhbnNpdGlvblwiKS50b1Byb21pc2UoKTt2YXIgZT1hLmlzKGYuVGFyZ2V0U3RhdGUpO3JldHVybiBlKHQpP2MuUmVqZWN0aW9uLnJlZGlyZWN0ZWQodCkudG9Qcm9taXNlKCk6dm9pZCAwfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT10Lm9wdGlvbnMscj10LmV2ZW50SG9vayxuPWEucGFyc2UoXCJ0cmFjZURhdGEuaG9va1R5cGVcIikoZSl8fFwiaW50ZXJuYWxcIixvPWEucGFyc2UoXCJ0cmFjZURhdGEuY29udGV4dC5zdGF0ZS5uYW1lXCIpKGUpfHxhLnBhcnNlKFwidHJhY2VEYXRhLmNvbnRleHRcIikoZSl8fFwidW5rbm93blwiLHM9aS5mblRvU3RyaW5nKHIuY2FsbGJhY2spO3JldHVybiBuK1wiIGNvbnRleHQ6IFwiK28rXCIsIFwiK2kubWF4TGVuZ3RoKDIwMCxzKX0sdC5ydW5TeW5jaHJvbm91c0hvb2tzPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9ITEpO2Zvcih2YXIgcj1bXSxuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07dHJ5e3IucHVzaChpLmludm9rZUhvb2soKSl9Y2F0Y2gocyl7aWYoIWUpcmV0dXJuIGMuUmVqZWN0aW9uLmVycm9yZWQocykudG9Qcm9taXNlKCk7dmFyIGY9aS50cmFuc2l0aW9uLnJvdXRlci5zdGF0ZVNlcnZpY2UuZGVmYXVsdEVycm9ySGFuZGxlcigpO2Yocyl9fXZhciBsPXIuZmlsdGVyKGMuUmVqZWN0aW9uLmlzVHJhbnNpdGlvblJlamVjdGlvblByb21pc2UpO3JldHVybiBsLmxlbmd0aD9sWzBdOnIuZmlsdGVyKG8uaXNQcm9taXNlKS5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC50aGVuKGEudmFsKGUpKX0sdS5zZXJ2aWNlcy4kcS53aGVuKCkpfSx0fSgpO2UuVHJhbnNpdGlvbkhvb2s9cH0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMyksaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlLHIsbil7dm9pZCAwPT09ciYmKHI9e30pLHZvaWQgMD09PW4mJihuPXt9KSx0aGlzLl9pZGVudGlmaWVyPXQsdGhpcy5fZGVmaW5pdGlvbj1lLHRoaXMuX29wdGlvbnM9bix0aGlzLl9wYXJhbXM9cnx8e319cmV0dXJuIHQucHJvdG90eXBlLm5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVmaW5pdGlvbiYmdGhpcy5fZGVmaW5pdGlvbi5uYW1lfHx0aGlzLl9pZGVudGlmaWVyfSx0LnByb3RvdHlwZS5pZGVudGlmaWVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lkZW50aWZpZXJ9LHQucHJvdG90eXBlLnBhcmFtcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYXJhbXN9LHQucHJvdG90eXBlLiRzdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWZpbml0aW9ufSx0LnByb3RvdHlwZS5zdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kZWZpbml0aW9uJiZ0aGlzLl9kZWZpbml0aW9uLnNlbGZ9LHQucHJvdG90eXBlLm9wdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3B0aW9uc30sdC5wcm90b3R5cGUuZXhpc3RzPWZ1bmN0aW9uKCl7cmV0dXJuISghdGhpcy5fZGVmaW5pdGlvbnx8IXRoaXMuX2RlZmluaXRpb24uc2VsZil9LHQucHJvdG90eXBlLnZhbGlkPWZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuZXJyb3IoKX0sdC5wcm90b3R5cGUuZXJyb3I9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLm9wdGlvbnMoKS5yZWxhdGl2ZTtpZighdGhpcy5fZGVmaW5pdGlvbiYmdCl7dmFyIGU9dC5uYW1lP3QubmFtZTp0O3JldHVyblwiQ291bGQgbm90IHJlc29sdmUgJ1wiK3RoaXMubmFtZSgpK1wiJyBmcm9tIHN0YXRlICdcIitlK1wiJ1wifXJldHVybiB0aGlzLl9kZWZpbml0aW9uP3RoaXMuX2RlZmluaXRpb24uc2VsZj92b2lkIDA6XCJTdGF0ZSAnXCIrdGhpcy5uYW1lKCkrXCInIGhhcyBhbiBpbnZhbGlkIGRlZmluaXRpb25cIjpcIk5vIHN1Y2ggc3RhdGUgJ1wiK3RoaXMubmFtZSgpK1wiJ1wifSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiJ1wiK3RoaXMubmFtZSgpK1wiJ1wiK24udG9Kc29uKHRoaXMucGFyYW1zKCkpfSx0fSgpO2UuVGFyZ2V0U3RhdGU9aX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXtmdW5jdGlvbiByKHQpe2Zvcih2YXIgZT1uLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGk9cy5HbG9iLmZyb21TdHJpbmcoZVtyXSk7aWYoaSYmaS5tYXRjaGVzKHQubmFtZSl8fCFpJiZlW3JdPT09dC5uYW1lKXJldHVybiEwfXJldHVybiExfXZhciBuPWEuaXNTdHJpbmcoZSk/W2VdOmUsaT1hLmlzRnVuY3Rpb24obik/bjpyO3JldHVybiEhaSh0KX1mdW5jdGlvbiBpKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHIsbixpKXt2b2lkIDA9PT1pJiYoaT17fSk7dmFyIGE9bmV3IHUocixuLGkpO3JldHVybiB0W2VdLnB1c2goYSksZnVuY3Rpb24oKXthLl9kZXJlZ2lzdGVyZWQ9ITAsby5yZW1vdmVGcm9tKHRbZV0pKGEpfX19dmFyIG89cigzKSxhPXIoNCkscz1yKDcpO2UubWF0Y2hTdGF0ZT1uO3ZhciB1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUscil7dm9pZCAwPT09ciYmKHI9e30pLHRoaXMuY2FsbGJhY2s9ZSx0aGlzLm1hdGNoQ3JpdGVyaWE9by5leHRlbmQoe3RvOiEwLGZyb206ITAsZXhpdGluZzohMCxyZXRhaW5lZDohMCxlbnRlcmluZzohMH0sdCksdGhpcy5wcmlvcml0eT1yLnByaW9yaXR5fHwwLHRoaXMuYmluZD1yLmJpbmR8fG51bGwsdGhpcy5fZGVyZWdpc3RlcmVkPSExfXJldHVybiB0Ll9tYXRjaGluZ05vZGVzPWZ1bmN0aW9uKHQsZSl7aWYoZT09PSEwKXJldHVybiB0O3ZhciByPXQuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBuKHQuc3RhdGUsZSl9KTtyZXR1cm4gci5sZW5ndGg/cjpudWxsfSx0LnByb3RvdHlwZS5tYXRjaGVzPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXMubWF0Y2hDcml0ZXJpYSxuPXQuX21hdGNoaW5nTm9kZXMsaT17dG86bihbby50YWlsKGUudG8pXSxyLnRvKSxmcm9tOm4oW28udGFpbChlLmZyb20pXSxyLmZyb20pLGV4aXRpbmc6bihlLmV4aXRpbmcsci5leGl0aW5nKSxyZXRhaW5lZDpuKGUucmV0YWluZWQsci5yZXRhaW5lZCksZW50ZXJpbmc6bihlLmVudGVyaW5nLHIuZW50ZXJpbmcpfSxhPVtcInRvXCIsXCJmcm9tXCIsXCJleGl0aW5nXCIsXCJyZXRhaW5lZFwiLFwiZW50ZXJpbmdcIl0ubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBpW3RdfSkucmVkdWNlKG8uYWxsVHJ1ZVIsITApO3JldHVybiBhP2k6bnVsbH0sdH0oKTtlLkV2ZW50SG9vaz11O3ZhciBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciB0PXRoaXM7dGhpcy5fdHJhbnNpdGlvbkV2ZW50cz17b25CZWZvcmU6W10sb25TdGFydDpbXSxvbkVudGVyOltdLG9uUmV0YWluOltdLG9uRXhpdDpbXSxvbkZpbmlzaDpbXSxvblN1Y2Nlc3M6W10sb25FcnJvcjpbXX0sdGhpcy5nZXRIb29rcz1mdW5jdGlvbihlKXtyZXR1cm4gdC5fdHJhbnNpdGlvbkV2ZW50c1tlXX0sdGhpcy5vbkJlZm9yZT1pKHRoaXMuX3RyYW5zaXRpb25FdmVudHMsXCJvbkJlZm9yZVwiKSx0aGlzLm9uU3RhcnQ9aSh0aGlzLl90cmFuc2l0aW9uRXZlbnRzLFwib25TdGFydFwiKSx0aGlzLm9uRW50ZXI9aSh0aGlzLl90cmFuc2l0aW9uRXZlbnRzLFwib25FbnRlclwiKSx0aGlzLm9uUmV0YWluPWkodGhpcy5fdHJhbnNpdGlvbkV2ZW50cyxcIm9uUmV0YWluXCIpLHRoaXMub25FeGl0PWkodGhpcy5fdHJhbnNpdGlvbkV2ZW50cyxcIm9uRXhpdFwiKSx0aGlzLm9uRmluaXNoPWkodGhpcy5fdHJhbnNpdGlvbkV2ZW50cyxcIm9uRmluaXNoXCIpLHRoaXMub25TdWNjZXNzPWkodGhpcy5fdHJhbnNpdGlvbkV2ZW50cyxcIm9uU3VjY2Vzc1wiKSx0aGlzLm9uRXJyb3I9aSh0aGlzLl90cmFuc2l0aW9uRXZlbnRzLFwib25FcnJvclwiKX1yZXR1cm4gdC5taXhpbj1mdW5jdGlvbih0LGUpe09iamVjdC5rZXlzKHQuX3RyYW5zaXRpb25FdmVudHMpLmNvbmNhdChbXCJnZXRIb29rc1wiXSkuZm9yRWFjaChmdW5jdGlvbihyKXtyZXR1cm4gZVtyXT10W3JdfSl9LHR9KCk7ZS5Ib29rUmVnaXN0cnk9Y30sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIHZvaWQgMD09PXQmJih0PSExKSxmdW5jdGlvbihlLHIpe3ZhciBuPXQ/LTE6MSxpPShlLm5vZGUuc3RhdGUucGF0aC5sZW5ndGgtci5ub2RlLnN0YXRlLnBhdGgubGVuZ3RoKSpuO3JldHVybiAwIT09aT9pOnIuaG9vay5wcmlvcml0eS1lLmhvb2sucHJpb3JpdHl9fXZhciBpPXIoMyksbz1yKDQpLGE9cigxMykscz1yKDE3KSx1PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUscil7dmFyIG89dGhpczt0aGlzLiR0cmFuc2l0aW9ucz10LHRoaXMudHJhbnNpdGlvbj1lLHRoaXMuYmFzZUhvb2tPcHRpb25zPXIsdGhpcy5nZXRPbkJlZm9yZUhvb2tzPWZ1bmN0aW9uKCl7cmV0dXJuIG8uX2J1aWxkTm9kZUhvb2tzKFwib25CZWZvcmVcIixcInRvXCIsbigpLHthc3luYzohMX0pfSx0aGlzLmdldE9uU3RhcnRIb29rcz1mdW5jdGlvbigpe3JldHVybiBvLl9idWlsZE5vZGVIb29rcyhcIm9uU3RhcnRcIixcInRvXCIsbigpKX0sdGhpcy5nZXRPbkV4aXRIb29rcz1mdW5jdGlvbigpe3JldHVybiBvLl9idWlsZE5vZGVIb29rcyhcIm9uRXhpdFwiLFwiZXhpdGluZ1wiLG4oITApLHtzdGF0ZUhvb2s6ITB9KX0sdGhpcy5nZXRPblJldGFpbkhvb2tzPWZ1bmN0aW9uKCl7cmV0dXJuIG8uX2J1aWxkTm9kZUhvb2tzKFwib25SZXRhaW5cIixcInJldGFpbmVkXCIsbighMSkse3N0YXRlSG9vazohMH0pfSx0aGlzLmdldE9uRW50ZXJIb29rcz1mdW5jdGlvbigpe3JldHVybiBvLl9idWlsZE5vZGVIb29rcyhcIm9uRW50ZXJcIixcImVudGVyaW5nXCIsbighMSkse3N0YXRlSG9vazohMH0pfSx0aGlzLmdldE9uRmluaXNoSG9va3M9ZnVuY3Rpb24oKXtyZXR1cm4gby5fYnVpbGROb2RlSG9va3MoXCJvbkZpbmlzaFwiLFwidG9cIixuKCkpfSx0aGlzLmdldE9uU3VjY2Vzc0hvb2tzPWZ1bmN0aW9uKCl7cmV0dXJuIG8uX2J1aWxkTm9kZUhvb2tzKFwib25TdWNjZXNzXCIsXCJ0b1wiLG4oKSx7YXN5bmM6ITEscmVqZWN0SWZTdXBlcnNlZGVkOiExfSl9LHRoaXMuZ2V0T25FcnJvckhvb2tzPWZ1bmN0aW9uKCl7cmV0dXJuIG8uX2J1aWxkTm9kZUhvb2tzKFwib25FcnJvclwiLFwidG9cIixuKCkse2FzeW5jOiExLHJlamVjdElmU3VwZXJzZWRlZDohMX0pfSx0aGlzLnRyZWVDaGFuZ2VzPWUudHJlZUNoYW5nZXMoKSx0aGlzLnRvU3RhdGU9aS50YWlsKHRoaXMudHJlZUNoYW5nZXMudG8pLnN0YXRlLHRoaXMuZnJvbVN0YXRlPWkudGFpbCh0aGlzLnRyZWVDaGFuZ2VzLmZyb20pLnN0YXRlLHRoaXMudHJhbnNpdGlvbk9wdGlvbnM9ZS5vcHRpb25zKCl9cmV0dXJuIHQucHJvdG90eXBlLmFzeW5jSG9va3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldE9uU3RhcnRIb29rcygpLGU9dGhpcy5nZXRPbkV4aXRIb29rcygpLHI9dGhpcy5nZXRPblJldGFpbkhvb2tzKCksbj10aGlzLmdldE9uRW50ZXJIb29rcygpLG89dGhpcy5nZXRPbkZpbmlzaEhvb2tzKCksYT1bdCxlLHIsbixvXTtyZXR1cm4gYS5yZWR1Y2UoaS51bm5lc3RSLFtdKS5maWx0ZXIoaS5pZGVudGl0eSl9LHQucHJvdG90eXBlLl9idWlsZE5vZGVIb29rcz1mdW5jdGlvbih0LGUscixuKXt2YXIgbz10aGlzLHU9dGhpcy5fbWF0Y2hpbmdIb29rcyh0LHRoaXMudHJlZUNoYW5nZXMpO2lmKCF1KXJldHVybltdO3ZhciBjPWZ1bmN0aW9uKHIpe3ZhciB1PXIubWF0Y2hlcyhvLnRyZWVDaGFuZ2VzKSxjPXVbZV0sZj1cImV4aXRpbmdcIj09PWU/by50cmVlQ2hhbmdlcy5mcm9tOm8udHJlZUNoYW5nZXMudG87bmV3IHMuUmVzb2x2ZUNvbnRleHQoZik7cmV0dXJuIGMubWFwKGZ1bmN0aW9uKGUpe3ZhciBzPWkuZXh0ZW5kKHtiaW5kOnIuYmluZCx0cmFjZURhdGE6e2hvb2tUeXBlOnQsY29udGV4dDplfX0sby5iYXNlSG9va09wdGlvbnMsbiksdT1zLnN0YXRlSG9vaz9lLnN0YXRlOm51bGwsYz1uZXcgYS5UcmFuc2l0aW9uSG9vayhvLnRyYW5zaXRpb24sdSxyLHMpO3JldHVybntob29rOnIsbm9kZTplLHRyYW5zaXRpb25Ib29rOmN9fSl9O3JldHVybiB1Lm1hcChjKS5yZWR1Y2UoaS51bm5lc3RSLFtdKS5zb3J0KHIpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC50cmFuc2l0aW9uSG9va30pfSx0LnByb3RvdHlwZS5fbWF0Y2hpbmdIb29rcz1mdW5jdGlvbih0LGUpe3JldHVyblt0aGlzLnRyYW5zaXRpb24sdGhpcy4kdHJhbnNpdGlvbnNdLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRIb29rcyh0KX0pLmZpbHRlcihpLmFzc2VydFByZWRpY2F0ZShvLmlzQXJyYXksXCJicm9rZW4gZXZlbnQgbmFtZWQ6IFwiK3QpKS5yZWR1Y2UoaS51bm5lc3RSLFtdKS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQubWF0Y2hlcyhlKX0pfSx0fSgpO2UuSG9va0J1aWxkZXI9dX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMyksaT1yKDUpLG89cigxMiksYT1yKDYpLHM9cigxOCksdT1yKDE5KSxjPXIoMjApLGY9cig5KSxsPXMucmVzb2x2ZVBvbGljaWVzLndoZW4scD1bbC5FQUdFUixsLkxBWlldLGg9W2wuRUFHRVJdO2UuTkFUSVZFX0lOSkVDVE9SX1RPS0VOPVwiTmF0aXZlIEluamVjdG9yXCI7dmFyIHY9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3BhdGg9dH1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0VG9rZW5zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BhdGgucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY29uY2F0KGUucmVzb2x2YWJsZXMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRva2VufSkpfSxbXSkucmVkdWNlKG4udW5pcVIsW10pfSx0LnByb3RvdHlwZS5nZXRSZXNvbHZhYmxlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3BhdGgubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlc29sdmFibGVzfSkucmVkdWNlKG4udW5uZXN0UixbXSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRva2VuPT09dH0pO3JldHVybiBuLnRhaWwoZSl9LHQucHJvdG90eXBlLnN1YkNvbnRleHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0KGMuUGF0aEZhY3Rvcnkuc3ViUGF0aCh0aGlzLl9wYXRoLGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXRlPT09ZX0pKX0sdC5wcm90b3R5cGUuYWRkUmVzb2x2YWJsZXM9ZnVuY3Rpb24odCxlKXt2YXIgcj1uLmZpbmQodGhpcy5fcGF0aCxpLnByb3BFcShcInN0YXRlXCIsZSkpLG89dC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudG9rZW59KTtyLnJlc29sdmFibGVzPXIucmVzb2x2YWJsZXMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBvLmluZGV4T2YodC50b2tlbik9PT0tMX0pLmNvbmNhdCh0KX0sdC5wcm90b3R5cGUucmVzb2x2ZVBhdGg9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzO3ZvaWQgMD09PXQmJih0PVwiTEFaWVwiKTt2YXIgaT1uLmluQXJyYXkocCx0KT90OlwiTEFaWVwiLHU9aT09PXMucmVzb2x2ZVBvbGljaWVzLndoZW4uRUFHRVI/aDpwO28udHJhY2UudHJhY2VSZXNvbHZlUGF0aCh0aGlzLl9wYXRoLHQsZSk7dmFyIGM9dGhpcy5fcGF0aC5yZWR1Y2UoZnVuY3Rpb24odCxpKXt2YXIgbz1mdW5jdGlvbih0KXtyZXR1cm4gbi5pbkFycmF5KHUsdC5nZXRQb2xpY3koaS5zdGF0ZSkud2hlbil9LGE9aS5yZXNvbHZhYmxlcy5maWx0ZXIobykscz1yLnN1YkNvbnRleHQoaS5zdGF0ZSksYz1mdW5jdGlvbih0KXtyZXR1cm4gdC5nZXQocyxlKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybnt0b2tlbjp0LnRva2VuLHZhbHVlOmV9fSl9O3JldHVybiB0LmNvbmNhdChhLm1hcChjKSl9LFtdKTtyZXR1cm4gYS5zZXJ2aWNlcy4kcS5hbGwoYyl9LHQucHJvdG90eXBlLmluamVjdG9yPWZ1bmN0aW9uKCl7XG5yZXR1cm4gdGhpcy5faW5qZWN0b3J8fCh0aGlzLl9pbmplY3Rvcj1uZXcgZCh0aGlzKSl9LHQucHJvdG90eXBlLmZpbmROb2RlPWZ1bmN0aW9uKHQpe3JldHVybiBuLmZpbmQodGhpcy5fcGF0aCxmdW5jdGlvbihlKXtyZXR1cm4gbi5pbkFycmF5KGUucmVzb2x2YWJsZXMsdCl9KX0sdC5wcm90b3R5cGUuZ2V0RGVwZW5kZW5jaWVzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMscj10aGlzLmZpbmROb2RlKHQpLGk9Yy5QYXRoRmFjdG9yeS5zdWJQYXRoKHRoaXMuX3BhdGgsZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1yfSl8fHRoaXMuX3BhdGgsbz1pLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0LmNvbmNhdChlLnJlc29sdmFibGVzKX0sW10pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZSE9PXR9KSxhPWZ1bmN0aW9uKHQpe3ZhciByPW8uZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRva2VuPT09dH0pO2lmKHIubGVuZ3RoKXJldHVybiBuLnRhaWwocik7dmFyIGk9ZS5pbmplY3RvcigpLmdldE5hdGl2ZSh0KTtpZighaSl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZmluZCBEZXBlbmRlbmN5IEluamVjdGlvbiB0b2tlbjogXCIrZi5zdHJpbmdpZnkodCkpO3JldHVybiBuZXcgdS5SZXNvbHZhYmxlKHQsZnVuY3Rpb24oKXtyZXR1cm4gaX0sW10saSl9O3JldHVybiB0LmRlcHMubWFwKGEpfSx0fSgpO2UuUmVzb2x2ZUNvbnRleHQ9djt2YXIgZD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5jb250ZXh0PXQsdGhpc1tcIm5hdGl2ZVwiXT10aGlzLmdldChlLk5BVElWRV9JTkpFQ1RPUl9UT0tFTil8fGEuc2VydmljZXMuJGluamVjdG9yfXJldHVybiB0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZXh0LmdldFJlc29sdmFibGUodCk7aWYoZSl7aWYoIWUucmVzb2x2ZWQpdGhyb3cgbmV3IEVycm9yKFwiUmVzb2x2YWJsZSBhc3luYyAuZ2V0KCkgbm90IGNvbXBsZXRlOlwiK2Yuc3RyaW5naWZ5KGUudG9rZW4pKTtyZXR1cm4gZS5kYXRhfXJldHVybiB0aGlzW1wibmF0aXZlXCJdJiZ0aGlzW1wibmF0aXZlXCJdLmdldCh0KX0sdC5wcm90b3R5cGUuZ2V0QXN5bmM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZXh0LmdldFJlc29sdmFibGUodCk7cmV0dXJuIGU/ZS5nZXQodGhpcy5jb250ZXh0KTphLnNlcnZpY2VzLiRxLndoZW4odGhpc1tcIm5hdGl2ZVwiXS5nZXQodCkpfSx0LnByb3RvdHlwZS5nZXROYXRpdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXNbXCJuYXRpdmVcIl0uZ2V0KHQpfSx0fSgpfSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2UucmVzb2x2ZVBvbGljaWVzPXt3aGVuOntMQVpZOlwiTEFaWVwiLEVBR0VSOlwiRUFHRVJcIn0sYXN5bmM6e1dBSVQ6XCJXQUlUXCIsTk9XQUlUOlwiTk9XQUlUXCIsUlhXQUlUOlwiUlhXQUlUXCJ9fX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMyksaT1yKDYpLG89cigxMiksYT1yKDkpLHM9cig0KTtlLmRlZmF1bHRSZXNvbHZlUG9saWN5PXt3aGVuOlwiTEFaWVwiLGFzeW5jOlwiV0FJVFwifTt2YXIgdT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxyLG8sYSx1KXtpZih0aGlzLnJlc29sdmVkPSExLHRoaXMucHJvbWlzZT12b2lkIDAsZSBpbnN0YW5jZW9mIHQpbi5leHRlbmQodGhpcyxlKTtlbHNlIGlmKHMuaXNGdW5jdGlvbihyKSl7aWYobnVsbD09ZXx8dm9pZCAwPT1lKXRocm93IG5ldyBFcnJvcihcIm5ldyBSZXNvbHZhYmxlKCk6IHRva2VuIGFyZ3VtZW50IGlzIHJlcXVpcmVkXCIpO2lmKCFzLmlzRnVuY3Rpb24ocikpdGhyb3cgbmV3IEVycm9yKFwibmV3IFJlc29sdmFibGUoKTogcmVzb2x2ZUZuIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvblwiKTt0aGlzLnRva2VuPWUsdGhpcy5wb2xpY3k9YSx0aGlzLnJlc29sdmVGbj1yLHRoaXMuZGVwcz1vfHxbXSx0aGlzLmRhdGE9dSx0aGlzLnJlc29sdmVkPXZvaWQgMCE9PXUsdGhpcy5wcm9taXNlPXRoaXMucmVzb2x2ZWQ/aS5zZXJ2aWNlcy4kcS53aGVuKHRoaXMuZGF0YSk6dm9pZCAwfWVsc2UgaWYocy5pc09iamVjdChlKSYmZS50b2tlbiYmcy5pc0Z1bmN0aW9uKGUucmVzb2x2ZUZuKSl7dmFyIGM9ZTtyZXR1cm4gbmV3IHQoYy50b2tlbixjLnJlc29sdmVGbixjLmRlcHMsYy5wb2xpY3ksYy5kYXRhKX19cmV0dXJuIHQucHJvdG90eXBlLmdldFBvbGljeT1mdW5jdGlvbih0KXt2YXIgcj10aGlzLnBvbGljeXx8e30sbj10JiZ0LnJlc29sdmVQb2xpY3l8fHt9O3JldHVybnt3aGVuOnIud2hlbnx8bi53aGVufHxlLmRlZmF1bHRSZXNvbHZlUG9saWN5LndoZW4sYXN5bmM6ci5hc3luY3x8bi5hc3luY3x8ZS5kZWZhdWx0UmVzb2x2ZVBvbGljeS5hc3luY319LHQucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLGE9aS5zZXJ2aWNlcy4kcSxzPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYWxsKHQuZ2V0RGVwZW5kZW5jaWVzKHIpLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gci5nZXQodCxlKX0pKX0sdT1mdW5jdGlvbih0KXtyZXR1cm4gci5yZXNvbHZlRm4uYXBwbHkobnVsbCx0KX0sYz1mdW5jdGlvbih0KXt2YXIgZT10LmNhY2hlKDEpO3JldHVybiBlLnRha2UoMSkudG9Qcm9taXNlKCkudGhlbihmdW5jdGlvbigpe3JldHVybiBlfSl9LGY9dC5maW5kTm9kZSh0aGlzKSxsPWYmJmYuc3RhdGUscD1cIlJYV0FJVFwiPT09dGhpcy5nZXRQb2xpY3kobCkuYXN5bmM/YzpuLmlkZW50aXR5LGg9ZnVuY3Rpb24odCl7cmV0dXJuIHIuZGF0YT10LHIucmVzb2x2ZWQ9ITAsby50cmFjZS50cmFjZVJlc29sdmFibGVSZXNvbHZlZChyLGUpLHIuZGF0YX07cmV0dXJuIHRoaXMucHJvbWlzZT1hLndoZW4oKS50aGVuKHMpLnRoZW4odSkudGhlbihwKS50aGVuKGgpfSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5wcm9taXNlfHx0aGlzLnJlc29sdmUodCxlKX0sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIlJlc29sdmFibGUodG9rZW46IFwiK2Euc3RyaW5naWZ5KHRoaXMudG9rZW4pK1wiLCByZXF1aXJlczogW1wiK3RoaXMuZGVwcy5tYXAoYS5zdHJpbmdpZnkpK1wiXSlcIn0sdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodGhpcyl9LHQuZnJvbURhdGE9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbmV3IHQoZSxmdW5jdGlvbigpe3JldHVybiByfSxudWxsLG51bGwscil9LHR9KCk7ZS5SZXNvbHZhYmxlPXV9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDMpLGk9cig1KSxvPXIoMTQpLGE9cigyMSkscz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQubWFrZVRhcmdldFN0YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPW4udGFpbCh0KS5zdGF0ZTtyZXR1cm4gbmV3IG8uVGFyZ2V0U3RhdGUoZSxlLHQubWFwKGkucHJvcChcInBhcmFtVmFsdWVzXCIpKS5yZWR1Y2Uobi5tZXJnZVIse30pKX0sdC5idWlsZFBhdGg9ZnVuY3Rpb24odCl7dmFyIGU9dC5wYXJhbXMoKTtyZXR1cm4gdC4kc3RhdGUoKS5wYXRoLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGEuUGF0aE5vZGUodCkuYXBwbHlSYXdQYXJhbXMoZSl9KX0sdC5idWlsZFRvUGF0aD1mdW5jdGlvbihlLHIpe3ZhciBuPXQuYnVpbGRQYXRoKHIpO3JldHVybiByLm9wdGlvbnMoKS5pbmhlcml0P3QuaW5oZXJpdFBhcmFtcyhlLG4sT2JqZWN0LmtleXMoci5wYXJhbXMoKSkpOm59LHQuYXBwbHlWaWV3Q29uZmlncz1mdW5jdGlvbihlLHIsaSl7ci5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIG4uaW5BcnJheShpLHQuc3RhdGUpfSkuZm9yRWFjaChmdW5jdGlvbihpKXt2YXIgbz1uLnZhbHVlcyhpLnN0YXRlLnZpZXdzfHx7fSksYT10LnN1YlBhdGgocixmdW5jdGlvbih0KXtyZXR1cm4gdD09PWl9KSxzPW8ubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBlLmNyZWF0ZVZpZXdDb25maWcoYSx0KX0pO2kudmlld3M9cy5yZWR1Y2Uobi51bm5lc3RSLFtdKX0pfSx0LmluaGVyaXRQYXJhbXM9ZnVuY3Rpb24odCxlLHIpe2Z1bmN0aW9uIG8odCxlKXt2YXIgcj1uLmZpbmQodCxpLnByb3BFcShcInN0YXRlXCIsZSkpO3JldHVybiBuLmV4dGVuZCh7fSxyJiZyLnBhcmFtVmFsdWVzKX1mdW5jdGlvbiBzKGUpe3ZhciBpPW4uZXh0ZW5kKHt9LGUmJmUucGFyYW1WYWx1ZXMpLHM9bi5waWNrKGkscik7aT1uLm9taXQoaSxyKTt2YXIgdT1vKHQsZS5zdGF0ZSl8fHt9LGM9bi5leHRlbmQoaSx1LHMpO3JldHVybiBuZXcgYS5QYXRoTm9kZShlLnN0YXRlKS5hcHBseVJhd1BhcmFtcyhjKX1yZXR1cm4gdm9pZCAwPT09ciYmKHI9W10pLGUubWFwKHMpfSx0LnRyZWVDaGFuZ2VzPWZ1bmN0aW9uKHQsZSxyKXtmdW5jdGlvbiBuKHQscil7dmFyIG49YS5QYXRoTm9kZS5jbG9uZSh0KTtyZXR1cm4gbi5wYXJhbVZhbHVlcz1lW3JdLnBhcmFtVmFsdWVzLG59Zm9yKHZhciBvPTAscz1NYXRoLm1pbih0Lmxlbmd0aCxlLmxlbmd0aCksdT1mdW5jdGlvbih0KXtyZXR1cm4gdC5wYXJhbWV0ZXJzKHtpbmhlcml0OiExfSkuZmlsdGVyKGkubm90KGkucHJvcChcImR5bmFtaWNcIikpKS5tYXAoaS5wcm9wKFwiaWRcIikpfSxjPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZXF1YWxzKGUsdSh0LnN0YXRlKSl9O288cyYmdFtvXS5zdGF0ZSE9PXImJmModFtvXSxlW29dKTspbysrO3ZhciBmLGwscCxoLHY7Zj10LGw9Zi5zbGljZSgwLG8pLHA9Zi5zbGljZShvKTt2YXIgZD1sLm1hcChuKTtyZXR1cm4gaD1lLnNsaWNlKG8pLHY9ZC5jb25jYXQoaCkse2Zyb206Zix0bzp2LHJldGFpbmVkOmwsZXhpdGluZzpwLGVudGVyaW5nOmh9fSx0LnN1YlBhdGg9ZnVuY3Rpb24odCxlKXt2YXIgcj1uLmZpbmQodCxlKSxpPXQuaW5kZXhPZihyKTtyZXR1cm4gaT09PS0xP3ZvaWQgMDp0LnNsaWNlKDAsaSsxKX0sdC5wYXJhbVZhbHVlcz1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5leHRlbmQodCxlLnBhcmFtVmFsdWVzKX0se30pfSx0fSgpO2UuUGF0aEZhY3Rvcnk9c30sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMyksaT1yKDUpLG89cigyMiksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSl7aWYoZSBpbnN0YW5jZW9mIHQpe3ZhciByPWU7dGhpcy5zdGF0ZT1yLnN0YXRlLHRoaXMucGFyYW1TY2hlbWE9ci5wYXJhbVNjaGVtYS5zbGljZSgpLHRoaXMucGFyYW1WYWx1ZXM9bi5leHRlbmQoe30sci5wYXJhbVZhbHVlcyksdGhpcy5yZXNvbHZhYmxlcz1yLnJlc29sdmFibGVzLnNsaWNlKCksdGhpcy52aWV3cz1yLnZpZXdzJiZyLnZpZXdzLnNsaWNlKCl9ZWxzZXt2YXIgaT1lO3RoaXMuc3RhdGU9aSx0aGlzLnBhcmFtU2NoZW1hPWkucGFyYW1ldGVycyh7aW5oZXJpdDohMX0pLHRoaXMucGFyYW1WYWx1ZXM9e30sdGhpcy5yZXNvbHZhYmxlcz1pLnJlc29sdmFibGVzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5jbG9uZSgpfSl9fXJldHVybiB0LnByb3RvdHlwZS5hcHBseVJhd1BhcmFtcz1mdW5jdGlvbih0KXt2YXIgZT1mdW5jdGlvbihlKXtyZXR1cm5bZS5pZCxlLnZhbHVlKHRbZS5pZF0pXX07cmV0dXJuIHRoaXMucGFyYW1WYWx1ZXM9dGhpcy5wYXJhbVNjaGVtYS5yZWR1Y2UoZnVuY3Rpb24odCxyKXtyZXR1cm4gbi5hcHBseVBhaXJzKHQsZShyKSl9LHt9KSx0aGlzfSx0LnByb3RvdHlwZS5wYXJhbWV0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIG4uZmluZCh0aGlzLnBhcmFtU2NoZW1hLGkucHJvcEVxKFwiaWRcIix0KSl9LHQucHJvdG90eXBlLmVxdWFscz1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXM7dm9pZCAwPT09ZSYmKGU9dGhpcy5wYXJhbVNjaGVtYS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSk7dmFyIGk9ZnVuY3Rpb24oZSl7cmV0dXJuIHIucGFyYW1ldGVyKGUpLnR5cGUuZXF1YWxzKHIucGFyYW1WYWx1ZXNbZV0sdC5wYXJhbVZhbHVlc1tlXSl9O3JldHVybiB0aGlzLnN0YXRlPT09dC5zdGF0ZSYmZS5tYXAoaSkucmVkdWNlKG4uYWxsVHJ1ZVIsITApfSx0LmNsb25lPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdChlKX0sdC5tYXRjaGluZz1mdW5jdGlvbih0LGUscil7dm9pZCAwPT09ciYmKHI9ITApO2Zvcih2YXIgbj1bXSxpPTA7aTx0Lmxlbmd0aCYmaTxlLmxlbmd0aDtpKyspe3ZhciBhPXRbaV0scz1lW2ldO2lmKGEuc3RhdGUhPT1zLnN0YXRlKWJyZWFrO3ZhciB1PW8uUGFyYW0uY2hhbmdlZChhLnBhcmFtU2NoZW1hLGEucGFyYW1WYWx1ZXMscy5wYXJhbVZhbHVlcykuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiEociYmdC5keW5hbWljKX0pO2lmKHUubGVuZ3RoKWJyZWFrO24ucHVzaChhKX1yZXR1cm4gbn0sdH0oKTtlLlBhdGhOb2RlPWF9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiB0PXYodCkmJnt2YWx1ZTp0fXx8dCxzLmV4dGVuZCh0LHskJGZuOmMuaXNJbmplY3RhYmxlKHQudmFsdWUpP3QudmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdC52YWx1ZX19KX1mdW5jdGlvbiBpKHQsZSxyLG4saSl7aWYodC50eXBlJiZlJiZcInN0cmluZ1wiIT09ZS5uYW1lKXRocm93IG5ldyBFcnJvcihcIlBhcmFtICdcIituK1wiJyBoYXMgdHdvIHR5cGUgY29uZmlndXJhdGlvbnMuXCIpO3JldHVybiB0LnR5cGUmJmUmJlwic3RyaW5nXCI9PT1lLm5hbWUmJmkudHlwZSh0LnR5cGUpP2kudHlwZSh0LnR5cGUpOmU/ZTp0LnR5cGU/dC50eXBlIGluc3RhbmNlb2YgcC5QYXJhbVR5cGU/dC50eXBlOmkudHlwZSh0LnR5cGUpOnI9PT1kLkNPTkZJRz9pLnR5cGUoXCJhbnlcIik6aS50eXBlKFwic3RyaW5nXCIpfWZ1bmN0aW9uIG8odCxlKXt2YXIgcj10LnNxdWFzaDtpZighZXx8cj09PSExKXJldHVybiExO2lmKCFjLmlzRGVmaW5lZChyKXx8bnVsbD09cilyZXR1cm4gbC5tYXRjaGVyQ29uZmlnLmRlZmF1bHRTcXVhc2hQb2xpY3koKTtpZihyPT09ITB8fGMuaXNTdHJpbmcocikpcmV0dXJuIHI7dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzcXVhc2ggcG9saWN5OiAnXCIrcitcIicuIFZhbGlkIHBvbGljaWVzOiBmYWxzZSwgdHJ1ZSwgb3IgYXJiaXRyYXJ5IHN0cmluZ1wiKX1mdW5jdGlvbiBhKHQsZSxyLG4pe3ZhciBpLG8sYT1be2Zyb206XCJcIix0bzpyfHxlP3ZvaWQgMDpcIlwifSx7ZnJvbTpudWxsLHRvOnJ8fGU/dm9pZCAwOlwiXCJ9XTtyZXR1cm4gaT1jLmlzQXJyYXkodC5yZXBsYWNlKT90LnJlcGxhY2U6W10sYy5pc1N0cmluZyhuKSYmaS5wdXNoKHtmcm9tOm4sdG86dm9pZCAwfSksbz1zLm1hcChpLHUucHJvcChcImZyb21cIikpLHMuZmlsdGVyKGEsZnVuY3Rpb24odCl7cmV0dXJuIG8uaW5kZXhPZih0LmZyb20pPT09LTF9KS5jb25jYXQoaSl9dmFyIHM9cigzKSx1PXIoNSksYz1yKDQpLGY9cig2KSxsPXIoMjMpLHA9cigyNCksaD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHY9ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT1bXCJ2YWx1ZVwiLFwidHlwZVwiLFwic3F1YXNoXCIsXCJhcnJheVwiLFwiZHluYW1pY1wiXS5maWx0ZXIoaC5iaW5kKHR8fHt9KSkubGVuZ3RofTshZnVuY3Rpb24odCl7dFt0LlBBVEg9MF09XCJQQVRIXCIsdFt0LlNFQVJDSD0xXT1cIlNFQVJDSFwiLHRbdC5DT05GSUc9Ml09XCJDT05GSUdcIn0oZS5EZWZUeXBlfHwoZS5EZWZUeXBlPXt9KSk7dmFyIGQ9ZS5EZWZUeXBlLG09ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxyLHUsZil7ZnVuY3Rpb24gbCgpe3ZhciBlPXthcnJheTp1PT09ZC5TRUFSQ0gmJlwiYXV0b1wifSxuPXQubWF0Y2goL1xcW1xcXSQvKT97YXJyYXk6ITB9Ont9O3JldHVybiBzLmV4dGVuZChlLG4scikuYXJyYXl9cj1uKHIpLGU9aShyLGUsdSx0LGYpO3ZhciBwPWwoKTtlPXA/ZS4kYXNBcnJheShwLHU9PT1kLlNFQVJDSCk6ZTt2YXIgaD12b2lkIDAhPT1yLnZhbHVlLHY9Yy5pc0RlZmluZWQoci5keW5hbWljKT8hIXIuZHluYW1pYzohIWUuZHluYW1pYyxtPW8ocixoKSxnPWEocixwLGgsbSk7cy5leHRlbmQodGhpcyx7aWQ6dCx0eXBlOmUsbG9jYXRpb246dSxzcXVhc2g6bSxyZXBsYWNlOmcsaXNPcHRpb25hbDpoLGR5bmFtaWM6dixjb25maWc6cixhcnJheTpwfSl9cmV0dXJuIHQucHJvdG90eXBlLmlzRGVmYXVsdFZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzT3B0aW9uYWwmJnRoaXMudHlwZS5lcXVhbHModGhpcy52YWx1ZSgpLHQpfSx0LnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLHI9ZnVuY3Rpb24oKXtpZighZi5zZXJ2aWNlcy4kaW5qZWN0b3IpdGhyb3cgbmV3IEVycm9yKFwiSW5qZWN0YWJsZSBmdW5jdGlvbnMgY2Fubm90IGJlIGNhbGxlZCBhdCBjb25maWd1cmF0aW9uIHRpbWVcIik7dmFyIHQ9Zi5zZXJ2aWNlcy4kaW5qZWN0b3IuaW52b2tlKGUuY29uZmlnLiQkZm4pO2lmKG51bGwhPT10JiZ2b2lkIDAhPT10JiYhZS50eXBlLmlzKHQpKXRocm93IG5ldyBFcnJvcihcIkRlZmF1bHQgdmFsdWUgKFwiK3QrXCIpIGZvciBwYXJhbWV0ZXIgJ1wiK2UuaWQrXCInIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBQYXJhbVR5cGUgKFwiK2UudHlwZS5uYW1lK1wiKVwiKTtyZXR1cm4gdH0sbj1mdW5jdGlvbih0KXt2YXIgcj1zLm1hcChzLmZpbHRlcihlLnJlcGxhY2UsdS5wcm9wRXEoXCJmcm9tXCIsdCkpLHUucHJvcChcInRvXCIpKTtyZXR1cm4gci5sZW5ndGg/clswXTp0fTtyZXR1cm4gdD1uKHQpLGMuaXNEZWZpbmVkKHQpP3RoaXMudHlwZS4kbm9ybWFsaXplKHQpOnIoKX0sdC5wcm90b3R5cGUuaXNTZWFyY2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NhdGlvbj09PWQuU0VBUkNIfSx0LnByb3RvdHlwZS52YWxpZGF0ZXM9ZnVuY3Rpb24odCl7aWYoKCFjLmlzRGVmaW5lZCh0KXx8bnVsbD09PXQpJiZ0aGlzLmlzT3B0aW9uYWwpcmV0dXJuITA7dmFyIGU9dGhpcy50eXBlLiRub3JtYWxpemUodCk7aWYoIXRoaXMudHlwZS5pcyhlKSlyZXR1cm4hMTt2YXIgcj10aGlzLnR5cGUuZW5jb2RlKGUpO3JldHVybiEoYy5pc1N0cmluZyhyKSYmIXRoaXMudHlwZS5wYXR0ZXJuLmV4ZWMocikpfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwie1BhcmFtOlwiK3RoaXMuaWQrXCIgXCIrdGhpcy50eXBlK1wiIHNxdWFzaDogJ1wiK3RoaXMuc3F1YXNoK1wiJyBvcHRpb25hbDogXCIrdGhpcy5pc09wdGlvbmFsK1wifVwifSx0LmZyb21Db25maWc9ZnVuY3Rpb24oZSxyLG4saSl7cmV0dXJuIG5ldyB0KGUscixuLGQuQ09ORklHLGkpfSx0LmZyb21QYXRoPWZ1bmN0aW9uKGUscixuLGkpe3JldHVybiBuZXcgdChlLHIsbixkLlBBVEgsaSl9LHQuZnJvbVNlYXJjaD1mdW5jdGlvbihlLHIsbixpKXtyZXR1cm4gbmV3IHQoZSxyLG4sZC5TRUFSQ0gsaSl9LHQudmFsdWVzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSx0Lm1hcChmdW5jdGlvbih0KXtyZXR1cm5bdC5pZCx0LnZhbHVlKGVbdC5pZF0pXX0pLnJlZHVjZShzLmFwcGx5UGFpcnMse30pfSx0LmNoYW5nZWQ9ZnVuY3Rpb24odCxlLHIpe3JldHVybiB2b2lkIDA9PT1lJiYoZT17fSksdm9pZCAwPT09ciYmKHI9e30pLHQuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiF0LnR5cGUuZXF1YWxzKGVbdC5pZF0sclt0LmlkXSl9KX0sdC5lcXVhbHM9ZnVuY3Rpb24oZSxyLG4pe3JldHVybiB2b2lkIDA9PT1yJiYocj17fSksdm9pZCAwPT09biYmKG49e30pLDA9PT10LmNoYW5nZWQoZSxyLG4pLmxlbmd0aH0sdC52YWxpZGF0ZXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLHQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnZhbGlkYXRlcyhlW3QuaWRdKX0pLnJlZHVjZShzLmFsbFRydWVSLCEwKX0sdH0oKTtlLlBhcmFtPW19LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDQpLGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dGhpcy5faXNDYXNlSW5zZW5zaXRpdmU9ITEsdGhpcy5faXNTdHJpY3RNb2RlPSEwLHRoaXMuX2RlZmF1bHRTcXVhc2hQb2xpY3k9ITF9cmV0dXJuIHQucHJvdG90eXBlLmNhc2VJbnNlbnNpdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faXNDYXNlSW5zZW5zaXRpdmU9bi5pc0RlZmluZWQodCk/dDp0aGlzLl9pc0Nhc2VJbnNlbnNpdGl2ZX0sdC5wcm90b3R5cGUuc3RyaWN0TW9kZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faXNTdHJpY3RNb2RlPW4uaXNEZWZpbmVkKHQpP3Q6dGhpcy5faXNTdHJpY3RNb2RlfSx0LnByb3RvdHlwZS5kZWZhdWx0U3F1YXNoUG9saWN5PWZ1bmN0aW9uKHQpe2lmKG4uaXNEZWZpbmVkKHQpJiZ0IT09ITAmJnQhPT0hMSYmIW4uaXNTdHJpbmcodCkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzcXVhc2ggcG9saWN5OiBcIit0K1wiLiBWYWxpZCBwb2xpY2llczogZmFsc2UsIHRydWUsIGFyYml0cmFyeS1zdHJpbmdcIik7cmV0dXJuIHRoaXMuX2RlZmF1bHRTcXVhc2hQb2xpY3k9bi5pc0RlZmluZWQodCk/dDp0aGlzLl9kZWZhdWx0U3F1YXNoUG9saWN5fSx0fSgpO2UuTWF0Y2hlckNvbmZpZz1pLGUubWF0Y2hlckNvbmZpZz1uZXcgaX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXtmdW5jdGlvbiByKHQpe3JldHVybiBvLmlzQXJyYXkodCk/dDpvLmlzRGVmaW5lZCh0KT9bdF06W119ZnVuY3Rpb24gbih0KXtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm47Y2FzZSAxOnJldHVyblwiYXV0b1wiPT09ZT90WzBdOnQ7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gYSh0LGUpe3JldHVybiBmdW5jdGlvbihhKXtpZihvLmlzQXJyYXkoYSkmJjA9PT1hLmxlbmd0aClyZXR1cm4gYTt2YXIgcz1yKGEpLHU9aS5tYXAocyx0KTtyZXR1cm4gZT09PSEwPzA9PT1pLmZpbHRlcih1LGZ1bmN0aW9uKHQpe3JldHVybiF0fSkubGVuZ3RoOm4odSl9fWZ1bmN0aW9uIHModCl7cmV0dXJuIGZ1bmN0aW9uKGUsbil7dmFyIGk9cihlKSxvPXIobik7aWYoaS5sZW5ndGghPT1vLmxlbmd0aClyZXR1cm4hMTtmb3IodmFyIGE9MDthPGkubGVuZ3RoO2ErKylpZighdChpW2FdLG9bYV0pKXJldHVybiExO3JldHVybiEwfX12YXIgdT10aGlzO1tcImVuY29kZVwiLFwiZGVjb2RlXCIsXCJlcXVhbHNcIixcIiRub3JtYWxpemVcIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj10W2VdLmJpbmQodCksbj1cImVxdWFsc1wiPT09ZT9zOmE7dVtlXT1uKHIpfSksaS5leHRlbmQodGhpcyx7ZHluYW1pYzp0LmR5bmFtaWMsbmFtZTp0Lm5hbWUscGF0dGVybjp0LnBhdHRlcm4saXM6YSh0LmlzLmJpbmQodCksITApLCRhcnJheU1vZGU6ZX0pfXZhciBpPXIoMyksbz1yKDQpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMucGF0dGVybj0vLiovLGkuZXh0ZW5kKHRoaXMsdCl9cmV0dXJuIHQucHJvdG90eXBlLmlzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuITB9LHQucHJvdG90eXBlLmVuY29kZT1mdW5jdGlvbih0LGUpe3JldHVybiB0fSx0LnByb3RvdHlwZS5kZWNvZGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdH0sdC5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9PWV9LHQucHJvdG90eXBlLiRzdWJQYXR0ZXJuPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5wYXR0ZXJuLnRvU3RyaW5nKCk7cmV0dXJuIHQuc3Vic3RyKDEsdC5sZW5ndGgtMil9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJ7UGFyYW1UeXBlOlwiK3RoaXMubmFtZStcIn1cIn0sdC5wcm90b3R5cGUuJG5vcm1hbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pcyh0KT90OnRoaXMuZGVjb2RlKHQpfSx0LnByb3RvdHlwZS4kYXNBcnJheT1mdW5jdGlvbih0LGUpe2lmKCF0KXJldHVybiB0aGlzO2lmKFwiYXV0b1wiPT09dCYmIWUpdGhyb3cgbmV3IEVycm9yKFwiJ2F1dG8nIGFycmF5IG1vZGUgaXMgZm9yIHF1ZXJ5IHBhcmFtZXRlcnMgb25seVwiKTtyZXR1cm4gbmV3IG4odGhpcyx0KX0sdH0oKTtlLlBhcmFtVHlwZT1hfSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigyNiksaT1yKDI5KSxvPXIoMjkpLGE9cigzMCkscz1yKDM3KSx1PXIoMzgpLGM9cig0MyksZj1yKDQ0KSxsPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMudmlld1NlcnZpY2U9bmV3IHMuVmlld1NlcnZpY2UsdGhpcy50cmFuc2l0aW9uU2VydmljZT1uZXcgYS5UcmFuc2l0aW9uU2VydmljZSh0aGlzKSx0aGlzLmdsb2JhbHM9bmV3IGYuR2xvYmFscyh0aGlzLnRyYW5zaXRpb25TZXJ2aWNlKSx0aGlzLnVybE1hdGNoZXJGYWN0b3J5PW5ldyBuLlVybE1hdGNoZXJGYWN0b3J5LHRoaXMudXJsUm91dGVyUHJvdmlkZXI9bmV3IGkuVXJsUm91dGVyUHJvdmlkZXIodGhpcy51cmxNYXRjaGVyRmFjdG9yeSx0aGlzLmdsb2JhbHMucGFyYW1zKSx0aGlzLnVybFJvdXRlcj1uZXcgby5VcmxSb3V0ZXIodGhpcy51cmxSb3V0ZXJQcm92aWRlciksdGhpcy5zdGF0ZVJlZ2lzdHJ5PW5ldyB1LlN0YXRlUmVnaXN0cnkodGhpcy51cmxNYXRjaGVyRmFjdG9yeSx0aGlzLnVybFJvdXRlclByb3ZpZGVyKSx0aGlzLnN0YXRlU2VydmljZT1uZXcgYy5TdGF0ZVNlcnZpY2UodGhpcyksdGhpcy52aWV3U2VydmljZS5yb290Q29udGV4dCh0aGlzLnN0YXRlUmVnaXN0cnkucm9vdCgpKSx0aGlzLmdsb2JhbHMuJGN1cnJlbnQ9dGhpcy5zdGF0ZVJlZ2lzdHJ5LnJvb3QoKSx0aGlzLmdsb2JhbHMuY3VycmVudD10aGlzLmdsb2JhbHMuJGN1cnJlbnQuc2VsZn1yZXR1cm4gdH0oKTtlLlVJUm91dGVyPWx9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKCl7cmV0dXJue3N0cmljdDpzLm1hdGNoZXJDb25maWcuc3RyaWN0TW9kZSgpLGNhc2VJbnNlbnNpdGl2ZTpzLm1hdGNoZXJDb25maWcuY2FzZUluc2Vuc2l0aXZlKCl9fXZhciBpPXIoMyksbz1yKDQpLGE9cigyNykscz1yKDIzKSx1PXIoMjIpLGM9cigyOCksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLnBhcmFtVHlwZXM9bmV3IGMuUGFyYW1UeXBlcyxpLmV4dGVuZCh0aGlzLHtVcmxNYXRjaGVyOmEuVXJsTWF0Y2hlcixQYXJhbTp1LlBhcmFtfSl9cmV0dXJuIHQucHJvdG90eXBlLmNhc2VJbnNlbnNpdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gcy5tYXRjaGVyQ29uZmlnLmNhc2VJbnNlbnNpdGl2ZSh0KX0sdC5wcm90b3R5cGUuc3RyaWN0TW9kZT1mdW5jdGlvbih0KXtyZXR1cm4gcy5tYXRjaGVyQ29uZmlnLnN0cmljdE1vZGUodCl9LHQucHJvdG90eXBlLmRlZmF1bHRTcXVhc2hQb2xpY3k9ZnVuY3Rpb24odCl7cmV0dXJuIHMubWF0Y2hlckNvbmZpZy5kZWZhdWx0U3F1YXNoUG9saWN5KHQpfSx0LnByb3RvdHlwZS5jb21waWxlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5ldyBhLlVybE1hdGNoZXIodCx0aGlzLnBhcmFtVHlwZXMsaS5leHRlbmQobigpLGUpKX0sdC5wcm90b3R5cGUuaXNNYXRjaGVyPWZ1bmN0aW9uKHQpe2lmKCFvLmlzT2JqZWN0KHQpKXJldHVybiExO3ZhciBlPSEwO3JldHVybiBpLmZvckVhY2goYS5VcmxNYXRjaGVyLnByb3RvdHlwZSxmdW5jdGlvbihyLG4pe28uaXNGdW5jdGlvbihyKSYmKGU9ZSYmby5pc0RlZmluZWQodFtuXSkmJm8uaXNGdW5jdGlvbih0W25dKSl9KSxlfSx0LnByb3RvdHlwZS50eXBlPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj10aGlzLnBhcmFtVHlwZXMudHlwZSh0LGUscik7cmV0dXJuIG8uaXNEZWZpbmVkKGUpP3RoaXM6bn0sdC5wcm90b3R5cGUuJGdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmFtVHlwZXMuZW5xdWV1ZT0hMSx0aGlzLnBhcmFtVHlwZXMuX2ZsdXNoVHlwZVF1ZXVlKCksdGhpc30sdH0oKTtlLlVybE1hdGNoZXJGYWN0b3J5PWZ9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSl7dmFyIHI9W1wiXCIsXCJcIl0sbj10LnJlcGxhY2UoL1tcXFxcXFxbXFxdXFxeJCorPy4oKXx7fV0vZyxcIlxcXFwkJlwiKTtpZighZSlyZXR1cm4gbjtzd2l0Y2goZS5zcXVhc2gpe2Nhc2UhMTpyPVtcIihcIixcIilcIisoZS5pc09wdGlvbmFsP1wiP1wiOlwiXCIpXTticmVhaztjYXNlITA6bj1uLnJlcGxhY2UoL1xcLyQvLFwiXCIpLHI9W1wiKD86LyhcIixcIil8Lyk/XCJdO2JyZWFrO2RlZmF1bHQ6cj1bXCIoXCIrZS5zcXVhc2grXCJ8XCIsXCIpP1wiXX1yZXR1cm4gbityWzBdK2UudHlwZS5wYXR0ZXJuLnNvdXJjZStyWzFdfXZhciBpPXIoMyksbz1yKDUpLGE9cig0KSxzPXIoMjIpLHU9cig0KSxjPXIoMjIpLGY9cigzKSxsPXIoMykscD1mdW5jdGlvbih0LGUscil7cmV0dXJuIHRbZV09dFtlXXx8cigpfSxoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlLHIsYSl7dmFyIHU9dGhpczt0aGlzLmNvbmZpZz1hLHRoaXMuX2NhY2hlPXtwYXRoOltdLHBhdHRlcm46bnVsbH0sdGhpcy5fY2hpbGRyZW49W10sdGhpcy5fcGFyYW1zPVtdLHRoaXMuX3NlZ21lbnRzPVtdLHRoaXMuX2NvbXBpbGVkPVtdLHRoaXMucGF0dGVybj1lLHRoaXMuY29uZmlnPWkuZGVmYXVsdHModGhpcy5jb25maWcse3BhcmFtczp7fSxzdHJpY3Q6ITAsY2FzZUluc2Vuc2l0aXZlOiExLHBhcmFtTWFwOmkuaWRlbnRpdHl9KTtmb3IodmFyIGMsZixsLHA9LyhbOipdKShbXFx3XFxbXFxdXSspfFxceyhbXFx3XFxbXFxdXSspKD86XFw6XFxzKigoPzpbXnt9XFxcXF0rfFxcXFwufFxceyg/Oltee31cXFxcXSt8XFxcXC4pKlxcfSkrKSk/XFx9L2csaD0vKFs6XT8pKFtcXHdcXFtcXF0uLV0rKXxcXHsoW1xcd1xcW1xcXS4tXSspKD86XFw6XFxzKigoPzpbXnt9XFxcXF0rfFxcXFwufFxceyg/Oltee31cXFxcXSt8XFxcXC4pKlxcfSkrKSk/XFx9L2csdj0wLGQ9W10sbT1mdW5jdGlvbihyKXtpZighdC5uYW1lVmFsaWRhdG9yLnRlc3QocikpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwYXJhbWV0ZXIgbmFtZSAnXCIrcitcIicgaW4gcGF0dGVybiAnXCIrZStcIidcIik7aWYoaS5maW5kKHUuX3BhcmFtcyxvLnByb3BFcShcImlkXCIscikpKXRocm93IG5ldyBFcnJvcihcIkR1cGxpY2F0ZSBwYXJhbWV0ZXIgbmFtZSAnXCIrcitcIicgaW4gcGF0dGVybiAnXCIrZStcIidcIil9LGc9ZnVuY3Rpb24odCxuKXt2YXIgbz10WzJdfHx0WzNdLGE9bj90WzRdOnRbNF18fChcIipcIj09PXRbMV0/XCIuKlwiOm51bGwpO3JldHVybntpZDpvLHJlZ2V4cDphLGNmZzp1LmNvbmZpZy5wYXJhbXNbb10sc2VnbWVudDplLnN1YnN0cmluZyh2LHQuaW5kZXgpLHR5cGU6YT9yLnR5cGUoYXx8XCJzdHJpbmdcIil8fGkuaW5oZXJpdChyLnR5cGUoXCJzdHJpbmdcIikse3BhdHRlcm46bmV3IFJlZ0V4cChhLHUuY29uZmlnLmNhc2VJbnNlbnNpdGl2ZT9cImlcIjp2b2lkIDApfSk6bnVsbH19OyhjPXAuZXhlYyhlKSkmJihmPWcoYywhMSksIShmLnNlZ21lbnQuaW5kZXhPZihcIj9cIik+PTApKTspbShmLmlkKSx0aGlzLl9wYXJhbXMucHVzaChzLlBhcmFtLmZyb21QYXRoKGYuaWQsZi50eXBlLHRoaXMuY29uZmlnLnBhcmFtTWFwKGYuY2ZnLCExKSxyKSksdGhpcy5fc2VnbWVudHMucHVzaChmLnNlZ21lbnQpLGQucHVzaChbZi5zZWdtZW50LGkudGFpbCh0aGlzLl9wYXJhbXMpXSksdj1wLmxhc3RJbmRleDtsPWUuc3Vic3RyaW5nKHYpO3ZhciB5PWwuaW5kZXhPZihcIj9cIik7aWYoeT49MCl7dmFyIHc9bC5zdWJzdHJpbmcoeSk7aWYobD1sLnN1YnN0cmluZygwLHkpLHcubGVuZ3RoPjApZm9yKHY9MDtjPWguZXhlYyh3KTspZj1nKGMsITApLG0oZi5pZCksdGhpcy5fcGFyYW1zLnB1c2gocy5QYXJhbS5mcm9tU2VhcmNoKGYuaWQsZi50eXBlLHRoaXMuY29uZmlnLnBhcmFtTWFwKGYuY2ZnLCEwKSxyKSksdj1wLmxhc3RJbmRleH10aGlzLl9zZWdtZW50cy5wdXNoKGwpLGkuZXh0ZW5kKHRoaXMse19jb21waWxlZDpkLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gbi5hcHBseShudWxsLHQpfSkuY29uY2F0KG4obCkpLHByZWZpeDp0aGlzLl9zZWdtZW50c1swXX0pLE9iamVjdC5mcmVlemUodGhpcyl9cmV0dXJuIHQucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4ucHVzaCh0KSxpLmZvckVhY2godC5fY2FjaGUsZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5fY2FjaGVbcl09YS5pc0FycmF5KGUpP1tdOm51bGx9KSx0Ll9jYWNoZS5wYXRoPXRoaXMuX2NhY2hlLnBhdGguY29uY2F0KHRoaXMpLHR9LHQucHJvdG90eXBlLmlzUm9vdD1mdW5jdGlvbigpe3JldHVybiAwPT09dGhpcy5fY2FjaGUucGF0aC5sZW5ndGh9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0dGVybn0sdC5wcm90b3R5cGUuZXhlYz1mdW5jdGlvbih0LGUscixuKXtmdW5jdGlvbiBhKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe3JldHVybiB0LnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpfSxyPWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL1xcXFwtL2csXCItXCIpfSxuPWUodCkuc3BsaXQoLy0oPyFcXFxcKS8pLG89aS5tYXAobixlKTtyZXR1cm4gaS5tYXAobyxyKS5yZXZlcnNlKCl9dmFyIHM9dGhpczt2b2lkIDA9PT1lJiYoZT17fSksdm9pZCAwPT09biYmKG49e30pO3ZhciBjPXAodGhpcy5fY2FjaGUsXCJwYXR0ZXJuXCIsZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFJlZ0V4cChbXCJeXCIsaS51bm5lc3Qocy5fY2FjaGUucGF0aC5jb25jYXQocykubWFwKG8ucHJvcChcIl9jb21waWxlZFwiKSkpLmpvaW4oXCJcIikscy5jb25maWcuc3RyaWN0PT09ITE/XCIvP1wiOlwiXCIsXCIkXCJdLmpvaW4oXCJcIikscy5jb25maWcuY2FzZUluc2Vuc2l0aXZlP1wiaVwiOnZvaWQgMCl9KS5leGVjKHQpO2lmKCFjKXJldHVybiBudWxsO3ZhciBmPXRoaXMucGFyYW1ldGVycygpLGw9Zi5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIXQuaXNTZWFyY2goKX0pLGg9Zi5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNTZWFyY2goKX0pLHY9dGhpcy5fY2FjaGUucGF0aC5jb25jYXQodGhpcykubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0Ll9zZWdtZW50cy5sZW5ndGgtMX0pLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0K2V9KSxkPXt9O2lmKHYhPT1jLmxlbmd0aC0xKXRocm93IG5ldyBFcnJvcihcIlVuYmFsYW5jZWQgY2FwdHVyZSBncm91cCBpbiByb3V0ZSAnXCIrdGhpcy5wYXR0ZXJuK1wiJ1wiKTtmb3IodmFyIG09MDttPHY7bSsrKXtmb3IodmFyIGc9bFttXSx5PWNbbSsxXSx3PTA7dzxnLnJlcGxhY2UubGVuZ3RoO3crKylnLnJlcGxhY2Vbd10uZnJvbT09PXkmJih5PWcucmVwbGFjZVt3XS50byk7eSYmZy5hcnJheT09PSEwJiYoeT1hKHkpKSx1LmlzRGVmaW5lZCh5KSYmKHk9Zy50eXBlLmRlY29kZSh5KSksZFtnLmlkXT1nLnZhbHVlKHkpfXJldHVybiBoLmZvckVhY2goZnVuY3Rpb24odCl7Zm9yKHZhciByPWVbdC5pZF0sbj0wO248dC5yZXBsYWNlLmxlbmd0aDtuKyspdC5yZXBsYWNlW25dLmZyb209PT1yJiYocj10LnJlcGxhY2Vbbl0udG8pO3UuaXNEZWZpbmVkKHIpJiYocj10LnR5cGUuZGVjb2RlKHIpKSxkW3QuaWRdPXQudmFsdWUocil9KSxyJiYoZFtcIiNcIl09ciksZH0sdC5wcm90b3R5cGUucGFyYW1ldGVycz1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9e30pLHQuaW5oZXJpdD09PSExP3RoaXMuX3BhcmFtczppLnVubmVzdCh0aGlzLl9jYWNoZS5wYXRoLmNvbmNhdCh0aGlzKS5tYXAoby5wcm9wKFwiX3BhcmFtc1wiKSkpfSx0LnByb3RvdHlwZS5wYXJhbWV0ZXI9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT17fSk7dmFyIHI9aS50YWlsKHRoaXMuX2NhY2hlLnBhdGgpO3JldHVybiBpLmZpbmQodGhpcy5fcGFyYW1zLG8ucHJvcEVxKFwiaWRcIix0KSl8fGUuaW5oZXJpdCE9PSExJiZyJiZyLnBhcmFtZXRlcih0KXx8bnVsbH0sdC5wcm90b3R5cGUudmFsaWRhdGVzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMscj1mdW5jdGlvbih0LGUpe3JldHVybiF0fHx0LnZhbGlkYXRlcyhlKX07cmV0dXJuIGkucGFpcnModHx8e30pLm1hcChmdW5jdGlvbih0KXt2YXIgbj10WzBdLGk9dFsxXTtyZXR1cm4gcihlLnBhcmFtZXRlcihuKSxpKX0pLnJlZHVjZShpLmFsbFRydWVSLCEwKX0sdC5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHIodCl7dmFyIHI9dC52YWx1ZShlW3QuaWRdKSxuPXQuaXNEZWZhdWx0VmFsdWUociksaT0hIW4mJnQuc3F1YXNoLG89dC50eXBlLmVuY29kZShyKTtyZXR1cm57cGFyYW06dCx2YWx1ZTpyLGlzRGVmYXVsdFZhbHVlOm4sc3F1YXNoOmksZW5jb2RlZDpvfX1pZih2b2lkIDA9PT1lJiYoZT17fSksIXRoaXMudmFsaWRhdGVzKGUpKXJldHVybiBudWxsO3ZhciBuPXRoaXMuX2NhY2hlLnBhdGguc2xpY2UoKS5jb25jYXQodGhpcyksbz1uLm1hcCh0LnBhdGhTZWdtZW50c0FuZFBhcmFtcykucmVkdWNlKGYudW5uZXN0UixbXSkscz1uLm1hcCh0LnF1ZXJ5UGFyYW1zKS5yZWR1Y2UoZi51bm5lc3RSLFtdKSx1PW8ucmVkdWNlKGZ1bmN0aW9uKGUsbil7aWYoYS5pc1N0cmluZyhuKSlyZXR1cm4gZStuO3ZhciBvPXIobikscz1vLnNxdWFzaCx1PW8uZW5jb2RlZCxjPW8ucGFyYW07cmV0dXJuIHM9PT0hMD9lLm1hdGNoKC9cXC8kLyk/ZS5zbGljZSgwLC0xKTplOmEuaXNTdHJpbmcocyk/ZStzOnMhPT0hMT9lOm51bGw9PXU/ZTphLmlzQXJyYXkodSk/ZStpLm1hcCh1LHQuZW5jb2RlRGFzaGVzKS5qb2luKFwiLVwiKTpjLnR5cGUucmF3P2UrdTplK2VuY29kZVVSSUNvbXBvbmVudCh1KX0sXCJcIiksYz1zLm1hcChmdW5jdGlvbih0KXt2YXIgZT1yKHQpLG49ZS5zcXVhc2gsbz1lLmVuY29kZWQscz1lLmlzRGVmYXVsdFZhbHVlO2lmKCEobnVsbD09b3x8cyYmbiE9PSExKSYmKGEuaXNBcnJheShvKXx8KG89W29dKSwwIT09by5sZW5ndGgpKXJldHVybiB0LnR5cGUucmF3fHwobz1pLm1hcChvLGVuY29kZVVSSUNvbXBvbmVudCkpLG8ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0LmlkK1wiPVwiK2V9KX0pLmZpbHRlcihpLmlkZW50aXR5KS5yZWR1Y2UoZi51bm5lc3RSLFtdKS5qb2luKFwiJlwiKTtyZXR1cm4gdSsoYz9cIj9cIitjOlwiXCIpKyhlW1wiI1wiXT9cIiNcIitlW1wiI1wiXTpcIlwiKX0sdC5lbmNvZGVEYXNoZXM9ZnVuY3Rpb24odCl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0KS5yZXBsYWNlKC8tL2csZnVuY3Rpb24odCl7cmV0dXJuXCIlNUMlXCIrdC5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpfSl9LHQucGF0aFNlZ21lbnRzQW5kUGFyYW1zPWZ1bmN0aW9uKHQpe3ZhciBlPXQuX3NlZ21lbnRzLHI9dC5fcGFyYW1zLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5sb2NhdGlvbj09PWMuRGVmVHlwZS5QQVRIfSk7cmV0dXJuIGwuYXJyYXlUdXBsZXMoZSxyLmNvbmNhdCh2b2lkIDApKS5yZWR1Y2UoZi51bm5lc3RSLFtdKS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuXCJcIiE9PXQmJnUuaXNEZWZpbmVkKHQpfSl9LHQucXVlcnlQYXJhbXM9ZnVuY3Rpb24odCl7cmV0dXJuIHQuX3BhcmFtcy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQubG9jYXRpb249PT1jLkRlZlR5cGUuU0VBUkNIfSl9LHQubmFtZVZhbGlkYXRvcj0vXlxcdysoWy0uXStcXHcrKSooPzpcXFtcXF0pPyQvLHR9KCk7ZS5VcmxNYXRjaGVyPWh9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3JldHVybiBudWxsIT10P3QudG9TdHJpbmcoKS5yZXBsYWNlKC8ofnxcXC8pL2csZnVuY3Rpb24odCl7cmV0dXJue1wiflwiOlwifn5cIixcIi9cIjpcIn4yRlwifVt0XX0pOnR9ZnVuY3Rpb24gaSh0KXtyZXR1cm4gbnVsbCE9dD90LnRvU3RyaW5nKCkucmVwbGFjZSgvKH5+fH4yRikvZyxmdW5jdGlvbih0KXtyZXR1cm57XCJ+flwiOlwiflwiLFwifjJGXCI6XCIvXCJ9W3RdfSk6dH12YXIgbz1yKDMpLGE9cig0KSxzPXIoNSksdT1yKDYpLGM9cigyNCksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt0aGlzLmVucXVldWU9ITAsdGhpcy50eXBlUXVldWU9W10sdGhpcy5kZWZhdWx0VHlwZXM9e2hhc2g6e2VuY29kZTpuLGRlY29kZTppLGlzOnMuaXMoU3RyaW5nKSxwYXR0ZXJuOi8uKi8sZXF1YWxzOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9PWV9fSxzdHJpbmc6e2VuY29kZTpuLGRlY29kZTppLGlzOnMuaXMoU3RyaW5nKSxwYXR0ZXJuOi9bXlxcL10qL30sXCJpbnRcIjp7ZW5jb2RlOm4sZGVjb2RlOmZ1bmN0aW9uKHQpe3JldHVybiBwYXJzZUludCh0LDEwKX0saXM6ZnVuY3Rpb24odCl7cmV0dXJuIGEuaXNEZWZpbmVkKHQpJiZ0aGlzLmRlY29kZSh0LnRvU3RyaW5nKCkpPT09dH0scGF0dGVybjovLT9cXGQrL30sYm9vbDp7ZW5jb2RlOmZ1bmN0aW9uKHQpe3JldHVybiB0JiYxfHwwfSxkZWNvZGU6ZnVuY3Rpb24odCl7cmV0dXJuIDAhPT1wYXJzZUludCh0LDEwKX0saXM6cy5pcyhCb29sZWFuKSxwYXR0ZXJuOi8wfDEvfSxkYXRlOntlbmNvZGU6ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuaXModCk/W3QuZ2V0RnVsbFllYXIoKSwoXCIwXCIrKHQuZ2V0TW9udGgoKSsxKSkuc2xpY2UoLTIpLChcIjBcIit0LmdldERhdGUoKSkuc2xpY2UoLTIpXS5qb2luKFwiLVwiKTp2b2lkIDB9LGRlY29kZTpmdW5jdGlvbih0KXtpZih0aGlzLmlzKHQpKXJldHVybiB0O3ZhciBlPXRoaXMuY2FwdHVyZS5leGVjKHQpO3JldHVybiBlP25ldyBEYXRlKGVbMV0sZVsyXS0xLGVbM10pOnZvaWQgMH0saXM6ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBEYXRlJiYhaXNOYU4odC52YWx1ZU9mKCkpfSxlcXVhbHM6ZnVuY3Rpb24odCxlKXtyZXR1cm5bXCJnZXRGdWxsWWVhclwiLFwiZ2V0TW9udGhcIixcImdldERhdGVcIl0ucmVkdWNlKGZ1bmN0aW9uKHIsbil7cmV0dXJuIHImJnRbbl0oKT09PWVbbl0oKX0sITApfSxwYXR0ZXJuOi9bMC05XXs0fS0oPzowWzEtOV18MVswLTJdKS0oPzowWzEtOV18WzEtMl1bMC05XXwzWzAtMV0pLyxjYXB0dXJlOi8oWzAtOV17NH0pLSgwWzEtOV18MVswLTJdKS0oMFsxLTldfFsxLTJdWzAtOV18M1swLTFdKS99LGpzb246e2VuY29kZTpvLnRvSnNvbixkZWNvZGU6by5mcm9tSnNvbixpczpzLmlzKE9iamVjdCksZXF1YWxzOm8uZXF1YWxzLHBhdHRlcm46L1teXFwvXSovfSxhbnk6e2VuY29kZTpvLmlkZW50aXR5LGRlY29kZTpvLmlkZW50aXR5LGVxdWFsczpvLmVxdWFscyxwYXR0ZXJuOi8uKi99fTt2YXIgdD1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgYy5QYXJhbVR5cGUoby5leHRlbmQoe25hbWU6ZX0sdCkpfTt0aGlzLnR5cGVzPW8uaW5oZXJpdChvLm1hcCh0aGlzLmRlZmF1bHRUeXBlcyx0KSx7fSl9cmV0dXJuIHQucHJvdG90eXBlLnR5cGU9ZnVuY3Rpb24odCxlLHIpe2lmKCFhLmlzRGVmaW5lZChlKSlyZXR1cm4gdGhpcy50eXBlc1t0XTtpZih0aGlzLnR5cGVzLmhhc093blByb3BlcnR5KHQpKXRocm93IG5ldyBFcnJvcihcIkEgdHlwZSBuYW1lZCAnXCIrdCtcIicgaGFzIGFscmVhZHkgYmVlbiBkZWZpbmVkLlwiKTtyZXR1cm4gdGhpcy50eXBlc1t0XT1uZXcgYy5QYXJhbVR5cGUoby5leHRlbmQoe25hbWU6dH0sZSkpLHImJih0aGlzLnR5cGVRdWV1ZS5wdXNoKHtuYW1lOnQsZGVmOnJ9KSx0aGlzLmVucXVldWV8fHRoaXMuX2ZsdXNoVHlwZVF1ZXVlKCkpLHRoaXN9LHQucHJvdG90eXBlLl9mbHVzaFR5cGVRdWV1ZT1mdW5jdGlvbigpe2Zvcig7dGhpcy50eXBlUXVldWUubGVuZ3RoOyl7dmFyIHQ9dGhpcy50eXBlUXVldWUuc2hpZnQoKTtpZih0LnBhdHRlcm4pdGhyb3cgbmV3IEVycm9yKFwiWW91IGNhbm5vdCBvdmVycmlkZSBhIHR5cGUncyAucGF0dGVybiBhdCBydW50aW1lLlwiKTtvLmV4dGVuZCh0aGlzLnR5cGVzW3QubmFtZV0sdS5zZXJ2aWNlcy4kaW5qZWN0b3IuaW52b2tlKHQuZGVmKSl9fSx0fSgpO2UuUGFyYW1UeXBlcz1mfSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXt2YXIgZT0vXlxcXigoPzpcXFxcW15hLXpBLVowLTldfFteXFxcXFxcW1xcXVxcXiQqKz8uKCl8e31dKykqKS8uZXhlYyh0LnNvdXJjZSk7cmV0dXJuIG51bGwhPWU/ZVsxXS5yZXBsYWNlKC9cXFxcKC4pL2csXCIkMVwiKTpcIlwifWZ1bmN0aW9uIGkodCxlKXtyZXR1cm4gdC5yZXBsYWNlKC9cXCQoXFwkfFxcZHsxLDJ9KS8sZnVuY3Rpb24odCxyKXtyZXR1cm4gZVtcIiRcIj09PXI/MDpOdW1iZXIocildfSl9ZnVuY3Rpb24gbyh0LGUscixuKXtpZighbilyZXR1cm4hMTt2YXIgaT10Lmludm9rZShyLHIseyRtYXRjaDpuLCRzdGF0ZVBhcmFtczplfSk7cmV0dXJuIWMuaXNEZWZpbmVkKGkpfHxpfWZ1bmN0aW9uIGEodCxlLHIpe3ZhciBuPWYuc2VydmljZXMubG9jYXRpb25Db25maWcuYmFzZUhyZWYoKTtyZXR1cm5cIi9cIj09PW4/dDplP24uc2xpY2UoMCwtMSkrdDpyP24uc2xpY2UoMSkrdDp0fWZ1bmN0aW9uIHModCxlLHIpe2Z1bmN0aW9uIG4odCl7dmFyIGU9dChmLnNlcnZpY2VzLiRpbmplY3RvcixsKTtyZXR1cm4hIWUmJihjLmlzU3RyaW5nKGUpJiZsLnNldFVybChlLCEwKSwhMCl9aWYoIXJ8fCFyLmRlZmF1bHRQcmV2ZW50ZWQpe2Zvcih2YXIgaT10Lmxlbmd0aCxvPTA7bzxpO28rKylpZihuKHRbb10pKXJldHVybjtlJiZuKGUpfX12YXIgdT1yKDMpLGM9cig0KSxmPXIoNiksbD1mLnNlcnZpY2VzLmxvY2F0aW9uLHA9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5ydWxlcz1bXSx0aGlzLmludGVyY2VwdERlZmVycmVkPSExLHRoaXMuJHVybE1hdGNoZXJGYWN0b3J5PXQsdGhpcy4kc3RhdGVQYXJhbXM9ZX1yZXR1cm4gdC5wcm90b3R5cGUucnVsZT1mdW5jdGlvbih0KXtpZighYy5pc0Z1bmN0aW9uKHQpKXRocm93IG5ldyBFcnJvcihcIidydWxlJyBtdXN0IGJlIGEgZnVuY3Rpb25cIik7cmV0dXJuIHRoaXMucnVsZXMucHVzaCh0KSx0aGlzfSx0LnByb3RvdHlwZS5yZW1vdmVSdWxlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJ1bGVzLmxlbmd0aCE9PXUucmVtb3ZlRnJvbSh0aGlzLnJ1bGVzLHQpLmxlbmd0aH0sdC5wcm90b3R5cGUub3RoZXJ3aXNlPWZ1bmN0aW9uKHQpe2lmKCFjLmlzRnVuY3Rpb24odCkmJiFjLmlzU3RyaW5nKHQpKXRocm93IG5ldyBFcnJvcihcIidydWxlJyBtdXN0IGJlIGEgc3RyaW5nIG9yIGZ1bmN0aW9uXCIpO3JldHVybiB0aGlzLm90aGVyd2lzZUZuPWMuaXNTdHJpbmcodCk/ZnVuY3Rpb24oKXtyZXR1cm4gdH06dCx0aGlzfSx0LnByb3RvdHlwZS53aGVuPWZ1bmN0aW9uKHQsZSxyKXt2b2lkIDA9PT1yJiYocj1mdW5jdGlvbih0KXt9KTt2YXIgYSxzPXRoaXMscD1zLiR1cmxNYXRjaGVyRmFjdG9yeSxoPXMuJHN0YXRlUGFyYW1zLHY9Yy5pc1N0cmluZyhlKTtpZihjLmlzU3RyaW5nKHQpJiYodD1wLmNvbXBpbGUodCkpLCF2JiYhYy5pc0Z1bmN0aW9uKGUpJiYhYy5pc0FycmF5KGUpKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgJ2hhbmRsZXInIGluIHdoZW4oKVwiKTt2YXIgZD17bWF0Y2hlcjpmdW5jdGlvbih0LGUpe3JldHVybiB2JiYoYT1wLmNvbXBpbGUoZSksZT1bXCIkbWF0Y2hcIixhLmZvcm1hdC5iaW5kKGEpXSksdS5leHRlbmQoZnVuY3Rpb24oKXtyZXR1cm4gbyhmLnNlcnZpY2VzLiRpbmplY3RvcixoLGUsdC5leGVjKGwucGF0aCgpLGwuc2VhcmNoKCksbC5oYXNoKCkpKX0se3ByZWZpeDpjLmlzU3RyaW5nKHQucHJlZml4KT90LnByZWZpeDpcIlwifSl9LHJlZ2V4OmZ1bmN0aW9uKHQsZSl7aWYodC5nbG9iYWx8fHQuc3RpY2t5KXRocm93IG5ldyBFcnJvcihcIndoZW4oKSBSZWdFeHAgbXVzdCBub3QgYmUgZ2xvYmFsIG9yIHN0aWNreVwiKTtyZXR1cm4gdiYmKGE9ZSxlPVtcIiRtYXRjaFwiLGZ1bmN0aW9uKHQpe3JldHVybiBpKGEsdCl9XSksdS5leHRlbmQoZnVuY3Rpb24oKXtyZXR1cm4gbyhmLnNlcnZpY2VzLiRpbmplY3RvcixoLGUsdC5leGVjKGwucGF0aCgpKSl9LHtwcmVmaXg6bih0KX0pfX0sbT17bWF0Y2hlcjpwLmlzTWF0Y2hlcih0KSxyZWdleDp0IGluc3RhbmNlb2YgUmVnRXhwfTtmb3IodmFyIGcgaW4gbSlpZihtW2ddKXt2YXIgeT1kW2ddKHQsZSk7cmV0dXJuIHIoeSksdGhpcy5ydWxlKHkpfXRocm93IG5ldyBFcnJvcihcImludmFsaWQgJ3doYXQnIGluIHdoZW4oKVwiKX0sdC5wcm90b3R5cGUuZGVmZXJJbnRlcmNlcHQ9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9ITApLHRoaXMuaW50ZXJjZXB0RGVmZXJyZWQ9dH0sdH0oKTtlLlVybFJvdXRlclByb3ZpZGVyPXA7dmFyIGg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3RoaXMudXJsUm91dGVyUHJvdmlkZXI9ZSx1LmJpbmRGdW5jdGlvbnModC5wcm90b3R5cGUsdGhpcyx0aGlzKX1yZXR1cm4gdC5wcm90b3R5cGUuc3luYz1mdW5jdGlvbigpe3ModGhpcy51cmxSb3V0ZXJQcm92aWRlci5ydWxlcyx0aGlzLnVybFJvdXRlclByb3ZpZGVyLm90aGVyd2lzZUZuKX0sdC5wcm90b3R5cGUubGlzdGVuPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcztyZXR1cm4gdGhpcy5saXN0ZW5lcj10aGlzLmxpc3RlbmVyfHxsLm9uQ2hhbmdlKGZ1bmN0aW9uKGUpe3JldHVybiBzKHQudXJsUm91dGVyUHJvdmlkZXIucnVsZXMsdC51cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2VGbixlKX0pfSx0LnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dm9pZCh0aGlzLmxvY2F0aW9uPWwucGF0aCgpKTp2b2lkKGwucGF0aCgpIT09dGhpcy5sb2NhdGlvbiYmbC5zZXRVcmwodGhpcy5sb2NhdGlvbiwhMCkpfSx0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1yJiYhIXIucmVwbGFjZTtsLnNldFVybCh0LmZvcm1hdChlfHx7fSksbil9LHQucHJvdG90eXBlLmhyZWY9ZnVuY3Rpb24odCxlLHIpe2lmKCF0LnZhbGlkYXRlcyhlKSlyZXR1cm4gbnVsbDt2YXIgbj10LmZvcm1hdChlKTtyPXJ8fHthYnNvbHV0ZTohMX07dmFyIGk9Zi5zZXJ2aWNlcy5sb2NhdGlvbkNvbmZpZyxvPWkuaHRtbDVNb2RlKCk7aWYob3x8bnVsbD09PW58fChuPVwiI1wiK2kuaGFzaFByZWZpeCgpK24pLG49YShuLG8sci5hYnNvbHV0ZSksIXIuYWJzb2x1dGV8fCFuKXJldHVybiBuO3ZhciBzPSFvJiZuP1wiL1wiOlwiXCIsdT1pLnBvcnQoKTtyZXR1cm4gdT04MD09PXV8fDQ0Mz09PXU/XCJcIjpcIjpcIit1LFtpLnByb3RvY29sKCksXCI6Ly9cIixpLmhvc3QoKSx1LHMsbl0uam9pbihcIlwiKX0sdH0oKTtlLlVybFJvdXRlcj1ofSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigxMSksaT1yKDE1KSxvPXIoMzEpLGE9cigzMikscz1yKDMzKSx1PXIoMzQpLGM9cigzNSksZj1yKDM2KTtlLmRlZmF1bHRUcmFuc09wdHM9e2xvY2F0aW9uOiEwLHJlbGF0aXZlOm51bGwsaW5oZXJpdDohMSxub3RpZnk6ITAscmVsb2FkOiExLGN1c3RvbTp7fSxjdXJyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHNvdXJjZTpcInVua25vd25cIn07dmFyIGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JvdXRlcj10LHRoaXMuJHZpZXc9dC52aWV3U2VydmljZSxpLkhvb2tSZWdpc3RyeS5taXhpbihuZXcgaS5Ib29rUmVnaXN0cnksdGhpcyksdGhpcy5fZGVyZWdpc3Rlckhvb2tGbnM9e30sdGhpcy5yZWdpc3RlclRyYW5zaXRpb25Ib29rcygpfXJldHVybiB0LnByb3RvdHlwZS5yZWdpc3RlclRyYW5zaXRpb25Ib29rcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2RlcmVnaXN0ZXJIb29rRm5zO3QucmVkaXJlY3RUbz11LnJlZ2lzdGVyUmVkaXJlY3RUb0hvb2sodGhpcyksdC5vbkV4aXQ9Yy5yZWdpc3Rlck9uRXhpdEhvb2sodGhpcyksdC5vblJldGFpbj1jLnJlZ2lzdGVyT25SZXRhaW5Ib29rKHRoaXMpLHQub25FbnRlcj1jLnJlZ2lzdGVyT25FbnRlckhvb2sodGhpcyksdC5lYWdlclJlc29sdmU9by5yZWdpc3RlckVhZ2VyUmVzb2x2ZVBhdGgodGhpcyksdC5sYXp5UmVzb2x2ZT1vLnJlZ2lzdGVyTGF6eVJlc29sdmVTdGF0ZSh0aGlzKSx0LmxvYWRWaWV3cz1hLnJlZ2lzdGVyTG9hZEVudGVyaW5nVmlld3ModGhpcyksdC5hY3RpdmF0ZVZpZXdzPWEucmVnaXN0ZXJBY3RpdmF0ZVZpZXdzKHRoaXMpLHQudXBkYXRlVXJsPXMucmVnaXN0ZXJVcGRhdGVVcmwodGhpcyksdC5sYXp5TG9hZD1mLnJlZ2lzdGVyTGF6eUxvYWRIb29rKHRoaXMpfSx0LnByb3RvdHlwZS5vbkJlZm9yZT1mdW5jdGlvbih0LGUscil7dGhyb3dcIlwifSx0LnByb3RvdHlwZS5vblN0YXJ0PWZ1bmN0aW9uKHQsZSxyKXt0aHJvd1wiXCJ9LHQucHJvdG90eXBlLm9uRXhpdD1mdW5jdGlvbih0LGUscil7dGhyb3dcIlwifSx0LnByb3RvdHlwZS5vblJldGFpbj1mdW5jdGlvbih0LGUscil7dGhyb3dcIlwifSx0LnByb3RvdHlwZS5vbkVudGVyPWZ1bmN0aW9uKHQsZSxyKXt0aHJvd1wiXCJ9LHQucHJvdG90eXBlLm9uRmluaXNoPWZ1bmN0aW9uKHQsZSxyKXt0aHJvd1wiXCJ9LHQucHJvdG90eXBlLm9uU3VjY2Vzcz1mdW5jdGlvbih0LGUscil7dGhyb3dcIlwifSx0LnByb3RvdHlwZS5vbkVycm9yPWZ1bmN0aW9uKHQsZSxyKXt0aHJvd1wiXCJ9LHQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgbi5UcmFuc2l0aW9uKHQsZSx0aGlzLl9yb3V0ZXIpfSx0fSgpO2UuVHJhbnNpdGlvblNlcnZpY2U9bH0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMyksaT1yKDE3KSxvPXIoNSksYT1mdW5jdGlvbih0KXtyZXR1cm4gbmV3IGkuUmVzb2x2ZUNvbnRleHQodC50cmVlQ2hhbmdlcygpLnRvKS5yZXNvbHZlUGF0aChcIkVBR0VSXCIsdCkudGhlbihuLm5vb3ApfTtlLnJlZ2lzdGVyRWFnZXJSZXNvbHZlUGF0aD1mdW5jdGlvbih0KXtyZXR1cm4gdC5vblN0YXJ0KHt9LGEse3ByaW9yaXR5OjFlM30pfTt2YXIgcz1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgaS5SZXNvbHZlQ29udGV4dCh0LnRyZWVDaGFuZ2VzKCkudG8pLnN1YkNvbnRleHQoZSkucmVzb2x2ZVBhdGgoXCJMQVpZXCIsdCkudGhlbihuLm5vb3ApfTtlLnJlZ2lzdGVyTGF6eVJlc29sdmVTdGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5vbkVudGVyKHtlbnRlcmluZzpvLnZhbCghMCl9LHMse3ByaW9yaXR5OjFlM30pfX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMyksaT1yKDYpLG89ZnVuY3Rpb24odCl7dmFyIGU9dC52aWV3cyhcImVudGVyaW5nXCIpO2lmKGUubGVuZ3RoKXJldHVybiBpLnNlcnZpY2VzLiRxLmFsbChlLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5sb2FkKCl9KSkudGhlbihuLm5vb3ApfTtlLnJlZ2lzdGVyTG9hZEVudGVyaW5nVmlld3M9ZnVuY3Rpb24odCl7cmV0dXJuIHQub25TdGFydCh7fSxvKX07dmFyIGE9ZnVuY3Rpb24odCl7dmFyIGU9dC52aWV3cyhcImVudGVyaW5nXCIpLHI9dC52aWV3cyhcImV4aXRpbmdcIik7aWYoZS5sZW5ndGh8fHIubGVuZ3RoKXt2YXIgbj10LnJvdXRlci52aWV3U2VydmljZTtyLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIG4uZGVhY3RpdmF0ZVZpZXdDb25maWcodCl9KSxlLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIG4uYWN0aXZhdGVWaWV3Q29uZmlnKHQpfSksbi5zeW5jKCl9fTtlLnJlZ2lzdGVyQWN0aXZhdGVWaWV3cz1mdW5jdGlvbih0KXtyZXR1cm4gdC5vblN1Y2Nlc3Moe30sYSl9fSxmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO3ZhciByPWZ1bmN0aW9uKHQpe3ZhciBlPXQub3B0aW9ucygpLHI9dC5yb3V0ZXIuc3RhdGVTZXJ2aWNlLG49dC5yb3V0ZXIudXJsUm91dGVyO2lmKFwidXJsXCIhPT1lLnNvdXJjZSYmZS5sb2NhdGlvbiYmci4kY3VycmVudC5uYXZpZ2FibGUpe3ZhciBpPXtyZXBsYWNlOlwicmVwbGFjZVwiPT09ZS5sb2NhdGlvbn07bi5wdXNoKHIuJGN1cnJlbnQubmF2aWdhYmxlLnVybCxyLnBhcmFtcyxpKX1uLnVwZGF0ZSghMCl9O2UucmVnaXN0ZXJVcGRhdGVVcmw9ZnVuY3Rpb24odCl7cmV0dXJuIHQub25TdWNjZXNzKHt9LHIse3ByaW9yaXR5Ojk5OTl9KX19LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDQpLGk9cig2KSxvPXIoMTQpLGE9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXt2YXIgcj10LnJvdXRlci5zdGF0ZVNlcnZpY2U7cmV0dXJuIGUgaW5zdGFuY2VvZiBvLlRhcmdldFN0YXRlP2U6bi5pc1N0cmluZyhlKT9yLnRhcmdldChlLHQucGFyYW1zKCksdC5vcHRpb25zKCkpOmUuc3RhdGV8fGUucGFyYW1zP3IudGFyZ2V0KGUuc3RhdGV8fHQudG8oKSxlLnBhcmFtc3x8dC5wYXJhbXMoKSx0Lm9wdGlvbnMoKSk6dm9pZCAwfXZhciByPXQudG8oKS5yZWRpcmVjdFRvO2lmKHIpcmV0dXJuIG4uaXNGdW5jdGlvbihyKT9pLnNlcnZpY2VzLiRxLndoZW4ocih0KSkudGhlbihlKTplKHIpfTtlLnJlZ2lzdGVyUmVkaXJlY3RUb0hvb2s9ZnVuY3Rpb24odCl7cmV0dXJuIHQub25TdGFydCh7dG86ZnVuY3Rpb24odCl7cmV0dXJuISF0LnJlZGlyZWN0VG99fSxhKX19LGZ1bmN0aW9uKHQsZSl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4gZnVuY3Rpb24oZSxyKXt2YXIgbj1yW3RdO3JldHVybiBuKGUscil9fXZhciBuPXIoXCJvbkV4aXRcIik7ZS5yZWdpc3Rlck9uRXhpdEhvb2s9ZnVuY3Rpb24odCl7cmV0dXJuIHQub25FeGl0KHtleGl0aW5nOmZ1bmN0aW9uKHQpe3JldHVybiEhdC5vbkV4aXR9fSxuKX07dmFyIGk9cihcIm9uUmV0YWluXCIpO2UucmVnaXN0ZXJPblJldGFpbkhvb2s9ZnVuY3Rpb24odCl7cmV0dXJuIHQub25SZXRhaW4oe3JldGFpbmVkOmZ1bmN0aW9uKHQpe3JldHVybiEhdC5vblJldGFpbn19LGkpfTt2YXIgbz1yKFwib25FbnRlclwiKTtlLnJlZ2lzdGVyT25FbnRlckhvb2s9ZnVuY3Rpb24odCl7cmV0dXJuIHQub25FbnRlcih7ZW50ZXJpbmc6ZnVuY3Rpb24odCl7cmV0dXJuISF0Lm9uRW50ZXJ9fSxvKX19LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDYpLGk9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZSgpe2lmKFwidXJsXCI9PT10Lm9wdGlvbnMoKS5zb3VyY2Upe3ZhciBlPW4uc2VydmljZXMubG9jYXRpb24scj1lLnBhdGgoKSxpPWUuc2VhcmNoKCksYT1lLmhhc2goKSxzPWZ1bmN0aW9uKHQpe3JldHVyblt0LHQudXJsJiZ0LnVybC5leGVjKHIsaSxhKV19LHU9by5nZXQoKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuJCRzdGF0ZSgpfSkubWFwKHMpLmZpbHRlcihmdW5jdGlvbih0KXt2YXIgZT0odFswXSx0WzFdKTtyZXR1cm4hIWV9KTtpZih1Lmxlbmd0aCl7dmFyIGM9dVswXSxmPWNbMF0sbD1jWzFdO3JldHVybiB0LnJvdXRlci5zdGF0ZVNlcnZpY2UudGFyZ2V0KGYsbCx0Lm9wdGlvbnMoKSl9dC5yb3V0ZXIudXJsUm91dGVyLnN5bmMoKX12YXIgcD10LnRhcmdldFN0YXRlKCk7cmV0dXJuIHQucm91dGVyLnN0YXRlU2VydmljZS50YXJnZXQocC5pZGVudGlmaWVyKCkscC5wYXJhbXMoKSxwLm9wdGlvbnMoKSl9ZnVuY3Rpb24gcihlKXtvLmRlcmVnaXN0ZXIodC4kdG8oKSksZSYmQXJyYXkuaXNBcnJheShlLnN0YXRlcykmJmUuc3RhdGVzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIG8ucmVnaXN0ZXIodCl9KX12YXIgaT10LnRvKCksbz10LnJvdXRlci5zdGF0ZVJlZ2lzdHJ5LGE9aS5sYXp5TG9hZCxzPWEuX3Byb21pc2U7aWYoIXMpe3M9YS5fcHJvbWlzZT1hKHQpLnRoZW4ocik7dmFyIHU9ZnVuY3Rpb24oKXtyZXR1cm4gZGVsZXRlIGEuX3Byb21pc2V9O3MudGhlbih1LHUpfXJldHVybiBzLnRoZW4oZSl9O2UucmVnaXN0ZXJMYXp5TG9hZEhvb2s9ZnVuY3Rpb24odCl7cmV0dXJuIHQub25CZWZvcmUoe3RvOmZ1bmN0aW9uKHQpe3JldHVybiEhdC5sYXp5TG9hZH19LGkpfX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMyksaT1yKDUpLG89cig0KSxhPXIoMTIpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIHQ9dGhpczt0aGlzLnVpVmlld3M9W10sdGhpcy52aWV3Q29uZmlncz1bXSx0aGlzLl92aWV3Q29uZmlnRmFjdG9yaWVzPXt9LHRoaXMuc3luYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7cmV0dXJuIHQuZnFuLnNwbGl0KFwiLlwiKS5sZW5ndGh9ZnVuY3Rpb24gcih0KXtmb3IodmFyIGU9dC52aWV3RGVjbC4kY29udGV4dCxyPTA7KytyJiZlLnBhcmVudDspZT1lLnBhcmVudDtyZXR1cm4gcn12YXIgbz10LnVpVmlld3MubWFwKGZ1bmN0aW9uKHQpe3JldHVyblt0LmZxbix0XX0pLnJlZHVjZShuLmFwcGx5UGFpcnMse30pLGE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKHQuJHR5cGUhPT1lLnZpZXdEZWNsLiR0eXBlKXJldHVybiExO3ZhciByPWUudmlld0RlY2wsaT1yLiR1aVZpZXdOYW1lLnNwbGl0KFwiLlwiKSxhPXQuZnFuLnNwbGl0KFwiLlwiKTtpZighbi5lcXVhbHMoaSxhLnNsaWNlKDAtaS5sZW5ndGgpKSlyZXR1cm4hMTt2YXIgcz0xLWkubGVuZ3RofHx2b2lkIDAsdT1hLnNsaWNlKDAscykuam9pbihcIi5cIiksYz1vW3VdLmNyZWF0aW9uQ29udGV4dDtyZXR1cm4gci4kdWlWaWV3Q29udGV4dEFuY2hvcj09PShjJiZjLm5hbWUpfX0scz1pLmN1cnJ5KGZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBlKih0KHIpLXQobikpfSksdT1mdW5jdGlvbihlKXt2YXIgbj10LnZpZXdDb25maWdzLmZpbHRlcihhKGUpKTtyZXR1cm4gbi5sZW5ndGg+MSYmbi5zb3J0KHMociwtMSkpLFtlLG5bMF1dfSxjPWZ1bmN0aW9uKGUpe3ZhciByPWVbMF0sbj1lWzFdO3QudWlWaWV3cy5pbmRleE9mKHIpIT09LTEmJnIuY29uZmlnVXBkYXRlZChuKX07dC51aVZpZXdzLnNvcnQocyhlLDEpKS5tYXAodSkuZm9yRWFjaChjKX19cmV0dXJuIHQucHJvdG90eXBlLnJvb3RDb250ZXh0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yb290Q29udGV4dD10fHx0aGlzLl9yb290Q29udGV4dH0sdC5wcm90b3R5cGUudmlld0NvbmZpZ0ZhY3Rvcnk9ZnVuY3Rpb24odCxlKXt0aGlzLl92aWV3Q29uZmlnRmFjdG9yaWVzW3RdPWV9LHQucHJvdG90eXBlLmNyZWF0ZVZpZXdDb25maWc9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLl92aWV3Q29uZmlnRmFjdG9yaWVzW2UuJHR5cGVdO2lmKCFyKXRocm93IG5ldyBFcnJvcihcIlZpZXdTZXJ2aWNlOiBObyB2aWV3IGNvbmZpZyBmYWN0b3J5IHJlZ2lzdGVyZWQgZm9yIHR5cGUgXCIrZS4kdHlwZSk7dmFyIG49cih0LGUpO3JldHVybiBvLmlzQXJyYXkobik/bjpbbl19LHQucHJvdG90eXBlLmRlYWN0aXZhdGVWaWV3Q29uZmlnPWZ1bmN0aW9uKHQpe2EudHJhY2UudHJhY2VWaWV3U2VydmljZUV2ZW50KFwiPC0gUmVtb3ZpbmdcIix0KSxuLnJlbW92ZUZyb20odGhpcy52aWV3Q29uZmlncyx0KX0sdC5wcm90b3R5cGUuYWN0aXZhdGVWaWV3Q29uZmlnPWZ1bmN0aW9uKHQpe2EudHJhY2UudHJhY2VWaWV3U2VydmljZUV2ZW50KFwiLT4gUmVnaXN0ZXJpbmdcIix0KSx0aGlzLnZpZXdDb25maWdzLnB1c2godCl9LHQucHJvdG90eXBlLnJlZ2lzdGVyVUlWaWV3PWZ1bmN0aW9uKHQpe2EudHJhY2UudHJhY2VWaWV3U2VydmljZVVJVmlld0V2ZW50KFwiLT4gUmVnaXN0ZXJpbmdcIix0KTt2YXIgZT10aGlzLnVpVmlld3Mscj1mdW5jdGlvbihlKXtyZXR1cm4gZS5mcW49PT10LmZxbn07cmV0dXJuIGUuZmlsdGVyKHIpLmxlbmd0aCYmYS50cmFjZS50cmFjZVZpZXdTZXJ2aWNlVUlWaWV3RXZlbnQoXCIhISEhIGR1cGxpY2F0ZSB1aVZpZXcgbmFtZWQ6XCIsdCksZS5wdXNoKHQpLHRoaXMuc3luYygpLGZ1bmN0aW9uKCl7dmFyIHI9ZS5pbmRleE9mKHQpO3JldHVybiByPT09LTE/dm9pZCBhLnRyYWNlLnRyYWNlVmlld1NlcnZpY2VVSVZpZXdFdmVudChcIlRyaWVkIHJlbW92aW5nIG5vbi1yZWdpc3RlcmVkIHVpVmlld1wiLHQpOihhLnRyYWNlLnRyYWNlVmlld1NlcnZpY2VVSVZpZXdFdmVudChcIjwtIERlcmVnaXN0ZXJpbmdcIix0KSx2b2lkIG4ucmVtb3ZlRnJvbShlKSh0KSl9fSx0LnByb3RvdHlwZS5hdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51aVZpZXdzLm1hcChpLnByb3AoXCJmcW5cIikpfSx0LnByb3RvdHlwZS5hY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51aVZpZXdzLmZpbHRlcihpLnByb3AoXCIkY29uZmlnXCIpKS5tYXAoaS5wcm9wKFwibmFtZVwiKSl9LHQubm9ybWFsaXplVUlWaWV3VGFyZ2V0PWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9XCJcIik7dmFyIHI9ZS5zcGxpdChcIkBcIiksbj1yWzBdfHxcIiRkZWZhdWx0XCIsaT1vLmlzU3RyaW5nKHJbMV0pP3JbMV06XCJeXCIsYT0vXihcXF4oPzpcXC5cXF4pKilcXC4oLiokKS8uZXhlYyhuKTthJiYoaT1hWzFdLG49YVsyXSksXCIhXCI9PT1uLmNoYXJBdCgwKSYmKG49bi5zdWJzdHIoMSksaT1cIlwiKTt2YXIgcz0vXihcXF4oPzpcXC5cXF4pKikkLztpZihzLmV4ZWMoaSkpe3ZhciB1PWkuc3BsaXQoXCIuXCIpLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0LnBhcmVudH0sdCk7aT11Lm5hbWV9cmV0dXJue3VpVmlld05hbWU6bix1aVZpZXdDb250ZXh0QW5jaG9yOml9fSx0fSgpO2UuVmlld1NlcnZpY2U9c30sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoMzkpLGk9cig0MCksbz1yKDQxKSxhPXIoMykscz1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt0aGlzLnVybFJvdXRlclByb3ZpZGVyPWUsdGhpcy5zdGF0ZXM9e30sdGhpcy5saXN0ZW5lcnM9W10sdGhpcy5tYXRjaGVyPW5ldyBuLlN0YXRlTWF0Y2hlcih0aGlzLnN0YXRlcyksdGhpcy5idWlsZGVyPW5ldyBpLlN0YXRlQnVpbGRlcih0aGlzLm1hdGNoZXIsdCksdGhpcy5zdGF0ZVF1ZXVlPW5ldyBvLlN0YXRlUXVldWVNYW5hZ2VyKHRoaXMuc3RhdGVzLHRoaXMuYnVpbGRlcixlLHRoaXMubGlzdGVuZXJzKTtcbnZhciByPXtuYW1lOlwiXCIsdXJsOlwiXlwiLHZpZXdzOm51bGwscGFyYW1zOntcIiNcIjp7dmFsdWU6bnVsbCx0eXBlOlwiaGFzaFwiLGR5bmFtaWM6ITB9fSxcImFic3RyYWN0XCI6ITB9LGE9dGhpcy5fcm9vdD10aGlzLnN0YXRlUXVldWUucmVnaXN0ZXIocik7YS5uYXZpZ2FibGU9bnVsbH1yZXR1cm4gdC5wcm90b3R5cGUub25TdGF0ZXNDaGFuZ2VkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmxpc3RlbmVycy5wdXNoKHQpLGZ1bmN0aW9uKCl7YS5yZW1vdmVGcm9tKHRoaXMubGlzdGVuZXJzKSh0KX0uYmluZCh0aGlzKX0sdC5wcm90b3R5cGUucm9vdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb290fSx0LnByb3RvdHlwZS5yZWdpc3Rlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGF0ZVF1ZXVlLnJlZ2lzdGVyKHQpfSx0LnByb3RvdHlwZS5fZGVyZWdpc3RlclRyZWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxyPXRoaXMuZ2V0KCkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LiQkc3RhdGUoKX0pLG49ZnVuY3Rpb24odCl7dmFyIGU9ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHQuaW5kZXhPZihlLnBhcmVudCkhPT0tMX0pO3JldHVybiAwPT09ZS5sZW5ndGg/ZTplLmNvbmNhdChuKGUpKX0saT1uKFt0XSksbz1bdF0uY29uY2F0KGkpLnJldmVyc2UoKTtyZXR1cm4gby5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UudXJsUm91dGVyUHJvdmlkZXIucmVtb3ZlUnVsZSh0Ll91cmxSdWxlKSxkZWxldGUgZS5zdGF0ZXNbdC5uYW1lXX0pLG99LHQucHJvdG90eXBlLmRlcmVnaXN0ZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5nZXQodCk7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgZGVyZWdpc3RlciBzdGF0ZTsgbm90IGZvdW5kOiBcIit0KTt2YXIgcj10aGlzLl9kZXJlZ2lzdGVyVHJlZShlLiQkc3RhdGUoKSk7cmV0dXJuIHRoaXMubGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQoXCJkZXJlZ2lzdGVyZWRcIixyLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5zZWxmfSkpfSkscn0sdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcztpZigwPT09YXJndW1lbnRzLmxlbmd0aClyZXR1cm4gT2JqZWN0LmtleXModGhpcy5zdGF0ZXMpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gci5zdGF0ZXNbdF0uc2VsZn0pO3ZhciBuPXRoaXMubWF0Y2hlci5maW5kKHQsZSk7cmV0dXJuIG4mJm4uc2VsZnx8bnVsbH0sdC5wcm90b3R5cGUuZGVjb3JhdG9yPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuYnVpbGRlci5idWlsZGVyKHQsZSl9LHR9KCk7ZS5TdGF0ZVJlZ2lzdHJ5PXN9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDQpLGk9cig3KSxvPXIoMyksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fc3RhdGVzPXR9cmV0dXJuIHQucHJvdG90eXBlLmlzUmVsYXRpdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHQ9dHx8XCJcIiwwPT09dC5pbmRleE9mKFwiLlwiKXx8MD09PXQuaW5kZXhPZihcIl5cIil9LHQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24odCxlKXtpZih0fHxcIlwiPT09dCl7dmFyIHI9bi5pc1N0cmluZyh0KSxhPXI/dDp0Lm5hbWU7dGhpcy5pc1JlbGF0aXZlKGEpJiYoYT10aGlzLnJlc29sdmVQYXRoKGEsZSkpO3ZhciBzPXRoaXMuX3N0YXRlc1thXTtpZihzJiYocnx8IShyfHxzIT09dCYmcy5zZWxmIT09dCkpKXJldHVybiBzO2lmKHIpe3ZhciB1PW8udmFsdWVzKHRoaXMuX3N0YXRlcykuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgaS5HbG9iKHQubmFtZSkubWF0Y2hlcyhhKX0pO3JldHVybiB1Lmxlbmd0aD4xJiZjb25zb2xlLmxvZyhcInN0YXRlTWF0Y2hlci5maW5kOiBGb3VuZCBtdWx0aXBsZSBtYXRjaGVzIGZvciBcIithK1wiIHVzaW5nIGdsb2I6IFwiLHUubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWV9KSksdVswXX19fSx0LnByb3RvdHlwZS5yZXNvbHZlUGF0aD1mdW5jdGlvbih0LGUpe2lmKCFlKXRocm93IG5ldyBFcnJvcihcIk5vIHJlZmVyZW5jZSBwb2ludCBnaXZlbiBmb3IgcGF0aCAnXCIrdCtcIidcIik7Zm9yKHZhciByPXRoaXMuZmluZChlKSxuPXQuc3BsaXQoXCIuXCIpLGk9MCxvPW4ubGVuZ3RoLGE9cjtpPG87aSsrKWlmKFwiXCIhPT1uW2ldfHwwIT09aSl7aWYoXCJeXCIhPT1uW2ldKWJyZWFrO2lmKCFhLnBhcmVudCl0aHJvdyBuZXcgRXJyb3IoXCJQYXRoICdcIit0K1wiJyBub3QgdmFsaWQgZm9yIHN0YXRlICdcIityLm5hbWUrXCInXCIpO2E9YS5wYXJlbnR9ZWxzZSBhPXI7dmFyIHM9bi5zbGljZShpKS5qb2luKFwiLlwiKTtyZXR1cm4gYS5uYW1lKyhhLm5hbWUmJnM/XCIuXCI6XCJcIikrc30sdH0oKTtlLlN0YXRlTWF0Y2hlcj1hfSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtyZXR1cm4gdC5sYXp5TG9hZCYmKHQubmFtZT10LnNlbGYubmFtZStcIi4qKlwiKSx0Lm5hbWV9ZnVuY3Rpb24gaSh0KXtyZXR1cm4gdC5zZWxmLiQkc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdH0sdC5zZWxmfWZ1bmN0aW9uIG8odCl7cmV0dXJuIHQucGFyZW50JiZ0LnBhcmVudC5kYXRhJiYodC5kYXRhPXQuc2VsZi5kYXRhPWMuaW5oZXJpdCh0LnBhcmVudC5kYXRhLHQuZGF0YSkpLHQuZGF0YX1mdW5jdGlvbiBhKHQpe3JldHVybiB0LnBhcmVudD90LnBhcmVudC5wYXRoLmNvbmNhdCh0KTpbdF19ZnVuY3Rpb24gcyh0KXt2YXIgZT10LnBhcmVudD9jLmV4dGVuZCh7fSx0LnBhcmVudC5pbmNsdWRlcyk6e307cmV0dXJuIGVbdC5uYW1lXT0hMCxlfWZ1bmN0aW9uIHUodCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LmtleXModHx8e30pLm1hcChmdW5jdGlvbihyKXtyZXR1cm57dG9rZW46cix2YWw6dFtyXSxkZXBzOnZvaWQgMCxwb2xpY3k6ZVtyXX19KX0scj1mdW5jdGlvbih0KXtyZXR1cm4gdC4kaW5qZWN0fHxkLnNlcnZpY2VzLiRpbmplY3Rvci5hbm5vdGF0ZSh0LGQuc2VydmljZXMuJGluamVjdG9yLnN0cmljdERpKX0sbj1mdW5jdGlvbih0KXtyZXR1cm4hKCF0LnRva2VufHwhdC5yZXNvbHZlRm4pfSxpPWZ1bmN0aW9uKHQpe3JldHVybiEoIXQucHJvdmlkZSYmIXQudG9rZW58fCEodC51c2VWYWx1ZXx8dC51c2VGYWN0b3J5fHx0LnVzZUV4aXN0aW5nfHx0LnVzZUNsYXNzKSl9LG89ZnVuY3Rpb24odCl7cmV0dXJuISEodCYmdC52YWwmJihmLmlzU3RyaW5nKHQudmFsKXx8Zi5pc0FycmF5KHQudmFsKXx8Zi5pc0Z1bmN0aW9uKHQudmFsKSkpfSxhPWZ1bmN0aW9uKHQpe3JldHVybiB0LnByb3ZpZGV8fHQudG9rZW59LHM9cC5wYXR0ZXJuKFtbcC5wcm9wKFwicmVzb2x2ZUZuXCIpLGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdi5SZXNvbHZhYmxlKGEodCksdC5yZXNvbHZlRm4sdC5kZXBzLHQucG9saWN5KX1dLFtwLnByb3AoXCJ1c2VGYWN0b3J5XCIpLGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdi5SZXNvbHZhYmxlKGEodCksdC51c2VGYWN0b3J5LHQuZGVwc3x8dC5kZXBlbmRlbmNpZXMsdC5wb2xpY3kpfV0sW3AucHJvcChcInVzZUNsYXNzXCIpLGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdi5SZXNvbHZhYmxlKGEodCksZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQudXNlQ2xhc3N9LFtdLHQucG9saWN5KX1dLFtwLnByb3AoXCJ1c2VWYWx1ZVwiKSxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IHYuUmVzb2x2YWJsZShhKHQpLGZ1bmN0aW9uKCl7cmV0dXJuIHQudXNlVmFsdWV9LFtdLHQucG9saWN5LHQudXNlVmFsdWUpfV0sW3AucHJvcChcInVzZUV4aXN0aW5nXCIpLGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgdi5SZXNvbHZhYmxlKGEodCksYy5pZGVudGl0eSxbdC51c2VFeGlzdGluZ10sdC5wb2xpY3kpfV1dKSx1PXAucGF0dGVybihbW3AucGlwZShwLnByb3AoXCJ2YWxcIiksZi5pc1N0cmluZyksZnVuY3Rpb24odCl7cmV0dXJuIG5ldyB2LlJlc29sdmFibGUodC50b2tlbixjLmlkZW50aXR5LFt0LnZhbF0sdC5wb2xpY3kpfV0sW3AucGlwZShwLnByb3AoXCJ2YWxcIiksZi5pc0FycmF5KSxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IHYuUmVzb2x2YWJsZSh0LnRva2VuLGMudGFpbCh0LnZhbCksdC52YWwuc2xpY2UoMCwtMSksdC5wb2xpY3kpfV0sW3AucGlwZShwLnByb3AoXCJ2YWxcIiksZi5pc0Z1bmN0aW9uKSxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IHYuUmVzb2x2YWJsZSh0LnRva2VuLHQudmFsLHIodC52YWwpLHQucG9saWN5KX1dXSksaD1wLnBhdHRlcm4oW1twLmlzKHYuUmVzb2x2YWJsZSksZnVuY3Rpb24odCl7cmV0dXJuIHR9XSxbbixzXSxbaSxzXSxbbyx1XSxbcC52YWwoITApLGZ1bmN0aW9uKHQpe3Rocm93IG5ldyBFcnJvcihcIkludmFsaWQgcmVzb2x2ZSB2YWx1ZTogXCIrbC5zdHJpbmdpZnkodCkpfV1dKSxtPXQucmVzb2x2ZSxnPWYuaXNBcnJheShtKT9tOmUobSx0LnJlc29sdmVQb2xpY3l8fHt9KTtyZXR1cm4gZy5tYXAoaCl9dmFyIGM9cigzKSxmPXIoNCksbD1yKDkpLHA9cig1KSxoPXIoMjIpLHY9cigxOSksZD1yKDYpLG09ZnVuY3Rpb24odCl7aWYoIWYuaXNTdHJpbmcodCkpcmV0dXJuITE7dmFyIGU9XCJeXCI9PT10LmNoYXJBdCgwKTtyZXR1cm57dmFsOmU/dC5zdWJzdHJpbmcoMSk6dCxyb290OmV9fSxnPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBuPXI7biYmbi51cmwmJm4ubGF6eUxvYWQmJihuLnVybCs9XCJ7cmVtYWluZGVyOmFueX1cIik7dmFyIGk9bShuLnVybCksbz1yLnBhcmVudCxhPWk/dC5jb21waWxlKGkudmFsLHtwYXJhbXM6ci5wYXJhbXN8fHt9LHBhcmFtTWFwOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4ucmVsb2FkT25TZWFyY2g9PT0hMSYmZSYmKHQ9Yy5leHRlbmQodHx8e30se2R5bmFtaWM6ITB9KSksdH19KTpuLnVybDtpZighYSlyZXR1cm4gbnVsbDtpZighdC5pc01hdGNoZXIoYSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB1cmwgJ1wiK2ErXCInIGluIHN0YXRlICdcIityK1wiJ1wiKTtyZXR1cm4gaSYmaS5yb290P2E6KG8mJm8ubmF2aWdhYmxlfHxlKCkpLnVybC5hcHBlbmQoYSl9fSx5PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4hdChlKSYmZS51cmw/ZTplLnBhcmVudD9lLnBhcmVudC5uYXZpZ2FibGU6bnVsbH19LHc9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciByPWZ1bmN0aW9uKGUscil7cmV0dXJuIGguUGFyYW0uZnJvbUNvbmZpZyhyLG51bGwsZSx0KX0sbj1lLnVybCYmZS51cmwucGFyYW1ldGVycyh7aW5oZXJpdDohMX0pfHxbXSxpPWMudmFsdWVzKGMubWFwT2JqKGMub21pdChlLnBhcmFtc3x8e30sbi5tYXAocC5wcm9wKFwiaWRcIikpKSxyKSk7cmV0dXJuIG4uY29uY2F0KGkpLm1hcChmdW5jdGlvbih0KXtyZXR1cm5bdC5pZCx0XX0pLnJlZHVjZShjLmFwcGx5UGFpcnMse30pfX07ZS5yZXNvbHZhYmxlc0J1aWxkZXI9dTt2YXIgYj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXtmdW5jdGlvbiByKGUpe3JldHVybiBsKGUpP251bGw6dC5maW5kKGMucGFyZW50TmFtZShlKSl8fGYoKX10aGlzLm1hdGNoZXI9dDt2YXIgYz10aGlzLGY9ZnVuY3Rpb24oKXtyZXR1cm4gdC5maW5kKFwiXCIpfSxsPWZ1bmN0aW9uKHQpe3JldHVyblwiXCI9PT10Lm5hbWV9O3RoaXMuYnVpbGRlcnM9e25hbWU6W25dLHNlbGY6W2ldLHBhcmVudDpbcl0sZGF0YTpbb10sdXJsOltnKGUsZildLG5hdmlnYWJsZTpbeShsKV0scGFyYW1zOlt3KGUucGFyYW1UeXBlcyldLHZpZXdzOltdLHBhdGg6W2FdLGluY2x1ZGVzOltzXSxyZXNvbHZhYmxlczpbdV19fXJldHVybiB0LnByb3RvdHlwZS5idWlsZGVyPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5idWlsZGVycyxuPXJbdF18fFtdO3JldHVybiBmLmlzU3RyaW5nKHQpJiYhZi5pc0RlZmluZWQoZSk/bi5sZW5ndGg+MT9uOm5bMF06Zi5pc1N0cmluZyh0KSYmZi5pc0Z1bmN0aW9uKGUpPyhyW3RdPW4sclt0XS5wdXNoKGUpLGZ1bmN0aW9uKCl7cmV0dXJuIHJbdF0uc3BsaWNlKHJbdF0uaW5kZXhPZihlLDEpKSYmbnVsbH0pOnZvaWQgMH0sdC5wcm90b3R5cGUuYnVpbGQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxyPWUubWF0Y2hlcixuPWUuYnVpbGRlcnMsaT10aGlzLnBhcmVudE5hbWUodCk7aWYoaSYmIXIuZmluZChpKSlyZXR1cm4gbnVsbDtmb3IodmFyIG8gaW4gbilpZihuLmhhc093blByb3BlcnR5KG8pKXt2YXIgYT1uW29dLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZShyLHQpfX0sYy5ub29wKTt0W29dPWEodCl9cmV0dXJuIHR9LHQucHJvdG90eXBlLnBhcmVudE5hbWU9ZnVuY3Rpb24odCl7dmFyIGU9dC5uYW1lfHxcIlwiLHI9ZS5zcGxpdChcIi5cIik7aWYoci5sZW5ndGg+MSl7aWYodC5wYXJlbnQpdGhyb3cgbmV3IEVycm9yKFwiU3RhdGVzIHRoYXQgc3BlY2lmeSB0aGUgJ3BhcmVudDonIHByb3BlcnR5IHNob3VsZCBub3QgaGF2ZSBhICcuJyBpbiB0aGVpciBuYW1lIChcIitlK1wiKVwiKTt2YXIgbj1yLnBvcCgpO3JldHVyblwiKipcIj09PW4mJnIucG9wKCksci5qb2luKFwiLlwiKX1yZXR1cm4gdC5wYXJlbnQ/Zi5pc1N0cmluZyh0LnBhcmVudCk/dC5wYXJlbnQ6dC5wYXJlbnQubmFtZTpcIlwifSx0LnByb3RvdHlwZS5uYW1lPWZ1bmN0aW9uKHQpe3ZhciBlPXQubmFtZTtpZihlLmluZGV4T2YoXCIuXCIpIT09LTF8fCF0LnBhcmVudClyZXR1cm4gZTt2YXIgcj1mLmlzU3RyaW5nKHQucGFyZW50KT90LnBhcmVudDp0LnBhcmVudC5uYW1lO3JldHVybiByP3IrXCIuXCIrZTplfSx0fSgpO2UuU3RhdGVCdWlsZGVyPWJ9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDMpLGk9cig0KSxvPXIoNDIpLGE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxyLG4pe3RoaXMuc3RhdGVzPXQsdGhpcy5idWlsZGVyPWUsdGhpcy4kdXJsUm91dGVyUHJvdmlkZXI9cix0aGlzLmxpc3RlbmVycz1uLHRoaXMucXVldWU9W119cmV0dXJuIHQucHJvdG90eXBlLnJlZ2lzdGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMscj1lLnN0YXRlcyxhPWUucXVldWUscz1lLiRzdGF0ZSx1PW4uaW5oZXJpdChuZXcgby5TdGF0ZSxuLmV4dGVuZCh7fSx0LHtzZWxmOnQscmVzb2x2ZTp0LnJlc29sdmV8fFtdLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHQubmFtZX19KSk7aWYoIWkuaXNTdHJpbmcodS5uYW1lKSl0aHJvdyBuZXcgRXJyb3IoXCJTdGF0ZSBtdXN0IGhhdmUgYSB2YWxpZCBuYW1lXCIpO2lmKHIuaGFzT3duUHJvcGVydHkodS5uYW1lKXx8bi5wbHVjayhhLFwibmFtZVwiKS5pbmRleE9mKHUubmFtZSkhPT0tMSl0aHJvdyBuZXcgRXJyb3IoXCJTdGF0ZSAnXCIrdS5uYW1lK1wiJyBpcyBhbHJlYWR5IGRlZmluZWRcIik7cmV0dXJuIGEucHVzaCh1KSx0aGlzLiRzdGF0ZSYmdGhpcy5mbHVzaChzKSx1fSx0LnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxyPWUucXVldWUsbj1lLnN0YXRlcyxpPWUuYnVpbGRlcixvPVtdLGE9W10scz17fTtyLmxlbmd0aD4wOyl7dmFyIHU9ci5zaGlmdCgpLGM9aS5idWlsZCh1KSxmPWEuaW5kZXhPZih1KTtpZihjKXtpZihuLmhhc093blByb3BlcnR5KHUubmFtZSkpdGhyb3cgbmV3IEVycm9yKFwiU3RhdGUgJ1wiK25hbWUrXCInIGlzIGFscmVhZHkgZGVmaW5lZFwiKTtuW3UubmFtZV09dSx0aGlzLmF0dGFjaFJvdXRlKHQsdSksZj49MCYmYS5zcGxpY2UoZiwxKSxvLnB1c2godSl9ZWxzZXt2YXIgbD1zW3UubmFtZV07aWYoc1t1Lm5hbWVdPXIubGVuZ3RoLGY+PTAmJmw9PT1yLmxlbmd0aClyZXR1cm4gci5wdXNoKHUpLG47ZjwwJiZhLnB1c2godSksci5wdXNoKHUpfX1yZXR1cm4gby5sZW5ndGgmJnRoaXMubGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQoXCJyZWdpc3RlcmVkXCIsby5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2VsZn0pKX0pLG59LHQucHJvdG90eXBlLmF1dG9GbHVzaD1mdW5jdGlvbih0KXt0aGlzLiRzdGF0ZT10LHRoaXMuZmx1c2godCl9LHQucHJvdG90eXBlLmF0dGFjaFJvdXRlPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy4kdXJsUm91dGVyUHJvdmlkZXI7IWVbXCJhYnN0cmFjdFwiXSYmZS51cmwmJnIud2hlbihlLnVybCxbXCIkbWF0Y2hcIixcIiRzdGF0ZVBhcmFtc1wiLGZ1bmN0aW9uKHIsaSl7dC4kY3VycmVudC5uYXZpZ2FibGU9PT1lJiZuLmVxdWFsRm9yS2V5cyhyLGkpfHx0LnRyYW5zaXRpb25UbyhlLHIse2luaGVyaXQ6ITAsc291cmNlOlwidXJsXCJ9KX1dLGZ1bmN0aW9uKHQpe3JldHVybiBlLl91cmxSdWxlPXR9KX0sdH0oKTtlLlN0YXRlUXVldWVNYW5hZ2VyPWF9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDMpLGk9cig1KSxvPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXtuLmV4dGVuZCh0aGlzLHQpfXJldHVybiB0LnByb3RvdHlwZS5pcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcz09PXR8fHRoaXMuc2VsZj09PXR8fHRoaXMuZnFuKCk9PT10fSx0LnByb3RvdHlwZS5mcW49ZnVuY3Rpb24oKXtpZighKHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudCBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3IpKXJldHVybiB0aGlzLm5hbWU7dmFyIHQ9dGhpcy5wYXJlbnQuZnFuKCk7cmV0dXJuIHQ/dCtcIi5cIit0aGlzLm5hbWU6dGhpcy5uYW1lfSx0LnByb3RvdHlwZS5yb290PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5yb290KCl8fHRoaXN9LHQucHJvdG90eXBlLnBhcmFtZXRlcnM9ZnVuY3Rpb24odCl7dD1uLmRlZmF1bHRzKHQse2luaGVyaXQ6ITB9KTt2YXIgZT10LmluaGVyaXQmJnRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5wYXJhbWV0ZXJzKCl8fFtdO3JldHVybiBlLmNvbmNhdChuLnZhbHVlcyh0aGlzLnBhcmFtcykpfSx0LnByb3RvdHlwZS5wYXJhbWV0ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLHRoaXMudXJsJiZ0aGlzLnVybC5wYXJhbWV0ZXIodCxlKXx8bi5maW5kKG4udmFsdWVzKHRoaXMucGFyYW1zKSxpLnByb3BFcShcImlkXCIsdCkpfHxlLmluaGVyaXQmJnRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5wYXJhbWV0ZXIodCl9LHQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnFuKCl9LHR9KCk7ZS5TdGF0ZT1vfSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cigzKSxpPXIoNCksbz1yKDgpLGE9cig2KSxzPXIoMjApLHU9cigyMSksYz1yKDMwKSxmPXIoMTApLGw9cigxNCkscD1yKDIyKSxoPXIoNyksdj1yKDMpLGQ9cigzKSxtPXIoMTcpLGc9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3RoaXMucm91dGVyPWUsdGhpcy5pbnZhbGlkQ2FsbGJhY2tzPVtdLHRoaXMuX2RlZmF1bHRFcnJvckhhbmRsZXI9ZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIEVycm9yJiZ0LnN0YWNrPyhjb25zb2xlLmVycm9yKHQpLGNvbnNvbGUuZXJyb3IodC5zdGFjaykpOnQgaW5zdGFuY2VvZiBmLlJlamVjdGlvbj8oY29uc29sZS5lcnJvcih0LnRvU3RyaW5nKCkpLHQuZGV0YWlsJiZ0LmRldGFpbC5zdGFjayYmY29uc29sZS5lcnJvcih0LmRldGFpbC5zdGFjaykpOmNvbnNvbGUuZXJyb3IodCl9O3ZhciByPVtcImN1cnJlbnRcIixcIiRjdXJyZW50XCIsXCJwYXJhbXNcIixcInRyYW5zaXRpb25cIl0sbj1PYmplY3Qua2V5cyh0LnByb3RvdHlwZSkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiByLmluZGV4T2YodCk9PT0tMX0pO2QuYmluZEZ1bmN0aW9ucyh0LnByb3RvdHlwZSx0aGlzLHRoaXMsbil9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcInRyYW5zaXRpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm91dGVyLmdsb2JhbHMudHJhbnNpdGlvbn0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCJwYXJhbXNcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm91dGVyLmdsb2JhbHMucGFyYW1zfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LnByb3RvdHlwZSxcImN1cnJlbnRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm91dGVyLmdsb2JhbHMuY3VycmVudH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodC5wcm90b3R5cGUsXCIkY3VycmVudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yb3V0ZXIuZ2xvYmFscy4kY3VycmVudH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSx0LnByb3RvdHlwZS5faGFuZGxlSW52YWxpZFRhcmdldFN0YXRlPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gcigpe3ZhciB0PWguZGVxdWV1ZSgpO2lmKHZvaWQgMD09PXQpcmV0dXJuIGYuUmVqZWN0aW9uLmludmFsaWQoZS5lcnJvcigpKS50b1Byb21pc2UoKTt2YXIgbj1hLnNlcnZpY2VzLiRxLndoZW4odChlLGksdikpO3JldHVybiBuLnRoZW4oZCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdHx8cigpfSl9dmFyIG49dGhpcyxpPXMuUGF0aEZhY3RvcnkubWFrZVRhcmdldFN0YXRlKHQpLHU9dGhpcy5yb3V0ZXIuZ2xvYmFscyxjPWZ1bmN0aW9uKCl7cmV0dXJuIHUudHJhbnNpdGlvbkhpc3RvcnkucGVla1RhaWwoKX0scD1jKCksaD1uZXcgby5RdWV1ZSh0aGlzLmludmFsaWRDYWxsYmFja3Muc2xpY2UoKSksdj1uZXcgbS5SZXNvbHZlQ29udGV4dCh0KS5pbmplY3RvcigpLGQ9ZnVuY3Rpb24odCl7aWYodCBpbnN0YW5jZW9mIGwuVGFyZ2V0U3RhdGUpe3ZhciBlPXQ7cmV0dXJuIGU9bi50YXJnZXQoZS5pZGVudGlmaWVyKCksZS5wYXJhbXMoKSxlLm9wdGlvbnMoKSksZS52YWxpZCgpP2MoKSE9PXA/Zi5SZWplY3Rpb24uc3VwZXJzZWRlZCgpLnRvUHJvbWlzZSgpOm4udHJhbnNpdGlvblRvKGUuaWRlbnRpZmllcigpLGUucGFyYW1zKCksZS5vcHRpb25zKCkpOmYuUmVqZWN0aW9uLmludmFsaWQoZS5lcnJvcigpKS50b1Byb21pc2UoKX19O3JldHVybiByKCl9LHQucHJvdG90eXBlLm9uSW52YWxpZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pbnZhbGlkQ2FsbGJhY2tzLnB1c2godCksZnVuY3Rpb24oKXtuLnJlbW92ZUZyb20odGhpcy5pbnZhbGlkQ2FsbGJhY2tzKSh0KX0uYmluZCh0aGlzKX0sdC5wcm90b3R5cGUucmVsb2FkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnRyYW5zaXRpb25Ubyh0aGlzLmN1cnJlbnQsdGhpcy5wYXJhbXMse3JlbG9hZDohaS5pc0RlZmluZWQodCl8fHQsaW5oZXJpdDohMSxub3RpZnk6ITF9KX0sdC5wcm90b3R5cGUuZ289ZnVuY3Rpb24odCxlLHIpe3ZhciBpPXtyZWxhdGl2ZTp0aGlzLiRjdXJyZW50LGluaGVyaXQ6ITB9LG89bi5kZWZhdWx0cyhyLGksYy5kZWZhdWx0VHJhbnNPcHRzKTtyZXR1cm4gdGhpcy50cmFuc2l0aW9uVG8odCxlLG8pfSx0LnByb3RvdHlwZS50YXJnZXQ9ZnVuY3Rpb24odCxlLHIpe2lmKHZvaWQgMD09PXImJihyPXt9KSxpLmlzT2JqZWN0KHIucmVsb2FkKSYmIXIucmVsb2FkLm5hbWUpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCByZWxvYWQgc3RhdGUgb2JqZWN0XCIpO3ZhciBuPXRoaXMucm91dGVyLnN0YXRlUmVnaXN0cnk7aWYoci5yZWxvYWRTdGF0ZT1yLnJlbG9hZD09PSEwP24ucm9vdCgpOm4ubWF0Y2hlci5maW5kKHIucmVsb2FkLHIucmVsYXRpdmUpLHIucmVsb2FkJiYhci5yZWxvYWRTdGF0ZSl0aHJvdyBuZXcgRXJyb3IoXCJObyBzdWNoIHJlbG9hZCBzdGF0ZSAnXCIrKGkuaXNTdHJpbmcoci5yZWxvYWQpP3IucmVsb2FkOnIucmVsb2FkLm5hbWUpK1wiJ1wiKTt2YXIgbz1uLm1hdGNoZXIuZmluZCh0LHIucmVsYXRpdmUpO3JldHVybiBuZXcgbC5UYXJnZXRTdGF0ZSh0LG8sZSxyKX0sdC5wcm90b3R5cGUudHJhbnNpdGlvblRvPWZ1bmN0aW9uKHQsZSxyKXt2YXIgaT10aGlzO3ZvaWQgMD09PWUmJihlPXt9KSx2b2lkIDA9PT1yJiYocj17fSk7dmFyIG89dGhpcy5yb3V0ZXIscz1vLmdsb2JhbHMscD1zLnRyYW5zaXRpb25IaXN0b3J5O3I9bi5kZWZhdWx0cyhyLGMuZGVmYXVsdFRyYW5zT3B0cykscj1uLmV4dGVuZChyLHtjdXJyZW50OnAucGVla1RhaWwuYmluZChwKX0pO3ZhciBoPXRoaXMudGFyZ2V0KHQsZSxyKSx2PXMuc3VjY2Vzc2Z1bFRyYW5zaXRpb25zLnBlZWtUYWlsKCksZD1mdW5jdGlvbigpe3JldHVybltuZXcgdS5QYXRoTm9kZShpLnJvdXRlci5zdGF0ZVJlZ2lzdHJ5LnJvb3QoKSldfSxtPXY/di50cmVlQ2hhbmdlcygpLnRvOmQoKTtpZighaC5leGlzdHMoKSlyZXR1cm4gdGhpcy5faGFuZGxlSW52YWxpZFRhcmdldFN0YXRlKG0saCk7aWYoIWgudmFsaWQoKSlyZXR1cm4gbi5zaWxlbnRSZWplY3Rpb24oaC5lcnJvcigpKTt2YXIgZz1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoZSBpbnN0YW5jZW9mIGYuUmVqZWN0aW9uKXtpZihlLnR5cGU9PT1mLlJlamVjdFR5cGUuSUdOT1JFRClyZXR1cm4gby51cmxSb3V0ZXIudXBkYXRlKCksYS5zZXJ2aWNlcy4kcS53aGVuKHMuY3VycmVudCk7dmFyIHI9ZS5kZXRhaWw7aWYoZS50eXBlPT09Zi5SZWplY3RUeXBlLlNVUEVSU0VERUQmJmUucmVkaXJlY3RlZCYmciBpbnN0YW5jZW9mIGwuVGFyZ2V0U3RhdGUpe3ZhciBuPXQucmVkaXJlY3Qocik7cmV0dXJuIG4ucnVuKClbXCJjYXRjaFwiXShnKG4pKX1lLnR5cGU9PT1mLlJlamVjdFR5cGUuQUJPUlRFRCYmby51cmxSb3V0ZXIudXBkYXRlKCl9dmFyIHU9aS5kZWZhdWx0RXJyb3JIYW5kbGVyKCk7cmV0dXJuIHUoZSksYS5zZXJ2aWNlcy4kcS5yZWplY3QoZSl9fSx5PXRoaXMucm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlLmNyZWF0ZShtLGgpLHc9eS5ydW4oKVtcImNhdGNoXCJdKGcoeSkpO3JldHVybiBuLnNpbGVuY2VVbmNhdWdodEluUHJvbWlzZSh3KSxuLmV4dGVuZCh3LHt0cmFuc2l0aW9uOnl9KX0sdC5wcm90b3R5cGUuaXM9ZnVuY3Rpb24odCxlLHIpe3I9bi5kZWZhdWx0cyhyLHtyZWxhdGl2ZTp0aGlzLiRjdXJyZW50fSk7dmFyIG89dGhpcy5yb3V0ZXIuc3RhdGVSZWdpc3RyeS5tYXRjaGVyLmZpbmQodCxyLnJlbGF0aXZlKTtpZihpLmlzRGVmaW5lZChvKSlyZXR1cm4gdGhpcy4kY3VycmVudD09PW8mJighaS5pc0RlZmluZWQoZSl8fG51bGw9PT1lfHxwLlBhcmFtLmVxdWFscyhvLnBhcmFtZXRlcnMoKSx0aGlzLnBhcmFtcyxlKSl9LHQucHJvdG90eXBlLmluY2x1ZGVzPWZ1bmN0aW9uKHQsZSxyKXtyPW4uZGVmYXVsdHMocix7cmVsYXRpdmU6dGhpcy4kY3VycmVudH0pO3ZhciBvPWkuaXNTdHJpbmcodCkmJmguR2xvYi5mcm9tU3RyaW5nKHQpO2lmKG8pe2lmKCFvLm1hdGNoZXModGhpcy4kY3VycmVudC5uYW1lKSlyZXR1cm4hMTt0PXRoaXMuJGN1cnJlbnQubmFtZX12YXIgYT10aGlzLnJvdXRlci5zdGF0ZVJlZ2lzdHJ5Lm1hdGNoZXIuZmluZCh0LHIucmVsYXRpdmUpLHM9dGhpcy4kY3VycmVudC5pbmNsdWRlcztpZihpLmlzRGVmaW5lZChhKSlyZXR1cm4hIWkuaXNEZWZpbmVkKHNbYS5uYW1lXSkmJighZXx8di5lcXVhbEZvcktleXMocC5QYXJhbS52YWx1ZXMoYS5wYXJhbWV0ZXJzKCksZSksdGhpcy5wYXJhbXMsT2JqZWN0LmtleXMoZSkpKX0sdC5wcm90b3R5cGUuaHJlZj1mdW5jdGlvbih0LGUscil7dmFyIG89e2xvc3N5OiEwLGluaGVyaXQ6ITAsYWJzb2x1dGU6ITEscmVsYXRpdmU6dGhpcy4kY3VycmVudH07cj1uLmRlZmF1bHRzKHIsbyksZT1lfHx7fTt2YXIgYT10aGlzLnJvdXRlci5zdGF0ZVJlZ2lzdHJ5Lm1hdGNoZXIuZmluZCh0LHIucmVsYXRpdmUpO2lmKCFpLmlzRGVmaW5lZChhKSlyZXR1cm4gbnVsbDtyLmluaGVyaXQmJihlPXRoaXMucGFyYW1zLiRpbmhlcml0KGUsdGhpcy4kY3VycmVudCxhKSk7dmFyIHM9YSYmci5sb3NzeT9hLm5hdmlnYWJsZTphO3JldHVybiBzJiZ2b2lkIDAhPT1zLnVybCYmbnVsbCE9PXMudXJsP3RoaXMucm91dGVyLnVybFJvdXRlci5ocmVmKHMudXJsLHAuUGFyYW0udmFsdWVzKGEucGFyYW1ldGVycygpLGUpLHthYnNvbHV0ZTpyLmFic29sdXRlfSk6bnVsbH0sdC5wcm90b3R5cGUuZGVmYXVsdEVycm9ySGFuZGxlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGVmYXVsdEVycm9ySGFuZGxlcj10fHx0aGlzLl9kZWZhdWx0RXJyb3JIYW5kbGVyfSx0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLnJvdXRlci5zdGF0ZVJlZ2lzdHJ5O3JldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD9yLmdldCgpOnIuZ2V0KHQsZXx8dGhpcy4kY3VycmVudCl9LHR9KCk7ZS5TdGF0ZVNlcnZpY2U9Z30sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoNDUpLGk9cig4KSxvPXIoMyksYT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dmFyIGU9dGhpczt0aGlzLnBhcmFtcz1uZXcgbi5TdGF0ZVBhcmFtcyx0aGlzLnRyYW5zaXRpb25IaXN0b3J5PW5ldyBpLlF1ZXVlKFtdLDEpLHRoaXMuc3VjY2Vzc2Z1bFRyYW5zaXRpb25zPW5ldyBpLlF1ZXVlKFtdLDEpO3ZhciByPWZ1bmN0aW9uKHQpe2UudHJhbnNpdGlvbj10LGUudHJhbnNpdGlvbkhpc3RvcnkuZW5xdWV1ZSh0KTt2YXIgcj1mdW5jdGlvbigpe2Uuc3VjY2Vzc2Z1bFRyYW5zaXRpb25zLmVucXVldWUodCksZS4kY3VycmVudD10LiR0bygpLGUuY3VycmVudD1lLiRjdXJyZW50LnNlbGYsby5jb3B5KHQucGFyYW1zKCksZS5wYXJhbXMpfTt0Lm9uU3VjY2Vzcyh7fSxyLHtwcmlvcml0eToxZTR9KTt2YXIgbj1mdW5jdGlvbigpe2UudHJhbnNpdGlvbj09PXQmJihlLnRyYW5zaXRpb249bnVsbCl9O3QucHJvbWlzZS50aGVuKG4sbil9O3Qub25CZWZvcmUoe30scil9cmV0dXJuIHR9KCk7ZS5HbG9iYWxzPWF9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDMpLGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3ZvaWQgMD09PXQmJih0PXt9KSxuLmV4dGVuZCh0aGlzLHQpfXJldHVybiB0LnByb3RvdHlwZS4kaW5oZXJpdD1mdW5jdGlvbih0LGUscil7dmFyIGksbz1uLmFuY2VzdG9ycyhlLHIpLGE9e30scz1bXTtmb3IodmFyIHUgaW4gbylpZihvW3VdJiZvW3VdLnBhcmFtcyYmKGk9T2JqZWN0LmtleXMob1t1XS5wYXJhbXMpLGkubGVuZ3RoKSlmb3IodmFyIGMgaW4gaSlzLmluZGV4T2YoaVtjXSk+PTB8fChzLnB1c2goaVtjXSksYVtpW2NdXT10aGlzW2lbY11dKTtyZXR1cm4gbi5leHRlbmQoe30sYSx0KX0sdH0oKTtlLlN0YXRlUGFyYW1zPWl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe2Zvcih2YXIgciBpbiB0KWUuaGFzT3duUHJvcGVydHkocil8fChlW3JdPXRbcl0pfW4ocigyMikpLG4ocigyOCkpLG4ocig0NSkpLG4ocigyNCkpfSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtmb3IodmFyIHIgaW4gdCllLmhhc093blByb3BlcnR5KHIpfHwoZVtyXT10W3JdKX1uKHIoMjEpKSxuKHIoMjApKX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7Zm9yKHZhciByIGluIHQpZS5oYXNPd25Qcm9wZXJ0eShyKXx8KGVbcl09dFtyXSl9bihyKDE4KSksbihyKDE5KSksbihyKDE3KSl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe2Zvcih2YXIgciBpbiB0KWUuaGFzT3duUHJvcGVydHkocil8fChlW3JdPXRbcl0pfW4ocig0MCkpLG4ocig0MikpLG4ocigzOSkpLG4ocig0MSkpLG4ocigzOCkpLG4ocig0MykpLG4ocigxNCkpfSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXtmb3IodmFyIHIgaW4gdCllLmhhc093blByb3BlcnR5KHIpfHwoZVtyXT10W3JdKX1uKHIoMTYpKSxuKHIoMTUpKSxuKHIoMTApKSxuKHIoMTEpKSxuKHIoMTMpKSxuKHIoMzApKX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7Zm9yKHZhciByIGluIHQpZS5oYXNPd25Qcm9wZXJ0eShyKXx8KGVbcl09dFtyXSl9bihyKDI3KSksbihyKDIzKSksbihyKDI2KSksbihyKDI5KSl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe2Zvcih2YXIgciBpbiB0KWUuaGFzT3duUHJvcGVydHkocil8fChlW3JdPXRbcl0pfW4ocigzNykpfSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gbih0KXt2YXIgZT1sLnNlcnZpY2VzLiRpbmplY3RvcixyPWUuZ2V0KFwiJGNvbnRyb2xsZXJcIiksbj1lLmluc3RhbnRpYXRlO3RyeXt2YXIgaTtyZXR1cm4gZS5pbnN0YW50aWF0ZT1mdW5jdGlvbih0KXtlLmluc3RhbnRpYXRlPW4saT1lLmFubm90YXRlKHQpfSxyKHQseyRzY29wZTp7fX0pLGl9ZmluYWxseXtlLmluc3RhbnRpYXRlPW59fWZ1bmN0aW9uIGkodCl7ZnVuY3Rpb24gZShlLG4saSxvLGEscyl7cmV0dXJuIG8uJG9uKFwiJGxvY2F0aW9uQ2hhbmdlU3VjY2Vzc1wiLGZ1bmN0aW9uKHQpe3JldHVybiByLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUodCl9KX0pLGwuc2VydmljZXMubG9jYXRpb25Db25maWcuaHRtbDVNb2RlPWZ1bmN0aW9uKCl7dmFyIGU9dC5odG1sNU1vZGUoKTtyZXR1cm4gZT12LmlzT2JqZWN0KGUpP2UuZW5hYmxlZDplLGUmJmkuaGlzdG9yeX0sbC5zZXJ2aWNlcy5sb2NhdGlvbi5zZXRVcmw9ZnVuY3Rpb24odCxyKXt2b2lkIDA9PT1yJiYocj0hMSksZS51cmwodCksciYmZS5yZXBsYWNlKCl9LGwuc2VydmljZXMudGVtcGxhdGUuZ2V0PWZ1bmN0aW9uKHQpe3JldHVybiBhLmdldCh0LHtjYWNoZTpzLGhlYWRlcnM6e0FjY2VwdDpcInRleHQvaHRtbFwifX0pLnRoZW4oaC5wcm9wKFwiZGF0YVwiKSl9LHAuYmluZEZ1bmN0aW9ucyhlLGwuc2VydmljZXMubG9jYXRpb24sZSxbXCJyZXBsYWNlXCIsXCJ1cmxcIixcInBhdGhcIixcInNlYXJjaFwiLFwiaGFzaFwiXSkscC5iaW5kRnVuY3Rpb25zKGUsbC5zZXJ2aWNlcy5sb2NhdGlvbkNvbmZpZyxlLFtcInBvcnRcIixcInByb3RvY29sXCIsXCJob3N0XCJdKSxwLmJpbmRGdW5jdGlvbnMobixsLnNlcnZpY2VzLmxvY2F0aW9uQ29uZmlnLG4sW1wiYmFzZUhyZWZcIl0pLFJ9Uj1uZXcgZi5VSVJvdXRlcixSLnN0YXRlUHJvdmlkZXI9bmV3IHcuU3RhdGVQcm92aWRlcihSLnN0YXRlUmVnaXN0cnksUi5zdGF0ZVNlcnZpY2UpLFIuc3RhdGVSZWdpc3RyeS5kZWNvcmF0b3IoXCJ2aWV3c1wiLGcubmcxVmlld3NCdWlsZGVyKSxSLnN0YXRlUmVnaXN0cnkuZGVjb3JhdG9yKFwib25FeGl0XCIsYi5nZXRTdGF0ZUhvb2tCdWlsZGVyKFwib25FeGl0XCIpKSxSLnN0YXRlUmVnaXN0cnkuZGVjb3JhdG9yKFwib25SZXRhaW5cIixiLmdldFN0YXRlSG9va0J1aWxkZXIoXCJvblJldGFpblwiKSksUi5zdGF0ZVJlZ2lzdHJ5LmRlY29yYXRvcihcIm9uRW50ZXJcIixiLmdldFN0YXRlSG9va0J1aWxkZXIoXCJvbkVudGVyXCIpKSxSLnZpZXdTZXJ2aWNlLnZpZXdDb25maWdGYWN0b3J5KFwibmcxXCIsZy5uZzFWaWV3Q29uZmlnRmFjdG9yeSkscC5iaW5kRnVuY3Rpb25zKHQsbC5zZXJ2aWNlcy5sb2NhdGlvbkNvbmZpZyx0LFtcImhhc2hQcmVmaXhcIl0pO3ZhciByPVtdO2wuc2VydmljZXMubG9jYXRpb24ub25DaGFuZ2U9ZnVuY3Rpb24odCl7cmV0dXJuIHIucHVzaCh0KSxmdW5jdGlvbigpe3JldHVybiBwLnJlbW92ZUZyb20ocikodCl9fSx0aGlzLiRnZXQ9ZSxlLiRpbmplY3Q9W1wiJGxvY2F0aW9uXCIsXCIkYnJvd3NlclwiLFwiJHNuaWZmZXJcIixcIiRyb290U2NvcGVcIixcIiRodHRwXCIsXCIkdGVtcGxhdGVDYWNoZVwiXX1mdW5jdGlvbiBvKHQsZSl7bC5zZXJ2aWNlcy4kaW5qZWN0b3I9dCxsLnNlcnZpY2VzLiRxPWV9ZnVuY3Rpb24gYSgpe3JldHVybiBSLnVybFJvdXRlclByb3ZpZGVyLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gUi51cmxSb3V0ZXIudXBkYXRlKCEwKSx0aGlzLmludGVyY2VwdERlZmVycmVkfHxSLnVybFJvdXRlci5saXN0ZW4oKSxSLnVybFJvdXRlcn0sUi51cmxSb3V0ZXJQcm92aWRlcn1mdW5jdGlvbiBzKCl7cmV0dXJuIFIuc3RhdGVQcm92aWRlci4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIFIuc3RhdGVSZWdpc3RyeS5zdGF0ZVF1ZXVlLmF1dG9GbHVzaChSLnN0YXRlU2VydmljZSksUi5zdGF0ZVNlcnZpY2V9LFIuc3RhdGVQcm92aWRlcn1mdW5jdGlvbiB1KCl7cmV0dXJuIFIudHJhbnNpdGlvblNlcnZpY2UuJGdldD1mdW5jdGlvbigpe3JldHVybiBSLnRyYW5zaXRpb25TZXJ2aWNlfSxSLnRyYW5zaXRpb25TZXJ2aWNlfWZ1bmN0aW9uIGModCl7dC4kd2F0Y2goZnVuY3Rpb24oKXttLnRyYWNlLmFwcHJveGltYXRlRGlnZXN0cysrfSl9dmFyIGY9cigyNSksbD1yKDYpLHA9cigzKSxoPXIoNSksdj1yKDQpLGQ9cig1NCksbT1yKDEyKSxnPXIoNTUpLHk9cig1Niksdz1yKDU4KSxiPXIoNTkpLCQ9cig1Nyk7JC5tb2R1bGUoXCJ1aS5yb3V0ZXIuYW5ndWxhcjFcIixbXSk7JC5tb2R1bGUoXCJ1aS5yb3V0ZXIudXRpbFwiLFtcIm5nXCIsXCJ1aS5yb3V0ZXIuaW5pdFwiXSksJC5tb2R1bGUoXCJ1aS5yb3V0ZXIucm91dGVyXCIsW1widWkucm91dGVyLnV0aWxcIl0pLCQubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIsW1widWkucm91dGVyLnJvdXRlclwiLFwidWkucm91dGVyLnV0aWxcIixcInVpLnJvdXRlci5hbmd1bGFyMVwiXSksJC5tb2R1bGUoXCJ1aS5yb3V0ZXJcIixbXCJ1aS5yb3V0ZXIuaW5pdFwiLFwidWkucm91dGVyLnN0YXRlXCIsXCJ1aS5yb3V0ZXIuYW5ndWxhcjFcIl0pLCQubW9kdWxlKFwidWkucm91dGVyLmNvbXBhdFwiLFtcInVpLnJvdXRlclwiXSksZS5hbm5vdGF0ZUNvbnRyb2xsZXI9bjt2YXIgUj1udWxsO2kuJGluamVjdD1bXCIkbG9jYXRpb25Qcm92aWRlclwiXSwkLm1vZHVsZShcInVpLnJvdXRlci5pbml0XCIsW10pLnByb3ZpZGVyKFwiJHVpUm91dGVyXCIsaSksby4kaW5qZWN0PVtcIiRpbmplY3RvclwiLFwiJHFcIl0sJC5tb2R1bGUoXCJ1aS5yb3V0ZXIuaW5pdFwiKS5ydW4obyksJC5tb2R1bGUoXCJ1aS5yb3V0ZXIuaW5pdFwiKS5ydW4oW1wiJHVpUm91dGVyXCIsZnVuY3Rpb24odCl7fV0pLCQubW9kdWxlKFwidWkucm91dGVyLnV0aWxcIikucHJvdmlkZXIoXCIkdXJsTWF0Y2hlckZhY3RvcnlcIixbXCIkdWlSb3V0ZXJQcm92aWRlclwiLGZ1bmN0aW9uKCl7cmV0dXJuIFIudXJsTWF0Y2hlckZhY3Rvcnl9XSksJC5tb2R1bGUoXCJ1aS5yb3V0ZXIudXRpbFwiKS5ydW4oW1wiJHVybE1hdGNoZXJGYWN0b3J5XCIsZnVuY3Rpb24odCl7fV0pLCQubW9kdWxlKFwidWkucm91dGVyLnJvdXRlclwiKS5wcm92aWRlcihcIiR1cmxSb3V0ZXJcIixbXCIkdWlSb3V0ZXJQcm92aWRlclwiLGFdKSwkLm1vZHVsZShcInVpLnJvdXRlci5yb3V0ZXJcIikucnVuKFtcIiR1cmxSb3V0ZXJcIixmdW5jdGlvbih0KXt9XSksJC5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIikucHJvdmlkZXIoXCIkc3RhdGVcIixbXCIkdWlSb3V0ZXJQcm92aWRlclwiLHNdKSwkLm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiKS5ydW4oW1wiJHN0YXRlXCIsZnVuY3Rpb24odCl7fV0pLCQubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIpLmZhY3RvcnkoXCIkc3RhdGVQYXJhbXNcIixbXCIkdWlSb3V0ZXJcIixmdW5jdGlvbih0KXtyZXR1cm4gdC5nbG9iYWxzLnBhcmFtc31dKSwkLm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiKS5wcm92aWRlcihcIiR0cmFuc2l0aW9uc1wiLFtcIiR1aVJvdXRlclByb3ZpZGVyXCIsdV0pLCQubW9kdWxlKFwidWkucm91dGVyLnV0aWxcIikuZmFjdG9yeShcIiR0ZW1wbGF0ZUZhY3RvcnlcIixbXCIkdWlSb3V0ZXJcIixmdW5jdGlvbigpe3JldHVybiBuZXcgeS5UZW1wbGF0ZUZhY3Rvcnl9XSksJC5tb2R1bGUoXCJ1aS5yb3V0ZXJcIikuZmFjdG9yeShcIiR2aWV3XCIsZnVuY3Rpb24oKXtyZXR1cm4gUi52aWV3U2VydmljZX0pLCQubW9kdWxlKFwidWkucm91dGVyXCIpLmZhY3RvcnkoXCIkcmVzb2x2ZVwiLGQucmVzb2x2ZUZhY3RvcnkpLCQubW9kdWxlKFwidWkucm91dGVyXCIpLnNlcnZpY2UoXCIkdHJhY2VcIixmdW5jdGlvbigpe3JldHVybiBtLnRyYWNlfSksYy4kaW5qZWN0PVtcIiRyb290U2NvcGVcIl0sZS53YXRjaERpZ2VzdHM9YywkLm1vZHVsZShcInVpLnJvdXRlclwiKS5ydW4oYyksZS5nZXRMb2NhbHM9ZnVuY3Rpb24odCl7dmFyIGU9dC5nZXRUb2tlbnMoKS5maWx0ZXIodi5pc1N0cmluZykscj1lLm1hcChmdW5jdGlvbihlKXtyZXR1cm5bZSx0LmdldFJlc29sdmFibGUoZSkuZGF0YV19KTtyZXR1cm4gci5yZWR1Y2UocC5hcHBseVBhaXJzLHt9KX19LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjt2YXIgbj1yKDQyKSxpPXIoMjEpLG89cigxNyksYT1yKDMpLHM9cig0MCksdT17cmVzb2x2ZTpmdW5jdGlvbih0LGUscil7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciB1PW5ldyBpLlBhdGhOb2RlKG5ldyBuLlN0YXRlKHtwYXJhbXM6e30scmVzb2x2YWJsZXM6W119KSksYz1uZXcgaS5QYXRoTm9kZShuZXcgbi5TdGF0ZSh7cGFyYW1zOnt9LHJlc29sdmFibGVzOltdfSkpLGY9bmV3IG8uUmVzb2x2ZUNvbnRleHQoW3UsY10pO2YuYWRkUmVzb2x2YWJsZXMocy5yZXNvbHZhYmxlc0J1aWxkZXIoe3Jlc29sdmU6dH0pLGMuc3RhdGUpO3ZhciBsPWZ1bmN0aW9uKHQpe3ZhciByPWZ1bmN0aW9uKHQpe3JldHVybiBzLnJlc29sdmFibGVzQnVpbGRlcih7cmVzb2x2ZTphLm1hcE9iaih0LGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0pfSl9O2YuYWRkUmVzb2x2YWJsZXMocih0KSx1LnN0YXRlKSxmLmFkZFJlc29sdmFibGVzKHIoZSksYy5zdGF0ZSk7dmFyIG49ZnVuY3Rpb24odCxlKXtyZXR1cm4gdFtlLnRva2VuXT1lLnZhbHVlLHR9O3JldHVybiBmLnJlc29sdmVQYXRoKCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gdC5yZWR1Y2Uobix7fSl9KX07cmV0dXJuIHI/ci50aGVuKGwpOmwoe30pfX07ZS5yZXNvbHZlRmFjdG9yeT1mdW5jdGlvbigpe3JldHVybiB1fX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7dmFyIGU9W1widGVtcGxhdGVQcm92aWRlclwiLFwidGVtcGxhdGVVcmxcIixcInRlbXBsYXRlXCIsXCJub3RpZnlcIixcImFzeW5jXCJdLHI9W1wiY29udHJvbGxlclwiLFwiY29udHJvbGxlclByb3ZpZGVyXCIsXCJjb250cm9sbGVyQXNcIixcInJlc29sdmVBc1wiXSxuPVtcImNvbXBvbmVudFwiLFwiYmluZGluZ3NcIl0sYz1lLmNvbmNhdChyKSxmPW4uY29uY2F0KGMpLGw9e30scD10LnZpZXdzfHx7JGRlZmF1bHQ6by5waWNrKHQsZil9O3JldHVybiBvLmZvckVhY2gocCxmdW5jdGlvbihlLHIpe2lmKHI9cnx8XCIkZGVmYXVsdFwiLHUuaXNTdHJpbmcoZSkmJihlPXtjb21wb25lbnQ6ZX0pLE9iamVjdC5rZXlzKGUpLmxlbmd0aCl7aWYoZS5jb21wb25lbnQpe2lmKGMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB1LmlzRGVmaW5lZChlW3RdKX0pLnJlZHVjZShvLmFueVRydWVSLCExKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29tYmluZTogXCIrbi5qb2luKFwifFwiKStcIiB3aXRoOiBcIitjLmpvaW4oXCJ8XCIpK1wiIGluIHN0YXRldmlldzogJ25hbWVAXCIrdC5uYW1lK1wiJ1wiKTtlLnRlbXBsYXRlUHJvdmlkZXI9W1wiJGluamVjdG9yXCIsZnVuY3Rpb24odCl7dmFyIHI9ZnVuY3Rpb24odCl7cmV0dXJuIGUuYmluZGluZ3MmJmUuYmluZGluZ3NbdF18fHR9LG49di52ZXJzaW9uLm1pbm9yPj0zP1wiOjpcIjpcIlwiLG89ZnVuY3Rpb24odCl7dmFyIGU9YS5rZWJvYlN0cmluZyh0Lm5hbWUpLGk9cih0Lm5hbWUpO3JldHVyblwiQFwiPT09dC50eXBlP2UrXCI9J3t7XCIrbitcIiRyZXNvbHZlLlwiK2krXCJ9fSdcIjplK1wiPSdcIituK1wiJHJlc29sdmUuXCIraStcIidcIn0scz1pKHQsZS5jb21wb25lbnQpLm1hcChvKS5qb2luKFwiIFwiKSx1PWEua2Vib2JTdHJpbmcoZS5jb21wb25lbnQpO3JldHVyblwiPFwiK3UrXCIgXCIrcytcIj48L1wiK3UrXCI+XCJ9XX1lLnJlc29sdmVBcz1lLnJlc29sdmVBc3x8XCIkcmVzb2x2ZVwiLGUuJHR5cGU9XCJuZzFcIixlLiRjb250ZXh0PXQsZS4kbmFtZT1yO3ZhciBmPXMuVmlld1NlcnZpY2Uubm9ybWFsaXplVUlWaWV3VGFyZ2V0KGUuJGNvbnRleHQsZS4kbmFtZSk7ZS4kdWlWaWV3TmFtZT1mLnVpVmlld05hbWUsZS4kdWlWaWV3Q29udGV4dEFuY2hvcj1mLnVpVmlld0NvbnRleHRBbmNob3IsbFtyXT1lfX0pLGx9ZnVuY3Rpb24gaSh0LGUpe3ZhciByPXQuZ2V0KGUrXCJEaXJlY3RpdmVcIik7aWYoIXJ8fCFyLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZmluZCBjb21wb25lbnQgbmFtZWQgJ1wiK2UrXCInXCIpO3JldHVybiByLm1hcChtKS5yZWR1Y2Uoby51bm5lc3RSLFtdKX12YXIgbz1yKDMpLGE9cig5KSxzPXIoMzcpLHU9cig0KSxjPXIoNiksZj1yKDEyKSxsPXIoNTYpLHA9cigxNyksaD1yKDE5KSx2PXIoNTcpO2UubmcxVmlld0NvbmZpZ0ZhY3Rvcnk9ZnVuY3Rpb24odCxlKXtyZXR1cm5bbmV3IHkodCxlKV19LGUubmcxVmlld3NCdWlsZGVyPW47dmFyIGQ9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5rZXlzKHR8fHt9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuW2UsL14oWz08QF0pWz9dPyguKikvLmV4ZWModFtlXSldfSkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB1LmlzRGVmaW5lZCh0KSYmdS5pc0RlZmluZWQodFsxXSl9KS5tYXAoZnVuY3Rpb24odCl7cmV0dXJue25hbWU6dFsxXVsyXXx8dFswXSx0eXBlOnRbMV1bMV19fSl9LG09ZnVuY3Rpb24odCl7cmV0dXJuIGQodS5pc09iamVjdCh0LmJpbmRUb0NvbnRyb2xsZXIpP3QuYmluZFRvQ29udHJvbGxlcjp0LnNjb3BlKX0sZz0wLHk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dGhpcy5wYXRoPXQsdGhpcy52aWV3RGVjbD1lLHRoaXMuJGlkPWcrKyx0aGlzLmxvYWRlZD0hMX1yZXR1cm4gdC5wcm90b3R5cGUubG9hZD1mdW5jdGlvbigpe3ZhciB0PXRoaXMsZT1jLnNlcnZpY2VzLiRxO2lmKCF0aGlzLmhhc1RlbXBsYXRlKCkpdGhyb3cgbmV3IEVycm9yKFwiTm8gdGVtcGxhdGUgY29uZmlndXJhdGlvbiBzcGVjaWZpZWQgZm9yICdcIit0aGlzLnZpZXdEZWNsLiR1aVZpZXdOYW1lK1wiQFwiK3RoaXMudmlld0RlY2wuJHVpVmlld0NvbnRleHRBbmNob3IrXCInXCIpO3ZhciByPW5ldyBwLlJlc29sdmVDb250ZXh0KHRoaXMucGF0aCksbj10aGlzLnBhdGgucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIG8uZXh0ZW5kKHQsZS5wYXJhbVZhbHVlcyl9LHt9KSxpPXt0ZW1wbGF0ZTplLndoZW4odGhpcy5nZXRUZW1wbGF0ZShuLG5ldyBsLlRlbXBsYXRlRmFjdG9yeSxyKSksY29udHJvbGxlcjplLndoZW4odGhpcy5nZXRDb250cm9sbGVyKHIpKX07cmV0dXJuIGUuYWxsKGkpLnRoZW4oZnVuY3Rpb24oZSl7cmV0dXJuIGYudHJhY2UudHJhY2VWaWV3U2VydmljZUV2ZW50KFwiTG9hZGVkXCIsdCksdC5jb250cm9sbGVyPWUuY29udHJvbGxlcix0LnRlbXBsYXRlPWUudGVtcGxhdGUsdH0pfSx0LnByb3RvdHlwZS5oYXNUZW1wbGF0ZT1mdW5jdGlvbigpe3JldHVybiEhKHRoaXMudmlld0RlY2wudGVtcGxhdGV8fHRoaXMudmlld0RlY2wudGVtcGxhdGVVcmx8fHRoaXMudmlld0RlY2wudGVtcGxhdGVQcm92aWRlcil9LHQucHJvdG90eXBlLmdldFRlbXBsYXRlPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gZS5mcm9tQ29uZmlnKHRoaXMudmlld0RlY2wsdCxyKX0sdC5wcm90b3R5cGUuZ2V0Q29udHJvbGxlcj1mdW5jdGlvbih0KXt2YXIgZT10aGlzLnZpZXdEZWNsLmNvbnRyb2xsZXJQcm92aWRlcjtpZighdS5pc0luamVjdGFibGUoZSkpcmV0dXJuIHRoaXMudmlld0RlY2wuY29udHJvbGxlcjt2YXIgcj1jLnNlcnZpY2VzLiRpbmplY3Rvci5hbm5vdGF0ZShlKSxuPXUuaXNBcnJheShlKT9vLnRhaWwoZSk6ZSxpPW5ldyBoLlJlc29sdmFibGUoXCJcIixuLHIpO3JldHVybiBpLmdldCh0KX0sdH0oKTtlLk5nMVZpZXdDb25maWc9eX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoNCksaT1yKDYpLG89cigzKSxhPXIoMTkpLHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7fXJldHVybiB0LnByb3RvdHlwZS5mcm9tQ29uZmlnPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gbi5pc0RlZmluZWQodC50ZW1wbGF0ZSk/dGhpcy5mcm9tU3RyaW5nKHQudGVtcGxhdGUsZSk6bi5pc0RlZmluZWQodC50ZW1wbGF0ZVVybCk/dGhpcy5mcm9tVXJsKHQudGVtcGxhdGVVcmwsZSk6bi5pc0RlZmluZWQodC50ZW1wbGF0ZVByb3ZpZGVyKT90aGlzLmZyb21Qcm92aWRlcih0LnRlbXBsYXRlUHJvdmlkZXIsZSxyKTpudWxsfSx0LnByb3RvdHlwZS5mcm9tU3RyaW5nPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG4uaXNGdW5jdGlvbih0KT90KGUpOnR9LHQucHJvdG90eXBlLmZyb21Vcmw9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5pc0Z1bmN0aW9uKHQpJiYodD10KGUpKSxudWxsPT10P251bGw6aS5zZXJ2aWNlcy50ZW1wbGF0ZS5nZXQodCl9LHQucHJvdG90eXBlLmZyb21Qcm92aWRlcj1mdW5jdGlvbih0LGUscil7dmFyIHM9aS5zZXJ2aWNlcy4kaW5qZWN0b3IuYW5ub3RhdGUodCksdT1uLmlzQXJyYXkodCk/by50YWlsKHQpOnQsYz1uZXcgYS5SZXNvbHZhYmxlKFwiXCIsdSxzKTtyZXR1cm4gYy5nZXQocil9LHR9KCk7ZS5UZW1wbGF0ZUZhY3Rvcnk9c30sZnVuY3Rpb24oZSxyKXtlLmV4cG9ydHM9dH0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO3ZhciBuPXIoNCksaT1yKDMpLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUscil7dGhpcy5zdGF0ZVJlZ2lzdHJ5PWUsdGhpcy5zdGF0ZVNlcnZpY2U9cixpLmJpbmRGdW5jdGlvbnModC5wcm90b3R5cGUsdGhpcyx0aGlzKX1yZXR1cm4gdC5wcm90b3R5cGUuZGVjb3JhdG9yPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMuc3RhdGVSZWdpc3RyeS5kZWNvcmF0b3IodCxlKXx8dGhpc30sdC5wcm90b3R5cGUuc3RhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5pc09iamVjdCh0KT9lPXQ6ZS5uYW1lPXQsdGhpcy5zdGF0ZVJlZ2lzdHJ5LnJlZ2lzdGVyKGUpLHRoaXN9LHQucHJvdG90eXBlLm9uSW52YWxpZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGF0ZVNlcnZpY2Uub25JbnZhbGlkKHQpfSx0fSgpO2UuU3RhdGVQcm92aWRlcj1vfSxmdW5jdGlvbih0LGUscil7XCJ1c2Ugc3RyaWN0XCI7dmFyIG49cig2KSxpPXIoNTMpLG89cigxNyksYT1yKDMpO2UuZ2V0U3RhdGVIb29rQnVpbGRlcj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiBzKHQsZSl7dmFyIHI9bmV3IG8uUmVzb2x2ZUNvbnRleHQodC50cmVlQ2hhbmdlcygpLnRvKTtyZXR1cm4gbi5zZXJ2aWNlcy4kaW5qZWN0b3IuaW52b2tlKHUsdGhpcyxhLmV4dGVuZCh7JHN0YXRlJDplfSxpLmdldExvY2FscyhyKSkpfXZhciB1PWVbdF07cmV0dXJuIHU/czp2b2lkIDB9fX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCxlKXt2YXIgcixuPXQubWF0Y2goL15cXHMqKHtbXn1dKn0pXFxzKiQvKTtpZihuJiYodD1lK1wiKFwiK25bMV0rXCIpXCIpLHI9dC5yZXBsYWNlKC9cXG4vZyxcIiBcIikubWF0Y2goL14oW14oXSs/KVxccyooXFwoKC4qKVxcKSk/JC8pLCFyfHw0IT09ci5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0ZSByZWYgJ1wiK3QrXCInXCIpO3JldHVybntzdGF0ZTpyWzFdLHBhcmFtRXhwcjpyWzNdfHxudWxsfX1mdW5jdGlvbiBpKHQpe3ZhciBlPXQucGFyZW50KCkuaW5oZXJpdGVkRGF0YShcIiR1aVZpZXdcIikscj1sLnBhcnNlKFwiJGNmZy5wYXRoXCIpKGUpO3JldHVybiByP2MudGFpbChyKS5zdGF0ZS5uYW1lOnZvaWQgMH1mdW5jdGlvbiBvKHQpe3ZhciBlPVwiW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ11cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0LnByb3AoXCJocmVmXCIpKSxyPVwiRk9STVwiPT09dFswXS5ub2RlTmFtZTtyZXR1cm57YXR0cjpyP1wiYWN0aW9uXCI6ZT9cInhsaW5rOmhyZWZcIjpcImhyZWZcIixpc0FuY2hvcjpcIkFcIj09PXQucHJvcChcInRhZ05hbWVcIikudG9VcHBlckNhc2UoKSxjbGlja2FibGU6IXJ9fWZ1bmN0aW9uIGEodCxlLHIsbixpKXtyZXR1cm4gZnVuY3Rpb24obyl7dmFyIGE9by53aGljaHx8by5idXR0b24scz1pKCk7aWYoIShhPjF8fG8uY3RybEtleXx8by5tZXRhS2V5fHxvLnNoaWZ0S2V5fHx0LmF0dHIoXCJ0YXJnZXRcIikpKXt2YXIgdT1yKGZ1bmN0aW9uKCl7ZS5nbyhzLnN0YXRlLHMucGFyYW1zLHMub3B0aW9ucyl9KTtvLnByZXZlbnREZWZhdWx0KCk7dmFyIGM9bi5pc0FuY2hvciYmIXMuaHJlZj8xOjA7by5wcmV2ZW50RGVmYXVsdD1mdW5jdGlvbigpe2MtLTw9MCYmci5jYW5jZWwodSl9fX19ZnVuY3Rpb24gcyh0LGUpe3JldHVybntyZWxhdGl2ZTppKHQpfHxlLiRjdXJyZW50LGluaGVyaXQ6ITAsc291cmNlOlwic3JlZlwifX12YXIgdT1yKDU3KSxjPXIoMyksZj1yKDQpLGw9cig1KSxwPVtcIiRzdGF0ZVwiLFwiJHRpbWVvdXRcIixmdW5jdGlvbih0LGUpe3JldHVybntyZXN0cmljdDpcIkFcIixyZXF1aXJlOltcIj9edWlTcmVmQWN0aXZlXCIsXCI/XnVpU3JlZkFjdGl2ZUVxXCJdLGxpbms6ZnVuY3Rpb24ocixpLGYsbCl7dmFyIHAsaD1uKGYudWlTcmVmLHQuY3VycmVudC5uYW1lKSx2PXtzdGF0ZTpoLnN0YXRlLGhyZWY6bnVsbCxwYXJhbXM6bnVsbCxvcHRpb25zOm51bGx9LGQ9byhpKSxtPWxbMV18fGxbMF0sZz1udWxsO3Yub3B0aW9ucz1jLmV4dGVuZChzKGksdCksZi51aVNyZWZPcHRzP3IuJGV2YWwoZi51aVNyZWZPcHRzKTp7fSk7dmFyIHk9ZnVuY3Rpb24oZSl7ZSYmKHYucGFyYW1zPXUuY29weShlKSksdi5ocmVmPXQuaHJlZihoLnN0YXRlLHYucGFyYW1zLHYub3B0aW9ucyksZyYmZygpLG0mJihnPW0uJCRhZGRTdGF0ZUluZm8oaC5zdGF0ZSx2LnBhcmFtcykpLG51bGwhPT12LmhyZWYmJmYuJHNldChkLmF0dHIsdi5ocmVmKX07aC5wYXJhbUV4cHImJihyLiR3YXRjaChoLnBhcmFtRXhwcixmdW5jdGlvbih0KXt0IT09di5wYXJhbXMmJnkodCl9LCEwKSx2LnBhcmFtcz11LmNvcHkoci4kZXZhbChoLnBhcmFtRXhwcikpKSx5KCksZC5jbGlja2FibGUmJihwPWEoaSx0LGUsZCxmdW5jdGlvbigpe3JldHVybiB2fSksaS5vbihcImNsaWNrXCIscCksci4kb24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7aS5vZmYoXCJjbGlja1wiLHApfSkpfX19XSxoPVtcIiRzdGF0ZVwiLFwiJHRpbWVvdXRcIixmdW5jdGlvbih0LGUpe3JldHVybntyZXN0cmljdDpcIkFcIixyZXF1aXJlOltcIj9edWlTcmVmQWN0aXZlXCIsXCI/XnVpU3JlZkFjdGl2ZUVxXCJdLGxpbms6ZnVuY3Rpb24ocixuLGkscyl7ZnVuY3Rpb24gdShlKXt2LnN0YXRlPWVbMF0sdi5wYXJhbXM9ZVsxXSx2Lm9wdGlvbnM9ZVsyXSx2LmhyZWY9dC5ocmVmKHYuc3RhdGUsdi5wYXJhbXMsdi5vcHRpb25zKSxkJiZkKCksbCYmKGQ9bC4kJGFkZFN0YXRlSW5mbyh2LnN0YXRlLHYucGFyYW1zKSksdi5ocmVmJiZpLiRzZXQoZi5hdHRyLHYuaHJlZil9dmFyIGMsZj1vKG4pLGw9c1sxXXx8c1swXSxwPVtpLnVpU3RhdGUsaS51aVN0YXRlUGFyYW1zfHxudWxsLGkudWlTdGF0ZU9wdHN8fG51bGxdLGg9XCJbXCIrcC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHR8fFwibnVsbFwifSkuam9pbihcIiwgXCIpK1wiXVwiLHY9e3N0YXRlOm51bGwscGFyYW1zOm51bGwsb3B0aW9uczpudWxsLGhyZWY6bnVsbH0sZD1udWxsO3IuJHdhdGNoKGgsdSwhMCksdShyLiRldmFsKGgpKSxmLmNsaWNrYWJsZSYmKGM9YShuLHQsZSxmLGZ1bmN0aW9uKCl7cmV0dXJuIHZ9KSxuLm9uKFwiY2xpY2tcIixjKSxyLiRvbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtuLm9mZihcImNsaWNrXCIsYyl9KSl9fX1dLHY9W1wiJHN0YXRlXCIsXCIkc3RhdGVQYXJhbXNcIixcIiRpbnRlcnBvbGF0ZVwiLFwiJHRyYW5zaXRpb25zXCIsXCIkdWlSb3V0ZXJcIixmdW5jdGlvbih0LGUscixvLGEpe3JldHVybntyZXN0cmljdDpcIkFcIixjb250cm9sbGVyOltcIiRzY29wZVwiLFwiJGVsZW1lbnRcIixcIiRhdHRyc1wiLFwiJHRpbWVvdXRcIixmdW5jdGlvbihlLHMsdSxsKXtmdW5jdGlvbiBwKHQpe3QucHJvbWlzZS50aGVuKGQpfWZ1bmN0aW9uIGgoZSxyLG4pe3ZhciBvPXQuZ2V0KGUsaShzKSksYT12KGUsciksdT17c3RhdGU6b3x8e25hbWU6ZX0scGFyYW1zOnIsaGFzaDphfTtyZXR1cm4gUi5wdXNoKHUpLFNbYV09bixmdW5jdGlvbigpe3ZhciB0PVIuaW5kZXhPZih1KTt0IT09LTEmJlIuc3BsaWNlKHQsMSl9fWZ1bmN0aW9uIHYodCxyKXtpZighZi5pc1N0cmluZyh0KSl0aHJvdyBuZXcgRXJyb3IoXCJzdGF0ZSBzaG91bGQgYmUgYSBzdHJpbmdcIik7cmV0dXJuIGYuaXNPYmplY3Qocik/dCtjLnRvSnNvbihyKToocj1lLiRldmFsKHIpLGYuaXNPYmplY3Qocik/dCtjLnRvSnNvbihyKTp0KX1mdW5jdGlvbiBkKCl7Zm9yKHZhciB0PTA7dDxSLmxlbmd0aDt0KyspeShSW3RdLnN0YXRlLFJbdF0ucGFyYW1zKT9tKHMsU1tSW3RdLmhhc2hdKTpnKHMsU1tSW3RdLmhhc2hdKSx3KFJbdF0uc3RhdGUsUlt0XS5wYXJhbXMpP20ocyxiKTpnKHMsYil9ZnVuY3Rpb24gbSh0LGUpe2woZnVuY3Rpb24oKXt0LmFkZENsYXNzKGUpfSl9ZnVuY3Rpb24gZyh0LGUpe3QucmVtb3ZlQ2xhc3MoZSl9ZnVuY3Rpb24geShlLHIpe3JldHVybiB0LmluY2x1ZGVzKGUubmFtZSxyKX1mdW5jdGlvbiB3KGUscil7cmV0dXJuIHQuaXMoZS5uYW1lLHIpfXZhciBiLCQsUj1bXSxTPXt9O2I9cih1LnVpU3JlZkFjdGl2ZUVxfHxcIlwiLCExKShlKTt0cnl7JD1lLiRldmFsKHUudWlTcmVmQWN0aXZlKX1jYXRjaChFKXt9JD0kfHxyKHUudWlTcmVmQWN0aXZlfHxcIlwiLCExKShlKSxmLmlzT2JqZWN0KCQpJiZjLmZvckVhY2goJCxmdW5jdGlvbihyLGkpe2lmKGYuaXNTdHJpbmcocikpe3ZhciBvPW4ocix0LmN1cnJlbnQubmFtZSk7aChvLnN0YXRlLGUuJGV2YWwoby5wYXJhbUV4cHIpLGkpfX0pLHRoaXMuJCRhZGRTdGF0ZUluZm89ZnVuY3Rpb24odCxlKXtpZighKGYuaXNPYmplY3QoJCkmJlIubGVuZ3RoPjApKXt2YXIgcj1oKHQsZSwkKTtyZXR1cm4gZCgpLHJ9fSxlLiRvbihcIiRzdGF0ZUNoYW5nZVN1Y2Nlc3NcIixkKSxlLiRvbihcIiRkZXN0cm95XCIsby5vblN0YXJ0KHt9LHApKSxhLmdsb2JhbHMudHJhbnNpdGlvbiYmcChhLmdsb2JhbHMudHJhbnNpdGlvbiksZCgpfV19fV07dS5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIikuZGlyZWN0aXZlKFwidWlTcmVmXCIscCkuZGlyZWN0aXZlKFwidWlTcmVmQWN0aXZlXCIsdikuZGlyZWN0aXZlKFwidWlTcmVmQWN0aXZlRXFcIix2KS5kaXJlY3RpdmUoXCJ1aVN0YXRlXCIsaCl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQpe3ZhciBlPWZ1bmN0aW9uKGUscixuKXtyZXR1cm4gdC5pcyhlLHIsbil9O3JldHVybiBlLiRzdGF0ZWZ1bD0hMCxlfWZ1bmN0aW9uIGkodCl7dmFyIGU9ZnVuY3Rpb24oZSxyLG4pe3JldHVybiB0LmluY2x1ZGVzKGUscixuKX07cmV0dXJuIGUuJHN0YXRlZnVsPSEwLGV9dmFyIG89cig1Nyk7bi4kaW5qZWN0PVtcIiRzdGF0ZVwiXSxlLiRJc1N0YXRlRmlsdGVyPW4saS4kaW5qZWN0PVtcIiRzdGF0ZVwiXSxlLiRJbmNsdWRlZEJ5U3RhdGVGaWx0ZXI9aSxvLm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiKS5maWx0ZXIoXCJpc1N0YXRlXCIsbikuZmlsdGVyKFwiaW5jbHVkZWRCeVN0YXRlXCIsaSl9LGZ1bmN0aW9uKHQsZSxyKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKHQsZSxyLG4sdSl7dmFyIHY9Yy5wYXJzZShcInZpZXdEZWNsLmNvbnRyb2xsZXJBc1wiKSxkPWMucGFyc2UoXCJ2aWV3RGVjbC5yZXNvbHZlQXNcIik7cmV0dXJue3Jlc3RyaWN0OlwiRUNBXCIscHJpb3JpdHk6LTQwMCxjb21waWxlOmZ1bmN0aW9uKG4pe3ZhciB1PW4uaHRtbCgpO3JldHVybiBmdW5jdGlvbihuLGMpe3ZhciBtPWMuZGF0YShcIiR1aVZpZXdcIik7aWYobSl7dmFyIGc9bS4kY2ZnfHx7dmlld0RlY2w6e319O2MuaHRtbChnLnRlbXBsYXRlfHx1KSxzLnRyYWNlLnRyYWNlVUlWaWV3RmlsbChtLiR1aVZpZXcsYy5odG1sKCkpO3ZhciB5PXQoYy5jb250ZW50cygpKSx3PWcuY29udHJvbGxlcixiPXYoZyksJD1kKGcpLFI9Zy5wYXRoJiZuZXcgZi5SZXNvbHZlQ29udGV4dChnLnBhdGgpLFM9UiYmcC5nZXRMb2NhbHMoUik7aWYoblskXT1TLHcpe3ZhciBFPWUodyxvLmV4dGVuZCh7fSxTLHskc2NvcGU6biwkZWxlbWVudDpjfSkpO2ImJihuW2JdPUUsbltiXVskXT1TKSxjLmRhdGEoXCIkbmdDb250cm9sbGVyQ29udHJvbGxlclwiLEUpLGMuY2hpbGRyZW4oKS5kYXRhKFwiJG5nQ29udHJvbGxlckNvbnRyb2xsZXJcIixFKSxpKHIsRSxuLGcpfWlmKGEuaXNTdHJpbmcoZy52aWV3RGVjbC5jb21wb25lbnQpKXZhciB4PWcudmlld0RlY2wuY29tcG9uZW50LGs9bC5rZWJvYlN0cmluZyh4KSxQPWZ1bmN0aW9uKCl7dmFyIHQ9W10uc2xpY2UuY2FsbChjWzBdLmNoaWxkcmVuKS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQudGFnTmFtZSYmdC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT1rfSk7cmV0dXJuIHQmJmguZWxlbWVudCh0KS5kYXRhKFwiJFwiK3grXCJDb250cm9sbGVyXCIpfSxfPW4uJHdhdGNoKFAsZnVuY3Rpb24odCl7dCYmKGkocix0LG4sZyksXygpKX0pO3kobil9fX19fWZ1bmN0aW9uIGkodCxlLHIsbil7IWEuaXNGdW5jdGlvbihlLiRvbkluaXQpfHxuLnZpZXdEZWNsLmNvbXBvbmVudCYmZHx8ZS4kb25Jbml0KCk7dmFyIGk9by50YWlsKG4ucGF0aCkuc3RhdGUuc2VsZixzPXtiaW5kOmV9O2lmKGEuaXNGdW5jdGlvbihlLnVpT25QYXJhbXNDaGFuZ2VkKSl7dmFyIHU9bmV3IGYuUmVzb2x2ZUNvbnRleHQobi5wYXRoKSxjPXUuZ2V0UmVzb2x2YWJsZShcIiR0cmFuc2l0aW9uJFwiKS5kYXRhLGw9ZnVuY3Rpb24odCl7aWYodCE9PWMmJnQuZXhpdGluZygpLmluZGV4T2YoaSk9PT0tMSl7dmFyIHI9dC5wYXJhbXMoXCJ0b1wiKSxuPXQucGFyYW1zKFwiZnJvbVwiKSxhPXQudHJlZUNoYW5nZXMoKS50by5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQucGFyYW1TY2hlbWF9KS5yZWR1Y2Uoby51bm5lc3RSLFtdKSxzPXQudHJlZUNoYW5nZXMoKS5mcm9tLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5wYXJhbVNjaGVtYX0pLnJlZHVjZShvLnVubmVzdFIsW10pLHU9YS5maWx0ZXIoZnVuY3Rpb24odCl7dmFyIGU9cy5pbmRleE9mKHQpO3JldHVybiBlPT09LTF8fCFzW2VdLnR5cGUuZXF1YWxzKHJbdC5pZF0sblt0LmlkXSl9KTtpZih1Lmxlbmd0aCl7dmFyIGY9dS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KTtlLnVpT25QYXJhbXNDaGFuZ2VkKG8uZmlsdGVyKHIsZnVuY3Rpb24odCxlKXtyZXR1cm4gZi5pbmRleE9mKGUpIT09LTF9KSx0KX19fTtyLiRvbihcIiRkZXN0cm95XCIsdC5vblN1Y2Nlc3Moe30sbCxzKSl9aWYoYS5pc0Z1bmN0aW9uKGUudWlDYW5FeGl0KSl7dmFyIHA9e2V4aXRpbmc6aS5uYW1lfTtyLiRvbihcIiRkZXN0cm95XCIsdC5vbkJlZm9yZShwLGUudWlDYW5FeGl0LHMpKX19dmFyIG89cigzKSxhPXIoNCkscz1yKDEyKSx1PXIoNTUpLGM9cig1KSxmPXIoMTcpLGw9cig5KSxwPXIoNTMpLGg9cig1Nyksdj1bXCIkdmlld1wiLFwiJGFuaW1hdGVcIixcIiR1aVZpZXdTY3JvbGxcIixcIiRpbnRlcnBvbGF0ZVwiLFwiJHFcIixmdW5jdGlvbih0LGUscixuLGkpe2Z1bmN0aW9uIG8odCxyKXtyZXR1cm57ZW50ZXI6ZnVuY3Rpb24odCxyLG4pe2gudmVyc2lvbi5taW5vcj4yP2UuZW50ZXIodCxudWxsLHIpLnRoZW4obik6ZS5lbnRlcih0LG51bGwscixuKX0sbGVhdmU6ZnVuY3Rpb24odCxyKXtoLnZlcnNpb24ubWlub3I+Mj9lLmxlYXZlKHQpLnRoZW4ocik6ZS5sZWF2ZSh0LHIpfX19ZnVuY3Rpb24gZih0LGUpe3JldHVybiB0PT09ZX12YXIgbD17JGNmZzp7dmlld0RlY2w6eyRjb250ZXh0OnQucm9vdENvbnRleHQoKX19LCR1aVZpZXc6e319LHA9e2NvdW50OjAscmVzdHJpY3Q6XCJFQ0FcIix0ZXJtaW5hbDohMCxwcmlvcml0eTo0MDAsdHJhbnNjbHVkZTpcImVsZW1lbnRcIixjb21waWxlOmZ1bmN0aW9uKGUsaCx2KXtyZXR1cm4gZnVuY3Rpb24oZSxoLGQpe2Z1bmN0aW9uIG0odCl7KCF0fHx0IGluc3RhbmNlb2YgdS5OZzFWaWV3Q29uZmlnKSYmKGYoayx0KXx8KHMudHJhY2UudHJhY2VVSVZpZXdDb25maWdVcGRhdGVkKEMsdCYmdC52aWV3RGVjbCYmdC52aWV3RGVjbC4kY29udGV4dCksaz10LHkodCkpKX1mdW5jdGlvbiBnKCl7aWYodyYmKHMudHJhY2UudHJhY2VVSVZpZXdFdmVudChcIlJlbW92aW5nIChwcmV2aW91cykgZWxcIix3LmRhdGEoXCIkdWlWaWV3XCIpKSx3LnJlbW92ZSgpLHc9bnVsbCksJCYmKHMudHJhY2UudHJhY2VVSVZpZXdFdmVudChcIkRlc3Ryb3lpbmcgc2NvcGVcIixDKSwkLiRkZXN0cm95KCksJD1udWxsKSxiKXt2YXIgdD1iLmRhdGEoXCIkdWlWaWV3QW5pbVwiKTtzLnRyYWNlLnRyYWNlVUlWaWV3RXZlbnQoXCJBbmltYXRlIG91dFwiLHQpLHgubGVhdmUoYixmdW5jdGlvbigpe3QuJCRhbmltTGVhdmUucmVzb2x2ZSgpLHc9bnVsbH0pLHc9YixiPW51bGx9fWZ1bmN0aW9uIHkodCl7dmFyIG49ZS4kbmV3KCksbz1pLmRlZmVyKCkscz1pLmRlZmVyKCksdT17JGNmZzp0LCR1aVZpZXc6Q30sYz17JGFuaW1FbnRlcjpvLnByb21pc2UsJGFuaW1MZWF2ZTpzLnByb21pc2UsJCRhbmltTGVhdmU6c30sZj12KG4sZnVuY3Rpb24odCl7dC5kYXRhKFwiJHVpVmlld0FuaW1cIixjKSx0LmRhdGEoXCIkdWlWaWV3XCIsdSksXG54LmVudGVyKHQsaCxmdW5jdGlvbigpe28ucmVzb2x2ZSgpLCQmJiQuJGVtaXQoXCIkdmlld0NvbnRlbnRBbmltYXRpb25FbmRlZFwiKSwoYS5pc0RlZmluZWQoRSkmJiFFfHxlLiRldmFsKEUpKSYmcih0KX0pLGcoKX0pO2I9ZiwkPW4sJC4kZW1pdChcIiR2aWV3Q29udGVudExvYWRlZFwiLHR8fGspLCQuJGV2YWwoUyl9dmFyIHcsYiwkLFIsUz1kLm9ubG9hZHx8XCJcIixFPWQuYXV0b3Njcm9sbCx4PW8oZCxlKSxrPXZvaWQgMCxQPWguaW5oZXJpdGVkRGF0YShcIiR1aVZpZXdcIil8fGwsXz1uKGQudWlWaWV3fHxkLm5hbWV8fFwiXCIpKGUpfHxcIiRkZWZhdWx0XCIsQz17JHR5cGU6XCJuZzFcIixpZDpwLmNvdW50KyssbmFtZTpfLGZxbjpQLiR1aVZpZXcuZnFuP1AuJHVpVmlldy5mcW4rXCIuXCIrXzpfLGNvbmZpZzpudWxsLGNvbmZpZ1VwZGF0ZWQ6bSxnZXQgY3JlYXRpb25Db250ZXh0KCl7cmV0dXJuIGMucGFyc2UoXCIkY2ZnLnZpZXdEZWNsLiRjb250ZXh0XCIpKFApfX07cy50cmFjZS50cmFjZVVJVmlld0V2ZW50KFwiTGlua2luZ1wiLEMpLGguZGF0YShcIiR1aVZpZXdcIix7JHVpVmlldzpDfSkseSgpLFI9dC5yZWdpc3RlclVJVmlldyhDKSxlLiRvbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtzLnRyYWNlLnRyYWNlVUlWaWV3RXZlbnQoXCJEZXN0cm95aW5nL1VucmVnaXN0ZXJpbmdcIixDKSxSKCl9KX19fTtyZXR1cm4gcH1dO24uJGluamVjdD1bXCIkY29tcGlsZVwiLFwiJGNvbnRyb2xsZXJcIixcIiR0cmFuc2l0aW9uc1wiLFwiJHZpZXdcIixcIiR0aW1lb3V0XCJdO3ZhciBkPVwiZnVuY3Rpb25cIj09dHlwZW9mIGgubW9kdWxlKFwidWkucm91dGVyXCIpLmNvbXBvbmVudDtoLm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiKS5kaXJlY3RpdmUoXCJ1aVZpZXdcIix2KSxoLm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiKS5kaXJlY3RpdmUoXCJ1aVZpZXdcIixuKX0sZnVuY3Rpb24odCxlLHIpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4oKXt2YXIgdD0hMTt0aGlzLnVzZUFuY2hvclNjcm9sbD1mdW5jdGlvbigpe3Q9ITB9LHRoaXMuJGdldD1bXCIkYW5jaG9yU2Nyb2xsXCIsXCIkdGltZW91dFwiLGZ1bmN0aW9uKGUscil7cmV0dXJuIHQ/ZTpmdW5jdGlvbih0KXtyZXR1cm4gcihmdW5jdGlvbigpe3RbMF0uc2Nyb2xsSW50b1ZpZXcoKX0sMCwhMSl9fV19dmFyIGk9cig1Nyk7aS5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIikucHJvdmlkZXIoXCIkdWlWaWV3U2Nyb2xsXCIsbil9XSl9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuZ3VsYXItdWktcm91dGVyLm1pbi5qcy5tYXAiLCIvKlxyXG5uZ3Byb2dyZXNzIDEuMS4yIC0gc2xpbSwgc2l0ZS13aWRlIHByb2dyZXNzYmFyIGZvciBBbmd1bGFySlMgXHJcbihDKSAyMDEzIC0gVmljdG9yIEJqZWxraG9sbSBcclxuTGljZW5zZTogTUlUIFxyXG5Tb3VyY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9WaWN0b3JCamVsa2hvbG0vbmdQcm9ncmVzcyBcclxuRGF0ZSBDb21waWxlZDogMjAxNS0wNy0yNyBcclxuKi9cclxuYW5ndWxhci5tb2R1bGUoXCJuZ1Byb2dyZXNzLnByb3ZpZGVyXCIsW1wibmdQcm9ncmVzcy5kaXJlY3RpdmVcIl0pLnNlcnZpY2UoXCJuZ1Byb2dyZXNzXCIsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtyZXR1cm5bXCIkZG9jdW1lbnRcIixcIiR3aW5kb3dcIixcIiRjb21waWxlXCIsXCIkcm9vdFNjb3BlXCIsXCIkdGltZW91dFwiLGZ1bmN0aW9uKGEsYixjLGQsZSl7dGhpcy5hdXRvU3R5bGU9ITAsdGhpcy5jb3VudD0wLHRoaXMuaGVpZ2h0PVwiMnB4XCIsdGhpcy4kc2NvcGU9ZC4kbmV3KCksdGhpcy5jb2xvcj1cImZpcmVicmlja1wiLHRoaXMucGFyZW50PWEuZmluZChcImJvZHlcIilbMF0sdGhpcy5jb3VudD0wLHRoaXMucHJvZ3Jlc3NiYXJFbD1jKFwiPG5nLXByb2dyZXNzPjwvbmctcHJvZ3Jlc3M+XCIpKHRoaXMuJHNjb3BlKSx0aGlzLnBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLnByb2dyZXNzYmFyRWxbMF0pLHRoaXMuJHNjb3BlLmNvdW50PXRoaXMuY291bnQsdm9pZCAwIT09dGhpcy5oZWlnaHQmJnRoaXMucHJvZ3Jlc3NiYXJFbC5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImhlaWdodFwiLHRoaXMuaGVpZ2h0KSx2b2lkIDAhPT10aGlzLmNvbG9yJiYodGhpcy5wcm9ncmVzc2JhckVsLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLHRoaXMuY29sb3IpLHRoaXMucHJvZ3Jlc3NiYXJFbC5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImNvbG9yXCIsdGhpcy5jb2xvcikpLHRoaXMuaW50ZXJ2YWxDb3VudGVySWQ9MCx0aGlzLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5zaG93KCk7dmFyIGE9dGhpcztjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudGVySWQpLHRoaXMuaW50ZXJ2YWxDb3VudGVySWQ9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtpc05hTihhLmNvdW50KT8oY2xlYXJJbnRlcnZhbChhLmludGVydmFsQ291bnRlcklkKSxhLmNvdW50PTAsYS5oaWRlKCkpOihhLnJlbWFpbmluZz0xMDAtYS5jb3VudCxhLmNvdW50PWEuY291bnQrLjE1Kk1hdGgucG93KDEtTWF0aC5zcXJ0KGEucmVtYWluaW5nKSwyKSxhLnVwZGF0ZUNvdW50KGEuY291bnQpKX0sMjAwKX0sdGhpcy51cGRhdGVDb3VudD1mdW5jdGlvbihhKXt0aGlzLiRzY29wZS5jb3VudD1hLHRoaXMuJHNjb3BlLiQkcGhhc2V8fHRoaXMuJHNjb3BlLiRhcHBseSgpfSx0aGlzLnNldEhlaWdodD1mdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwIT09YSYmKHRoaXMuaGVpZ2h0PWEsdGhpcy4kc2NvcGUuaGVpZ2h0PXRoaXMuaGVpZ2h0LHRoaXMuJHNjb3BlLiQkcGhhc2V8fHRoaXMuJHNjb3BlLiRhcHBseSgpKSx0aGlzLmhlaWdodH0sdGhpcy5zZXRDb2xvcj1mdW5jdGlvbihhKXtyZXR1cm4gdm9pZCAwIT09YSYmKHRoaXMuY29sb3I9YSx0aGlzLiRzY29wZS5jb2xvcj10aGlzLmNvbG9yLHRoaXMuJHNjb3BlLiQkcGhhc2V8fHRoaXMuJHNjb3BlLiRhcHBseSgpKSx0aGlzLmNvbG9yfSx0aGlzLmhpZGU9ZnVuY3Rpb24oKXt0aGlzLnByb2dyZXNzYmFyRWwuY2hpbGRyZW4oKS5jc3MoXCJvcGFjaXR5XCIsXCIwXCIpO3ZhciBhPXRoaXM7YS5hbmltYXRlKGZ1bmN0aW9uKCl7YS5wcm9ncmVzc2JhckVsLmNoaWxkcmVuKCkuY3NzKFwid2lkdGhcIixcIjAlXCIpLGEuYW5pbWF0ZShmdW5jdGlvbigpe2Euc2hvdygpfSw1MDApfSw1MDApfSx0aGlzLnNob3c9ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuYW5pbWF0ZShmdW5jdGlvbigpe2EucHJvZ3Jlc3NiYXJFbC5jaGlsZHJlbigpLmNzcyhcIm9wYWNpdHlcIixcIjFcIil9LDEwMCl9LHRoaXMuYW5pbWF0ZT1mdW5jdGlvbihhLGIpe3ZvaWQgMCE9PXRoaXMuYW5pbWF0aW9uJiZlLmNhbmNlbCh0aGlzLmFuaW1hdGlvbiksdGhpcy5hbmltYXRpb249ZShhLGIpfSx0aGlzLnN0YXR1cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvdW50fSx0aGlzLnN0b3A9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxDb3VudGVySWQpfSx0aGlzLnNldD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zaG93KCksdGhpcy51cGRhdGVDb3VudChhKSx0aGlzLmNvdW50PWEsY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsQ291bnRlcklkKSx0aGlzLmNvdW50fSx0aGlzLmNzcz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wcm9ncmVzc2JhckVsLmNoaWxkcmVuKCkuY3NzKGEpfSx0aGlzLnJlc2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbENvdW50ZXJJZCksdGhpcy5jb3VudD0wLHRoaXMudXBkYXRlQ291bnQodGhpcy5jb3VudCksMH0sdGhpcy5jb21wbGV0ZT1mdW5jdGlvbigpe3RoaXMuY291bnQ9MTAwLHRoaXMudXBkYXRlQ291bnQodGhpcy5jb3VudCk7dmFyIGE9dGhpcztyZXR1cm4gY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsQ291bnRlcklkKSxlKGZ1bmN0aW9uKCl7YS5oaWRlKCksZShmdW5jdGlvbigpe2EuY291bnQ9MCxhLnVwZGF0ZUNvdW50KGEuY291bnQpfSw1MDApfSwxZTMpLHRoaXMuY291bnR9LHRoaXMuc2V0UGFyZW50PWZ1bmN0aW9uKGEpe2lmKG51bGw9PT1hfHx2b2lkIDA9PT1hKXRocm93IG5ldyBFcnJvcihcIlByb3ZpZGUgYSB2YWxpZCBwYXJlbnQgb2YgdHlwZSBIVE1MRWxlbWVudFwiKTtudWxsIT09dGhpcy5wYXJlbnQmJnZvaWQgMCE9PXRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzLnByb2dyZXNzYmFyRWxbMF0pLHRoaXMucGFyZW50PWEsdGhpcy5wYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy5wcm9ncmVzc2JhckVsWzBdKX0sdGhpcy5nZXREb21FbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvZ3Jlc3NiYXJFbH0sdGhpcy5zZXRBYnNvbHV0ZT1mdW5jdGlvbigpe3RoaXMucHJvZ3Jlc3NiYXJFbC5jc3MoXCJwb3NpdGlvblwiLFwiYWJzb2x1dGVcIil9fV19KS5mYWN0b3J5KFwibmdQcm9ncmVzc0ZhY3RvcnlcIixbXCIkaW5qZWN0b3JcIixcIm5nUHJvZ3Jlc3NcIixmdW5jdGlvbihhLGIpe3ZhciBjPXtjcmVhdGVJbnN0YW5jZTpmdW5jdGlvbigpe3JldHVybiBhLmluc3RhbnRpYXRlKGIpfX07cmV0dXJuIGN9XSksYW5ndWxhci5tb2R1bGUoXCJuZ1Byb2dyZXNzLmRpcmVjdGl2ZVwiLFtdKS5kaXJlY3RpdmUoXCJuZ1Byb2dyZXNzXCIsW1wiJHdpbmRvd1wiLFwiJHJvb3RTY29wZVwiLGZ1bmN0aW9uKGEsYil7dmFyIGM9e3JlcGxhY2U6ITAscmVzdHJpY3Q6XCJFXCIsbGluazpmdW5jdGlvbihhLGIsYyxkKXthLiR3YXRjaChcImNvdW50XCIsZnVuY3Rpb24oYyl7KHZvaWQgMCE9PWN8fG51bGwhPT1jKSYmKGEuY291bnRlcj1jLGIuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJ3aWR0aFwiLGMrXCIlXCIpKX0pLGEuJHdhdGNoKFwiY29sb3JcIixmdW5jdGlvbihjKXsodm9pZCAwIT09Y3x8bnVsbCE9PWMpJiYoYS5jb2xvcj1jLGIuZXEoMCkuY2hpbGRyZW4oKS5jc3MoXCJiYWNrZ3JvdW5kLWNvbG9yXCIsYyksYi5lcSgwKS5jaGlsZHJlbigpLmNzcyhcImNvbG9yXCIsYykpfSksYS4kd2F0Y2goXCJoZWlnaHRcIixmdW5jdGlvbihjKXsodm9pZCAwIT09Y3x8bnVsbCE9PWMpJiYoYS5oZWlnaHQ9YyxiLmVxKDApLmNoaWxkcmVuKCkuY3NzKFwiaGVpZ2h0XCIsYykpfSl9LHRlbXBsYXRlOic8ZGl2IGlkPVwibmdQcm9ncmVzcy1jb250YWluZXJcIj48ZGl2IGlkPVwibmdQcm9ncmVzc1wiPjwvZGl2PjwvZGl2Pid9O3JldHVybiBjfV0pLGFuZ3VsYXIubW9kdWxlKFwibmdQcm9ncmVzc1wiLFtcIm5nUHJvZ3Jlc3MuZGlyZWN0aXZlXCIsXCJuZ1Byb2dyZXNzLnByb3ZpZGVyXCJdKTsiLCIoZnVuY3Rpb24oKSB7XHJcbmFuZ3VsYXIubW9kdWxlKCd0YXhpU2VydmljZUFwcCcsIFsnbmdQcm9ncmVzcycsICd1aS5yb3V0ZXInXSk7XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ3RheGlTZXJ2aWNlQXBwJykuY29uZmlnKGNvbmZpZyk7XHJcblxyXG4gICAgY29uZmlnLiRpbmplY3QgPSBbJyRzdGF0ZVByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJ107XHJcblxyXG4gICAgZnVuY3Rpb24gY29uZmlnKCRzdGF0ZVByb3ZpZGVyLCAkbG9jYXRpb25Qcm92aWRlcikge1xyXG4gICAgICAgICRsb2NhdGlvblByb3ZpZGVyLmhhc2hQcmVmaXgoJyEnKTtcclxuXHJcbiAgICAgICAgdmFyIHN0YXRlcyA9IFtcclxuICAgICAgICAgICB7IG5hbWU6ICd1c2VycycsIHVybDogJy91c2VycycsIGNvbXBvbmVudDogJ3VzZXJzQ29tcG9uZW50JyB9LFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHN0YXRlcy5mb3JFYWNoKGZ1bmN0aW9uKHN0YXRlKSB7XHJcbiAgICAgICAgICAgICRzdGF0ZVByb3ZpZGVyLnN0YXRlKHN0YXRlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ3RheGlTZXJ2aWNlQXBwJylcclxuICAgICAgICAuZmFjdG9yeSgnYmFzZUh0dHBTZXJ2aWNlJywgYmFzZUh0dHBTZXJ2aWNlKTtcclxuICAgIFxyXG4gICAgYmFzZUh0dHBTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJ107XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGJhc2VIdHRwU2VydmljZSgkaHR0cCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG1ha2VSZXF1ZXN0OiBmdW5jdGlvbihtZXRob2RBcmcsIHVybEFyZywgZGF0YUFyZywgaGVhZGVyc0FyZykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlcXVlc3RDb25maWdPYmplY3QgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBtZXRob2RBcmcsXHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmxBcmcsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogZGF0YUFyZyxcclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzQXJnXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiAkaHR0cChyZXF1ZXN0Q29uZmlnT2JqZWN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9IFxyXG59KSgpOyIsIihmdW5jdGlvbigpIHtcclxuICAgIGFuZ3VsYXJcclxuICAgICAgICAubW9kdWxlKCd0YXhpU2VydmljZUFwcCcpXHJcbiAgICAgICAgLmZhY3RvcnkoJ2NvbnN0YW50c1NlcnZpY2UnLCBjb25zdGFudHNTZXJ2aWNlKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb25zdGFudHNTZXJ2aWNlKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIFNFUlZFUl9VUkw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpJ1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ3RheGlTZXJ2aWNlQXBwJylcclxuICAgICAgICAuZmFjdG9yeSgncHJvZ3Jlc3NCYXJTZXJ2aWNlJywgcHJvZ3Jlc3NCYXJTZXJ2aWNlKTtcclxuXHJcbiAgICAgICAgcHJvZ3Jlc3NCYXJTZXJ2aWNlLiRpbmplY3QgPSBbJ25nUHJvZ3Jlc3NGYWN0b3J5J107XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHByb2dyZXNzQmFyU2VydmljZShuZ1Byb2dyZXNzRmFjdG9yeSkge1xyXG4gICAgICAgICAgICB2YXIgcHJvZ3Jlc3NCYXIgPSBuZ1Byb2dyZXNzRmFjdG9yeS5jcmVhdGVJbnN0YW5jZSgpO1xyXG5cclxuICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc2V0SGVpZ2h0KCc3cHgnKTtcclxuICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc2V0Q29sb3IoJyNlY2YwZjEnKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzdGFydDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc3RhcnQoKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuY29tcGxldGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCkge1xyXG4gICAgYW5ndWxhclxyXG4gICAgICAgIC5tb2R1bGUoJ3RheGlTZXJ2aWNlQXBwJylcclxuICAgICAgICAuZmFjdG9yeSgndXNlcnNIdHRwU2VydmljZScsIHVzZXJzSHR0cFNlcnZpY2UpO1xyXG4gICAgXHJcbiAgICB1c2Vyc0h0dHBTZXJ2aWNlLiRpbmplY3QgPSBbJ2Jhc2VIdHRwU2VydmljZScsICdjb25zdGFudHNTZXJ2aWNlJ107XHJcblxyXG4gICAgZnVuY3Rpb24gdXNlcnNIdHRwU2VydmljZShiYXNlSHR0cFNlcnZpY2UsIGNvbnN0YW50c1NlcnZpY2UpIHtcclxuICAgICAgICB2YXIgdXNlcnNVcmwgPSBjb25zdGFudHNTZXJ2aWNlLlNFUlZFUl9VUkwgKyAnL3VzZXJzLyc7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGdldEFsbDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYmFzZUh0dHBTZXJ2aWNlLm1ha2VSZXF1ZXN0KCdHRVQnLCB1c2Vyc1VybClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGVsZXRlQnlpZDogZnVuY3Rpb24oaWQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBiYXNlSHR0cFNlcnZpY2UubWFrZVJlcXVlc3QoJ0RFTEVURScsIHVzZXJzVXJsICsgaWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufSkoKTsiLCIoZnVuY3Rpb24oKSB7XHJcbiAgICBhbmd1bGFyXHJcbiAgICAgICAgLm1vZHVsZSgndGF4aVNlcnZpY2VBcHAnKVxyXG4gICAgICAgIC5jb21wb25lbnQoJ3VzZXJzQ29tcG9uZW50Jywge1xyXG4gICAgICAgICAgIHRlbXBsYXRlVXJsOiAnLi4vdGVtcGxhdGVzL2NvbXBvbmVudHMvdXNlcnMvdXNlcnMudGVtcGxhdGUuaHRtbCcsXHJcbiAgICAgICAgICAgY29udHJvbGxlcjogVXNlcnNDb250cm9sbGVyLFxyXG4gICAgICAgIH0pO1xyXG4gICAgXHJcbiAgICBVc2Vyc0NvbnRyb2xsZXIuJGluamVjdCA9IFsndXNlcnNIdHRwU2VydmljZSddO1xyXG5cclxuICAgIGZ1bmN0aW9uIFVzZXJzQ29udHJvbGxlcih1c2Vyc0h0dHBTZXJ2aWNlKSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICBzZWxmLmdldEFsbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB1c2Vyc0h0dHBTZXJ2aWNlLmdldEFsbCgpXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYudXNlcnMgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNlbGYuZGVsZXRlQnlJZCA9IGZ1bmN0aW9uKGlkKSB7XHJcbiAgICAgICAgICAgIHVzZXJzSHR0cFNlcnZpY2UuZGVsZXRlQnlJZChpZClcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZi5nZXRBbGwoKTtcclxuICAgIH1cclxufSkoKTsiXX0=
