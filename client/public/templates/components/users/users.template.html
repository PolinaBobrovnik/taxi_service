<div class="main-actions">
    <button class="btn btn-default" ng-click="$ctrl.addOne()"><i class="fa fa-user-plus" aria-hidden="true"></i> Add new user</button>
</div>

<table class="table table-bordered">
    <thead>
      <tr>
        <th>username</th>
        <th>role</th>
        <th>emails</th>
        <th>phones</th>
        <th>actions</th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="user in $ctrl.users">
        <td>{{ user.username }}</td>
        <td>{{ user.role }}</td>
        <td>
            <ul>
                <li ng-repeat="email in user.emails">
                    {{ email.email }}
                    <button class="btn btn-danger" ng-click="$ctrl.deleteEmail(email.id)">Delete</button>
                </li>
            </ul>
        </td>
        <td>
             <ul>
                <li ng-repeat="phone in user.phones">
                    {{ phone.number }}
                    <button class="btn btn-danger" ng-click="$ctrl.deletePhone(phone.id)">Delete</button>
                </li>
            </ul>
        </td>
        <td>
            <button class="btn btn-default" ng-click="$ctrl.addPhone(user.id)">Add phone</button>
            <button class="btn btn-default" ng-click="$ctrl.addEmail(user.id)">Add email</button>
            <button class="btn btn-default" ng-click="$ctrl.updateOne(user)">Update</button>
            <button class="btn btn-danger" ng-click="$ctrl.deleteOneById(user.id)">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>